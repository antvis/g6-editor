!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.G6Editor=e():t.G6Editor=e()}(window,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=208)}([,,,,,,,,,,,function(t,e,n){var r={},i=n(176),o=n(386),a=n(46),s=n(149),u=n(385),c=n(384),h=n(383);a.mix(r,a,u,c,s,o,i,h),t.exports=r},function(t,e,n){var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(34),o=n(13),a=n(18),s={getPath:function(){},getStyle:function(){},getActivedStyle:function(){},getSelectedStyle:function(){}};function u(t,e){var n=[];return a.isString(t)?n=[e,t]:a.isArray(t)?(t.unshift(e),n=t):n=[e],n.unshift("page-base"),n}i.registerNode("page-base",r({},s)),i.registerEdge("page-base",r({},s)),i.registerGroup("page-base",r({},s)),o.registerBehaviour=function(t,e,n){i.registerBehaviour(t,function(t){var n=t.get("page");n.set("_graph",t),e(n)},n)},o.setRegister=function(t,e,n,r){t.registerNode=i.registerNode,t.registerEdge=i.registerEdge,t.registerGroup=i.registerGroup,t.registerGuide=i.registerGuide,e&&(t.registerNode=function(t,n,r){o.registerNode(t,n,u(r,e))}),n&&(t.registerEdge=function(t,e,r){o.registerEdge(t,e,u(r,n))}),r&&(t.registerGroup=function(t,e,n){o.registerGroup(t,e,u(n,r))})},o.registerNode=i.registerNode,o.registerEdge=i.registerEdge,o.registerGroup=i.registerGroup,o.registerGuide=i.registerGuide,n(329),t.exports=o},function(t,e,n){var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var i=n(179),o=n(18),a=n(339),s=n(338),u=n(336),c=[a,n(335),n(334),s,u,n(333),n(331),n(330)],h=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n={defaultData:null,shortcut:{redo:!0,undo:!0,delete:!0,resetZoom:!0,autoZoom:!0,zoomIn:!0,zoomOut:!0},_controllers:{},_signals:{}};o.each(c,function(t){o.mix(n,t.CFG)}),o.mix(!0,n,t);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.isPage=!0,r.type="page",r._init(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i),r(e,[{key:"getDelegation",value:function(){}},{key:"focusGraphWrapper",value:function(){this.getGraph().getKeyboardEventWrapper().focus()}},{key:"saveImage",value:function(){var t=this,e=this.getGraph(),n=e.getBBox(),r=e.getFitViewPadding(),i=void 0,a=void 0;return o.graph2Canvas({graph:e,width:n.width+r[1]+r[3],height:n.height+r[0]+r[2],beforeTransform:function(){i=t.getSelected().map(function(t){return t.id}),a=t.getSelected().map(function(t){return t.id}),t.clearSelected(),t.clearActived()},afterTransform:function(){t.setSelected(i,!0),t.setActived(a,!0)}})}},{key:"executeCommand",value:function(t,e){var n=this.editor;n?n.executeCommand(t,e):t()}},{key:"_init",value:function(){var t=this;o.each(c,function(e){e.INIT&&t[e.INIT]()}),this.bindEvent()}},{key:"_cacheBBox",value:function(){var t=this.getGraph();this.set("bboxCache",t.getBBox())}},{key:"bindEvent",value:function(){var t=this;this.getGraph().on("afterchange",function(){t._cacheBBox()})}},{key:"translateLimt",value:function(t){var e=this.getGraph(),n=this.get("bboxCache"),r=e.getWidth(),i=e.getHeight(),a=[n.minX,n.minY,1],s=[n.maxX,n.maxY,1];return o.vec3.transformMat3(a,a,t),o.vec3.transformMat3(s,s,t),s[0]<100&&o.mat3.translate(t,t,[100-s[0],0]),s[1]<100&&o.mat3.translate(t,t,[0,100-s[1]]),a[1]>i-100&&o.mat3.translate(t,t,[0,i-100-a[1]]),a[0]>r-100&&o.mat3.translate(t,t,[r-100-a[0],0]),!0}},{key:"setSignal",value:function(t,e){this.get("_signals")[t]=e}},{key:"getSignal",value:function(t){return this.get("_signals")[t]}},{key:"setController",value:function(t,e){this.get("_controllers")[t]=e}},{key:"getController",value:function(t){return this.get("_controllers")[t]}},{key:"destroy",value:function(){var t=this.get("_graph"),e=this.get("_controllers");o.each(e,function(t){t.destroy()}),t.destroy()}}]),e}();o.each(c,function(t){o.mix(h.prototype,t.AUGMENT)}),t.exports=h},function(t,e,n){var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(34),o=n(142),a=n(309),s=n(308),u=r({},i.Util,o,a,s);t.exports=u},function(t,e){t.exports={nodeDefaultShape:"flow-node",edgeDefaultShape:"flow-smooth",groupDefaultShape:"flow-group",groupBackgroundPadding:[40,10,10,10],groupLabelOffsetX:10,groupLabelOffsetY:10,multiSelectRectStyle:{fill:"#1890FF",fillOpacity:.08,stroke:"#1890FF",opacity:.1},defaultNodeSize:[96,48],edgeLabelStyle:{fill:"#666",textAlign:"center",textBaseline:"middle"},edgeLabelRectPadding:4,edgeLabelRectStyle:{fill:"white"},nodeLabelStyle:{fill:"#666",textAlign:"center",textBaseline:"middle"},groupStyle:{stroke:"#CED4D9",fill:"#F2F4F5",radius:4},groupLabelStyle:{fill:"#666",textAlign:"left",textBaseline:"top"},nodeActivedOutterStyle:{stroke:null},nodeActivedOutterLineWidth:2,nodeSelectedStyle:{fill:"#F3F9FF",stroke:"#1890FF"},nodeSelectedOutterStyle:{stroke:"#E0F0FF"},nodeSelectedOutterLineWidth:2,groupSelectedOutterStyle:{stroke:"#E0F0FF",fill:"#E0F0FF"},groupSelectedOutterLineWidth:2,nodeActivedStyle:{fill:"#F3F9FF",stroke:"#1890FF"},groupActivedStyle:{stroke:"#1890FF"},arrowRadius:6,groupSelectedStyle:{stroke:"#1890FF",fill:"#F3F9FF",fillOpacity:.92},edgeSelectedStyle:{lineWidth:2,strokeOpacity:.92,stroke:"#A3B1BF"},dragNodeHoverToGroupStyle:{stroke:"#1890FF",lineWidth:2},dragNodeLeaveFromGroupStyle:{stroke:"#BAE7FF",lineWidth:2},nodeStyle:{stroke:"#CED4D9",fill:"#FFFFFF",shadowOffsetX:0,shadowOffsetY:4,shadowBlur:10,shadowColor:"rgba(13, 26, 38, 0.08)",lineWidth:1,radius:4,fillOpacity:.92},edgeStyle:{stroke:"#A3B1BF",strokeOpacity:.92,lineWidth:1,lineAppendWidth:8,endArrow:!0},edgeActivedStyle:{stroke:"#1890FF",strokeOpacity:.92},anchorPointStyle:{radius:3.5,fill:"#fff",stroke:"#1890FF",lineAppendWidth:12},anchorHotsoptStyle:{radius:12,fill:"#1890FF",fillOpacity:.25},anchorHotsoptActivedStyle:{radius:14},anchorPointHoverStyle:{radius:4,fill:"#1890FF",fillOpacity:1,stroke:"#1890FF"},nodeDelegationStyle:{stroke:"#1890FF",fill:"#1890FF",fillOpacity:.08,lineDash:[4,4],radius:4,lineWidth:1},groupDelegationStyle:{stroke:"#1890FF",fill:"#1890FF",fillOpacity:.08,lineDash:[4,4],radius:4,lineWidth:1},edgeDelegationStyle:{stroke:"#697B8C",lineWidth:1},nodeControlPointStyle:{radius:4,fill:"#fff",shadowBlur:4,shadowColor:"#666"},edgeControlPointStyle:{radius:6,symbol:"square",lineAppendWidth:6,fillOpacity:0,strokeOpacity:0},nodeSelectedBoxStyle:{stroke:"#C2C2C2"},cursor:{panningCanvas:"-webkit-grabbing",beforePanCanvas:"-webkit-grab",hoverNode:"move",hoverEffectiveAnchor:"crosshair",hoverEdge:"default",hoverGroup:"move",hoverUnEffectiveAnchor:"default",hoverEdgeControllPoint:"crosshair",multiSelect:"crosshair"},zIndex:{anchorPoint:3,anchorHotsopt:2,selectedBox:1,controlPoint:4},polylineEdgeStyle:{offset:10,borderRadius:5},addToGroupDelayTime:400,outFromGroupDelayTime:400}},,,function(t,e,n){var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(30),o=n(67);t.exports=r({},i,{getPanCanvasBehaviour:function(t){return function(e){var n=e.getGraph(),r=n.getFrontCanvas(),a=n.getCanvas(),s=void 0,u=void 0;n.behaviourOn("canvas:mouseenter",function(){e.css({cursor:o.cursor.beforePanCanvas})}),n.behaviourOn("mouseleave",function(t){t.toShape||e.css({cursor:o.cursor.beforePanCanvas})}),n.behaviourOn("dragstart",function(r){(2!==r.button&&!t||!r.shape||r.item&&!1===r.item.dragable)&&(s={x:r.domX,y:r.domY},e.css({cursor:o.cursor.panningCanvas}),u=n.getMatrix(),e.setCapture(!1))}),n.behaviourOn("drag",function(t){if(s){var o=t.domX-s.x,c=t.domY-s.y,h=[];i.mat3.translate(h,u,[o,c]),e.translateLimt(h)&&(n.updateMatrix(h),a.draw(),r.draw())}}),n.behaviourOn("dragend",function(){s=void 0,u=void 0,e.setCapture(!0),e.css({cursor:o.cursor.beforePanCanvas})})}},getLabelTextByTextLineWidth:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:320,r=e.measureText(t).width;if(r>n){r=0;for(var i=1;i<t.length;i++)(r+=e.measureText(t[i]).width)>=n&&(t=t.substring(0,i)+"\n"+t.substring(i,t.length),i+=1,r=0)}return t}})},,,function(t,e,n){(function(t){var n,r,i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(a,s){"object"===o(e)&&"object"===o(t)?t.exports=s():(r=[],void 0===(i="function"==typeof(n=s)?n.apply(e,r):n)||(t.exports=i))}(0,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=78)}([function(t,e,n){var r=n(8),i=n(36),o={};r.merge(o,r,i,{mixin:function(t,e){var n=t.CFG?"CFG":"ATTRS";if(t&&e){t._mixins=e,t[n]=t[n]||{};var r={};o.each(e,function(e){o.augment(t,e);var i=e[n];i&&o.merge(r,i)}),t[n]=o.merge(r,t[n])}}}),t.exports=o},function(t,e,n){var r=n(0),i=n(63),o=n(3),a=function t(e){t.superclass.constructor.call(this,e)};a.ATTRS={},r.extend(a,i),r.augment(a,{isShape:!0,createPath:function(){},afterPath:function(){},drawInner:function(t){var e=this.__attrs;this.createPath(t);var n=t.globalAlpha;if(this.hasFill()){var i=e.fillOpacity;r.isNil(i)||1===i?t.fill():(t.globalAlpha=i,t.fill(),t.globalAlpha=n)}if(this.hasStroke()&&this.__attrs.lineWidth>0){var o=e.strokeOpacity;r.isNil(o)||1===o||(t.globalAlpha=o),t.stroke()}this.afterPath(t)},isPointInPath:function(){return!1},isHitBox:function(){return!0},isHit:function(t,e){var n=[t,e,1];if(this.invert(n),this.isHitBox()){var r=this.getBBox();if(r&&!o.box(r.minX,r.maxX,r.minY,r.maxY,n[0],n[1]))return!1}var i=this.__attrs.clip;return i?!!i.inside(t,e)&&this.isPointInPath(n[0],n[1]):this.isPointInPath(n[0],n[1])},calculateBox:function(){return null},getHitLineWidth:function(){var t=this.__attrs,e=t.lineAppendWidth||0;return(t.lineWidth||0)+e},clearTotalMatrix:function(){this.__cfg.totalMatrix=null,this.__cfg.region=null},clearBBox:function(){this.__cfg.box=null,this.__cfg.region=null},getBBox:function(){var t=this.__cfg.box;return t||((t=this.calculateBox())&&(t.x=t.minX,t.y=t.minY,t.width=t.maxX-t.minX,t.height=t.maxY-t.minY),this.__cfg.box=t),t}}),t.exports=a},function(t,e,n){var r=n(8),i=n(110),o=n(111),a=n(112);a.angle=function(t,e){var n=a.dot(t,e)/(a.length(t)*a.length(e));return Math.acos(r.clamp(n,-1,1))},a.direction=function(t,e){return t[0]*e[1]-e[0]*t[1]},a.angleTo=function(t,e,n){var r=a.angle(t,e),i=a.direction(t,e)>=0;return n?i?2*Math.PI-r:r:i?r:2*Math.PI-r},a.vertical=function(t,e,n){return n?(t[0]=e[1],t[1]=-1*e[0]):(t[0]=-1*e[1],t[1]=e[0]),t},i.translate=function(t,e,n){var r=new Array(9);return i.fromTranslation(r,n),i.multiply(t,r,e)},i.rotate=function(t,e,n){var r=new Array(9);return i.fromRotation(r,n),i.multiply(t,r,e)},i.scale=function(t,e,n){var r=new Array(9);return i.fromScaling(r,n),i.multiply(t,r,e)},t.exports={mat3:i,vec2:a,vec3:o,transform:function(t,e){return t=r.clone(t),r.each(e,function(e){switch(e[0]){case"t":i.translate(t,t,[e[1],e[2]]);break;case"s":i.scale(t,t,[e[1],e[2]]);break;case"r":i.rotate(t,t,e[1]);break;case"m":i.multiply(t,t,e[1]);break;default:return!1}}),t}}},function(t,e,n){var r=n(26),i=n(27),o=n(15),a=n(28);t.exports={line:function(t,e,n,i,o,a,s){var u=r.box(t,e,n,i,o);if(!this.box(u.minX,u.maxX,u.minY,u.maxY,a,s))return!1;var c=r.pointDistance(t,e,n,i,a,s);return!isNaN(c)&&c<=o/2},polyline:function(t,e,n,r){var i=t.length-1;if(i<1)return!1;for(var o=0;o<i;o++){var a=t[o][0],s=t[o][1],u=t[o+1][0],c=t[o+1][1];if(this.line(a,s,u,c,e,n,r))return!0}return!1},cubicline:function(t,e,n,r,i,a,s,u,c,h,l){return o.pointDistance(t,e,n,r,i,a,s,u,h,l)<=c/2},quadraticline:function(t,e,n,r,o,a,s,u,c){return i.pointDistance(t,e,n,r,o,a,u,c)<=s/2},arcline:function(t,e,n,r,i,o,s,u,c){return a.pointDistance(t,e,n,r,i,o,u,c)<=s/2},rect:function(t,e,n,r,i,o){return t<=i&&i<=t+n&&e<=o&&o<=e+r},circle:function(t,e,n,r,i){return Math.pow(r-t,2)+Math.pow(i-e,2)<=Math.pow(n,2)},box:function(t,e,n,r,i,o){return t<=i&&i<=e&&n<=o&&o<=r}}},function(t,e,n){var r=n(0),i=n(17),o={rect:"rect",circle:"circle",line:"line",path:"path",marker:"marker",text:"text",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject",fan:"path"},a=function t(e){t.superclass.constructor.call(this,e)};a.ATTRS={},r.extend(a,i),r.augment(a,{isShape:!0,createPath:function(){},init:function(t){a.superclass.init.call(this);var e=o[this.type];if(e){var n=document.createElementNS("http://www.w3.org/2000/svg",e);t=t||r.uniqueId(this.type+"_"),n.setAttribute("id",t),this.setSilent("el",n),this.setSilent("id",t)}},isPointInPath:function(){return!1},isHitBox:function(){return!0},isHit:function(){return!1},calculateBox:function(){return null},getHitLineWidth:function(){var t=this.__attrs,e=t.lineAppendWidth||0;return(t.lineWidth||0)+e},clearTotalMatrix:function(){this.__cfg.totalMatrix=null,this.__cfg.region=null},clearBBox:function(){this.__cfg.box=null,this.__cfg.region=null}}),t.exports=a},function(t,e){t.exports=function(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)}},function(t,e,n){"use strict";var r=n(22);n.d(e,"a",function(){return r.e}),n.d(e,"f",function(){return r.g}),n.d(e,"d",function(){return r.f});var i=n(134);n.d(e,"e",function(){return i.a}),n.d(e,"c",function(){return i.b});var o=n(135);n.d(e,"b",function(){return o.a})},function(t,e){var n="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(t){return void 0===t?"undefined":o(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":o(t)},r=Math.PI,i=Math.sin,a=Math.cos,s=Math.atan2,u=10,c=r/3;function h(t,e,n,o,h,l){var f=void 0,d=void 0,p=void 0,g=void 0,v=void 0,m=void 0,y=void 0;if(!e.fill){var x=e.arrowLength||u,b=e.arrowAngle?e.arrowAngle*r/180:c;y=s(l-o,h-n),y-=r,v=e.lineWidth*a(y),m=e.lineWidth*i(y),f=h+x*a(y+b/2),d=l+x*i(y+b/2),p=h+x*a(y-b/2),g=l+x*i(y-b/2),t.beginPath(),t.moveTo(f-v,d-m),t.lineTo(h-v,l-m),t.lineTo(p-v,g-m),t.moveTo(h-v,l-m),t.lineTo(h+v,l+m),t.moveTo(h,l),t.stroke()}}function l(t,e,n,r,i,o,a){var s=a.__attrs;s.x||(s.x=i),s.y||(s.y=o),s.r||(s.r=e.lineWidth);var u=0,c=i-n,h=o-r,l=Math.atan(c/h);0===h&&c<0?u=Math.PI:c>0&&h>0?u=Math.PI/2-l:c<0&&h<0?u=-Math.PI/2-l:c>=0&&h<0?u=-l-Math.PI/2:c<=0&&h>0&&(u=Math.PI/2-l),t.save(),t.beginPath(),t.translate(s.x,s.y),t.rotate(u),t.translate(-s.x,-s.y),a.createPath(t),t.setTransform(1,0,0,1,0,0),t.fillStyle=a.attr("fill")||t.strokeStyle,t.fill(),t.restore()}t.exports={addStartArrow:function(t,e,r,i,o,a){"object"===n(e.startArrow)?l(t,e,r,i,o,a,e.startArrow):e.startArrow&&h(t,e,r,i,o,a)},addEndArrow:function(t,e,r,i,o,a){"object"===n(e.endArrow)?l(t,e,r,i,o,a,e.endArrow):e.endArrow&&h(t,e,r,i,o,a)}}},function(t,e,n){var r=n(81);t.exports={isFunction:r.isFunction,isObject:r.isObject,isBoolean:r.isBoolean,isNil:r.isNil,isString:r.isString,isArray:r.isArray,isNumber:r.isNumber,isEmpty:r.isEmpty,uniqueId:r.uniqueId,clone:r.clone,assign:r.mix,merge:r.deepMix,upperFirst:r.upperFirst,each:r.each,isEqual:r.isEqual,toArray:r.toArray,extend:r.extend,augment:r.augment,remove:r.arrayUtil.pull,isNumberEqual:r.isNumberEqual,toRadian:r.toRadian,toDegree:r.toDegree,mod:r.mod,clamp:r.clamp}},function(t,e){var n={}.toString;t.exports=function(t,e){return n.call(t)==="[object "+e+"]"}},function(t,e,n){var r=n(90),i=n(11);t.exports=function(t,e){if(t)if(i(t))for(var n=0,o=t.length;n<o&&!1!==e(t[n],n);n++);else if(r(t))for(var a in t)if(t.hasOwnProperty(a)&&!1===e(t[a],a))break}},function(t,e,n){var r=n(9),i=Array.isArray?Array.isArray:function(t){return r(t,"Array")};t.exports=i},function(t,e,n){"use strict";e.c=function(t,e){var n=e-t;return n?i(t,n>180||n<-180?n-360*Math.round(n/360):n):Object(r.a)(isNaN(t)?e:t)},e.b=function(t){return 1==(t=+t)?o:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Object(r.a)(isNaN(e)?n:e)}},e.a=o;var r=n(56);function i(t,e){return function(n){return t+n*e}}function o(t,e){var n=e-t;return n?i(t,n):Object(r.a)(isNaN(t)?e:t)}},function(t,e,n){var r=n(9);t.exports=function(t){return r(t,"Function")}},function(t,e,n){"use strict";e.a=function(t,e){return e-=t=+t,function(n){return t+e*n}}},function(t,e,n){var r=n(0),i=n(2).vec2;function o(t,e,n,r,i){var o=1-i;return o*o*(o*r+3*i*n)+i*i*(i*t+3*o*e)}function a(t,e,n,r,a,s,u,c,h,l,f){var d=void 0,p=.005,g=1/0,v=void 0,m=void 0,y=void 0,x=void 0,b=void 0,_=void 0,w=void 0,S=[h,l];for(v=0;v<1;v+=.05)m=[o(t,n,a,u,v),o(e,r,s,c,v)],(y=i.squaredDistance(S,m))<g&&(d=v,g=y);g=1/0;for(var M=0;M<32&&!(p<1e-4);M++)w=d+p,m=[o(t,n,a,u,_=d-p),o(e,r,s,c,_)],y=i.squaredDistance(S,m),_>=0&&y<g?(d=_,g=y):(b=[o(t,n,a,u,w),o(e,r,s,c,w)],x=i.squaredDistance(S,b),w<=1&&x<g?(d=w,g=x):p*=.5);return f&&(f.x=o(t,n,a,u,d),f.y=o(e,r,s,c,d)),Math.sqrt(g)}function s(t,e,n,r,i){return t*(t*(-3*e+9*n-9*r+3*i)+6*e-12*n+6*r)-3*e+3*n}t.exports={at:o,derivativeAt:function(t,e,n,r,i){var o=1-i;return 3*(((e-t)*o+2*(n-e)*i)*o+(r-n)*i*i)},projectPoint:function(t,e,n,r,i,o,s,u,c,h){var l={};return a(t,e,n,r,i,o,s,u,c,h,l),l},pointDistance:a,extrema:function(t,e,n,i){var o=3*t-9*e+9*n-3*i,a=6*e-12*n+6*i,s=3*n-3*i,u=[],c=void 0,h=void 0,l=void 0;if(r.isNumberEqual(o,0))r.isNumberEqual(a,0)||(c=-s/a)>=0&&c<=1&&u.push(c);else{var f=a*a-4*o*s;r.isNumberEqual(f,0)?u.push(-a/(2*o)):f>0&&(h=(-a-(l=Math.sqrt(f)))/(2*o),(c=(-a+l)/(2*o))>=0&&c<=1&&u.push(c),h>=0&&h<=1&&u.push(h))}return u},len:function(t,e,n,i,o,a,u,c,h){r.isNil(h)&&(h=1);for(var l=(h=h>1?1:h<0?0:h)/2,f=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],d=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],p=0,g=0;g<12;g++){var v=l*f[g]+l,m=s(v,t,n,o,u),y=s(v,e,i,a,c),x=m*m+y*y;p+=d[g]*Math.sqrt(x)}return l*p}}},function(t,e){function n(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}t.exports=function(t,e,r,i){return e&&n(t,e),r&&n(t,r),i&&n(t,i),t}},function(t,e,n){var r=n(0),i=n(108),o=n(109),a=n(39),s=n(40),u=function(t){this.__cfg={zIndex:0,capture:!0,visible:!0,destroyed:!1},r.assign(this.__cfg,this.getDefaultCfg(),t),this.init(t?t.id:null),this.initAttrs(this.__cfg.attrs),this.initTransform()};u.CFG={id:null,zIndex:0,canvas:null,parent:null,capture:!0,context:null,visible:!0,destroyed:!1},r.augment(u,i,o,s,a,{init:function(){this.setSilent("animable",!0),this.setSilent("animating",!1)},getParent:function(){return this.get("parent")},getDefaultCfg:function(){return{}},set:function(t,e){return"zIndex"===t&&this._beforeSetZIndex(e),this.__cfg[t]=e,this},setSilent:function(t,e){this.__cfg[t]=e},get:function(t){return this.__cfg[t]},draw:function(){},drawInner:function(){},show:function(){this.set("visible",!0);var t=this.get("el");return t&&t.setAttribute("visibility","visible"),this},hide:function(){this.set("visible",!1);var t=this.get("el");return t&&t.setAttribute("visibility","hidden"),this},remove:function(t){var e=this.get("el");if(void 0===t&&(t=!0),this.get("parent")){var n=this.get("parent").get("children");r.remove(n,this),e.parentNode.removeChild(e)}return t&&this.destroy(),this},destroy:function(){this.get("destroyed")||(this.__cfg={},this.__attrs=null,this.removeEvent(),this.set("destroyed",!0))},_beforeSetZIndex:function(t){return this.__cfg.zIndex=t,r.isNil(this.get("parent"))||this.get("parent").sort(),t},_setAttrs:function(t){return this.attr(t),t},setZIndex:function(t){return this.__cfg.zIndex=t,t},clone:function(){return r.clone(this)},getBBox:function(){var t=this.get("el");if(!t)return{minX:0,minY:0,maxX:0,maxY:0,width:0,height:0,x:0,y:0};var e=t.getBBox();if(!t.parentNode||0===e.width&&0===e.height){var n=t.cloneNode();n.innerHTML=t.innerHTML,n.setAttribute("visible","hidden");var r=document.getElementsByTagName("svg")[0];r.appendChild(n),e=n.getBBox(),r.removeChild(n)}return e.minX=e.x,e.minY=e.y,e.maxX=e.x+e.width,e.maxY=e.y+e.height,{minX:e.x,minY:e.y,maxX:e.x+e.width,maxY:e.y+e.height,width:e.width,height:e.height,x:e.x,y:e.y}}}),t.exports=u},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.setMatrixArrayType=function(t){e.ARRAY_TYPE=t},e.toRadian=function(t){return t*r},e.equals=function(t,e){return Math.abs(t-e)<=n*Math.max(1,Math.abs(t),Math.abs(e))};var n=e.EPSILON=1e-6;e.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,e.RANDOM=Math.random;var r=Math.PI/180},function(t,e,n){var r="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(t){return void 0===t?"undefined":o(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":o(t)},i=n(8),a="\t\n\v\f\r   ᠎             　\u2028\u2029",s=new RegExp("([a-z])["+a+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+a+"]*,?["+a+"]*)+)","ig"),u=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+a+"]*,?["+a+"]*","ig"),c=function(t){if(!t)return null;if((void 0===t?"undefined":r(t))===r([]))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(t).replace(s,function(t,r,i){var o=[],a=r.toLowerCase();if(i.replace(u,function(t,e){e&&o.push(+e)}),"m"===a&&o.length>2&&(n.push([r].concat(o.splice(0,2))),a="l",r="m"===r?"l":"L"),"o"===a&&1===o.length&&n.push([r,o[0]]),"r"===a)n.push([r].concat(o));else for(;o.length>=e[a]&&(n.push([r].concat(o.splice(0,e[a]))),e[a]););}),n},h=function(t,e){for(var n=[],r=0,i=t.length;i-2*!e>r;r+=2){var o=[{x:+t[r-2],y:+t[r-1]},{x:+t[r],y:+t[r+1]},{x:+t[r+2],y:+t[r+3]},{x:+t[r+4],y:+t[r+5]}];e?r?i-4===r?o[3]={x:+t[0],y:+t[1]}:i-2===r&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[i-2],y:+t[i-1]}:i-4===r?o[3]=o[2]:r||(o[0]={x:+t[r],y:+t[r+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n},l=function(t,e,n,r,i){var o=[];if(null===i&&null===r&&(r=n),t=+t,e=+e,n=+n,r=+r,null!==i){var a=Math.PI/180,s=t+n*Math.cos(-r*a),u=t+n*Math.cos(-i*a);o=[["M",s,e+n*Math.sin(-r*a)],["A",n,n,0,+(i-r>180),0,u,e+n*Math.sin(-i*a)]]}else o=[["M",t,e],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]];return o},f=function(t){if(!(t=c(t))||!t.length)return[["M",0,0]];var e=[],n=0,r=0,i=0,o=0,a=0,s=void 0,u=void 0;"M"===t[0][0]&&(i=n=+t[0][1],o=r=+t[0][2],a++,e[0]=["M",n,r]);for(var f,d,p=3===t.length&&"M"===t[0][0]&&"R"===t[1][0].toUpperCase()&&"Z"===t[2][0].toUpperCase(),g=a,v=t.length;g<v;g++){if(e.push(f=[]),(s=(d=t[g])[0])!==s.toUpperCase())switch(f[0]=s.toUpperCase(),f[0]){case"A":f[1]=d[1],f[2]=d[2],f[3]=d[3],f[4]=d[4],f[5]=d[5],f[6]=+d[6]+n,f[7]=+d[7]+r;break;case"V":f[1]=+d[1]+r;break;case"H":f[1]=+d[1]+n;break;case"R":for(var m=2,y=(u=[n,r].concat(d.slice(1))).length;m<y;m++)u[m]=+u[m]+n,u[++m]=+u[m]+r;e.pop(),e=e.concat(h(u,p));break;case"O":e.pop(),(u=l(n,r,d[1],d[2])).push(u[0]),e=e.concat(u);break;case"U":e.pop(),e=e.concat(l(n,r,d[1],d[2],d[3])),f=["U"].concat(e[e.length-1].slice(-2));break;case"M":i=+d[1]+n,o=+d[2]+r;break;default:for(var x=1,b=d.length;x<b;x++)f[x]=+d[x]+(x%2?n:r)}else if("R"===s)u=[n,r].concat(d.slice(1)),e.pop(),e=e.concat(h(u,p)),f=["R"].concat(d.slice(-2));else if("O"===s)e.pop(),(u=l(n,r,d[1],d[2])).push(u[0]),e=e.concat(u);else if("U"===s)e.pop(),e=e.concat(l(n,r,d[1],d[2],d[3])),f=["U"].concat(e[e.length-1].slice(-2));else for(var _=0,w=d.length;_<w;_++)f[_]=d[_];if("O"!==(s=s.toUpperCase()))switch(f[0]){case"Z":n=+i,r=+o;break;case"H":n=f[1];break;case"V":r=f[1];break;case"M":i=f[f.length-2],o=f[f.length-1];break;default:n=f[f.length-2],r=f[f.length-1]}}return e},d=function(t,e,n,r){return[t,e,n,r,n,r]},p=function(t,e,n,r,i,o){return[1/3*t+2/3*n,1/3*e+2/3*r,1/3*i+2/3*n,1/3*o+2/3*r,i,o]},g=function(t,e){var n=f(t),r=e&&f(e),i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a=[],s=[],u="",c="",h=void 0,l=function(t,e,n){var r=void 0,i=void 0;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(function t(e,n,r,i,o,a,s,u,c,h){r===i&&(r+=1);var l=120*Math.PI/180,f=Math.PI/180*(+o||0),d=[],p=void 0,g=void 0,v=void 0,m=void 0,y=void 0,x=function(t,e,n){return{x:t*Math.cos(n)-e*Math.sin(n),y:t*Math.sin(n)+e*Math.cos(n)}};if(h)g=h[0],v=h[1],m=h[2],y=h[3];else{e=(p=x(e,n,-f)).x,n=p.y,u=(p=x(u,c,-f)).x,c=p.y,e===u&&n===c&&(u+=1,c+=1);var b=(e-u)/2,_=(n-c)/2,w=b*b/(r*r)+_*_/(i*i);w>1&&(r*=w=Math.sqrt(w),i*=w);var S=r*r,M=i*i,A=(a===s?-1:1)*Math.sqrt(Math.abs((S*M-S*_*_-M*b*b)/(S*_*_+M*b*b)));m=A*r*_/i+(e+u)/2,y=A*-i*b/r+(n+c)/2,g=Math.asin(((n-y)/i).toFixed(9)),v=Math.asin(((c-y)/i).toFixed(9)),g=e<m?Math.PI-g:g,v=u<m?Math.PI-v:v,g<0&&(g=2*Math.PI+g),v<0&&(v=2*Math.PI+v),s&&g>v&&(g-=2*Math.PI),!s&&v>g&&(v-=2*Math.PI)}var P=v-g;if(Math.abs(P)>l){var E=v,O=u,C=c;v=g+l*(s&&v>g?1:-1),d=t(u=m+r*Math.cos(v),c=y+i*Math.sin(v),r,i,o,0,s,O,C,[v,E,m,y])}P=v-g;var k=Math.cos(g),I=Math.sin(g),j=Math.cos(v),T=Math.sin(v),B=Math.tan(P/4),F=4/3*r*B,L=4/3*i*B,D=[e,n],N=[e+F*I,n-L*k],Y=[u+F*T,c-L*j],G=[u,c];if(N[0]=2*D[0]-N[0],N[1]=2*D[1]-N[1],h)return[N,Y,G].concat(d);for(var X=[],R=0,z=(d=[N,Y,G].concat(d).join().split(",")).length;R<z;R++)X[R]=R%2?x(d[R-1],d[R],f).y:x(d[R],d[R+1],f).x;return X}.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":"C"===n||"S"===n?(r=2*e.x-e.bx,i=2*e.y-e.by):(r=e.x,i=e.y),t=["C",r,i].concat(t.slice(1));break;case"T":"Q"===n||"T"===n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(p(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(p(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(d(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(d(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(d(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(d(e.x,e.y,e.X,e.Y))}return t},g=function(t,e){if(t[e].length>7){t[e].shift();for(var i=t[e];i.length;)a[e]="A",r&&(s[e]="A"),t.splice(e++,0,["C"].concat(i.splice(0,6)));t.splice(e,1),h=Math.max(n.length,r&&r.length||0)}},v=function(t,e,i,o,a){t&&e&&"M"===t[a][0]&&"M"!==e[a][0]&&(e.splice(a,0,["M",o.x,o.y]),i.bx=0,i.by=0,i.x=t[a][1],i.y=t[a][2],h=Math.max(n.length,r&&r.length||0))};h=Math.max(n.length,r&&r.length||0);for(var m=0;m<h;m++){n[m]&&(u=n[m][0]),"C"!==u&&(a[m]=u,m&&(c=a[m-1])),n[m]=l(n[m],i,c),"A"!==a[m]&&"C"===u&&(a[m]="C"),g(n,m),r&&(r[m]&&(u=r[m][0]),"C"!==u&&(s[m]=u,m&&(c=s[m-1])),r[m]=l(r[m],o,c),"A"!==s[m]&&"C"===u&&(s[m]="C"),g(r,m)),v(n,r,i,o,m),v(r,n,o,i,m);var y=n[m],x=r&&r[m],b=y.length,_=r&&x.length;i.x=y[b-2],i.y=y[b-1],i.bx=parseFloat(y[b-4])||i.x,i.by=parseFloat(y[b-3])||i.y,o.bx=r&&(parseFloat(x[_-4])||o.x),o.by=r&&(parseFloat(x[_-3])||o.y),o.x=r&&x[_-2],o.y=r&&x[_-1]}return r?[n,r]:n},v=/,?([a-z]),?/gi,m=function(t){return t.join(",").replace(v,"$1")},y=function(t,e,n,r,i){return t*(t*(-3*e+9*n-9*r+3*i)+6*e-12*n+6*r)-3*e+3*n},x=function(t,e,n,r,i,o,a,s,u){null===u&&(u=1);for(var c=(u=u>1?1:u<0?0:u)/2,h=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],l=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],f=0,d=0;d<12;d++){var p=c*h[d]+c,g=y(p,t,n,i,a),v=y(p,e,r,o,s),m=g*g+v*v;f+=l[d]*Math.sqrt(m)}return c*f},b=function(t,e,n,r,i,o,a,s){if(!(Math.max(t,n)<Math.min(i,a)||Math.min(t,n)>Math.max(i,a)||Math.max(e,r)<Math.min(o,s)||Math.min(e,r)>Math.max(o,s))){var u=(t-n)*(o-s)-(e-r)*(i-a);if(u){var c=((t*r-e*n)*(i-a)-(t-n)*(i*s-o*a))/u,h=((t*r-e*n)*(o-s)-(e-r)*(i*s-o*a))/u,l=+c.toFixed(2),f=+h.toFixed(2);if(!(l<+Math.min(t,n).toFixed(2)||l>+Math.max(t,n).toFixed(2)||l<+Math.min(i,a).toFixed(2)||l>+Math.max(i,a).toFixed(2)||f<+Math.min(e,r).toFixed(2)||f>+Math.max(e,r).toFixed(2)||f<+Math.min(o,s).toFixed(2)||f>+Math.max(o,s).toFixed(2)))return{x:c,y:h}}}},_=function(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height},w=function(t,e,n,r,i){if(i)return[["M",+t+ +i,e],["l",n-2*i,0],["a",i,i,0,0,1,i,i],["l",0,r-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-n,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-r],["a",i,i,0,0,1,i,-i],["z"]];var o=[["M",t,e],["l",n,0],["l",0,r],["l",-n,0],["z"]];return o.parsePathArray=m,o},S=function(t,e,n,r){return null===t&&(t=e=n=r=0),null===e&&(e=t.y,n=t.width,r=t.height,t=t.x),{x:t,y:e,width:n,w:n,height:r,h:r,x2:t+n,y2:e+r,cx:t+n/2,cy:e+r/2,r1:Math.min(n,r)/2,r2:Math.max(n,r)/2,r0:Math.sqrt(n*n+r*r)/2,path:w(t,e,n,r),vb:[t,e,n,r].join(" ")}},M=function(t,e,n,r,o,a,s,u){i.isArray(t)||(t=[t,e,n,r,o,a,s,u]);var c=function(t,e,n,r,i,o,a,s){for(var u=[],c=[[],[]],h=void 0,l=void 0,f=void 0,d=void 0,p=0;p<2;++p)if(0===p?(l=6*t-12*n+6*i,h=-3*t+9*n-9*i+3*a,f=3*n-3*t):(l=6*e-12*r+6*o,h=-3*e+9*r-9*o+3*s,f=3*r-3*e),Math.abs(h)<1e-12){if(Math.abs(l)<1e-12)continue;(d=-f/l)>0&&d<1&&u.push(d)}else{var g=l*l-4*f*h,v=Math.sqrt(g);if(!(g<0)){var m=(-l+v)/(2*h);m>0&&m<1&&u.push(m);var y=(-l-v)/(2*h);y>0&&y<1&&u.push(y)}}for(var x=u.length,b=x,_=void 0;x--;)_=1-(d=u[x]),c[0][x]=_*_*_*t+3*_*_*d*n+3*_*d*d*i+d*d*d*a,c[1][x]=_*_*_*e+3*_*_*d*r+3*_*d*d*o+d*d*d*s;return c[0][b]=t,c[1][b]=e,c[0][b+1]=a,c[1][b+1]=s,c[0].length=c[1].length=b+2,{min:{x:Math.min.apply(0,c[0]),y:Math.min.apply(0,c[1])},max:{x:Math.max.apply(0,c[0]),y:Math.max.apply(0,c[1])}}}.apply(null,t);return S(c.min.x,c.min.y,c.max.x-c.min.x,c.max.y-c.min.y)},A=function(t,e,n,r,i,o,a,s,u){var c=1-u,h=Math.pow(c,3),l=Math.pow(c,2),f=u*u,d=f*u,p=t+2*u*(n-t)+f*(i-2*n+t),g=e+2*u*(r-e)+f*(o-2*r+e),v=n+2*u*(i-n)+f*(a-2*i+n),m=r+2*u*(o-r)+f*(s-2*o+r);return{x:h*t+3*l*u*n+3*c*u*u*i+d*a,y:h*e+3*l*u*r+3*c*u*u*o+d*s,m:{x:p,y:g},n:{x:v,y:m},start:{x:c*t+u*n,y:c*e+u*r},end:{x:c*i+u*a,y:c*o+u*s},alpha:90-180*Math.atan2(p-v,g-m)/Math.PI}},P=function(t,e,n){if(!function(t,e){return t=S(t),e=S(e),_(e,t.x,t.y)||_(e,t.x2,t.y)||_(e,t.x,t.y2)||_(e,t.x2,t.y2)||_(t,e.x,e.y)||_(t,e.x2,e.y)||_(t,e.x,e.y2)||_(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)}(M(t),M(e)))return n?0:[];for(var r=~~(x.apply(0,t)/8),i=~~(x.apply(0,e)/8),o=[],a=[],s={},u=n?0:[],c=0;c<r+1;c++){var h=A.apply(0,t.concat(c/r));o.push({x:h.x,y:h.y,t:c/r})}for(var l=0;l<i+1;l++){var f=A.apply(0,e.concat(l/i));a.push({x:f.x,y:f.y,t:l/i})}for(var d=0;d<r;d++)for(var p=0;p<i;p++){var g=o[d],v=o[d+1],m=a[p],y=a[p+1],w=Math.abs(v.x-g.x)<.001?"y":"x",P=Math.abs(y.x-m.x)<.001?"y":"x",E=b(g.x,g.y,v.x,v.y,m.x,m.y,y.x,y.y);if(E){if(s[E.x.toFixed(4)]===E.y.toFixed(4))continue;s[E.x.toFixed(4)]=E.y.toFixed(4);var O=g.t+Math.abs((E[w]-g[w])/(v[w]-g[w]))*(v.t-g.t),C=m.t+Math.abs((E[P]-m[P])/(y[P]-m[P]))*(y.t-m.t);O>=0&&O<=1&&C>=0&&C<=1&&(n?u++:u.push({x:E.x,y:E.y,t1:O,t2:C}))}}return u};t.exports={parsePathString:c,parsePathArray:m,pathTocurve:g,pathToAbsolute:f,catmullRomToBezier:h,rectPath:w,intersection:function(t,e){return function(t,e,n){t=g(t),e=g(e);for(var r=void 0,i=void 0,o=void 0,a=void 0,s=void 0,u=void 0,c=void 0,h=void 0,l=void 0,f=void 0,d=n?0:[],p=0,v=t.length;p<v;p++){var m=t[p];if("M"===m[0])r=s=m[1],i=u=m[2];else{"C"===m[0]?(r=(l=[r,i].concat(m.slice(1)))[6],i=l[7]):(l=[r,i,r,i,s,u,s,u],r=s,i=u);for(var y=0,x=e.length;y<x;y++){var b=e[y];if("M"===b[0])o=c=b[1],a=h=b[2];else{"C"===b[0]?(o=(f=[o,a].concat(b.slice(1)))[6],a=f[7]):(f=[o,a,o,a,c,h,c,h],o=c,a=h);var _=P(l,f,n);if(n)d+=_;else{for(var w=0,S=_.length;w<S;w++)_[w].segment1=p,_[w].segment2=y,_[w].bez1=l,_[w].bez2=f;d=d.concat(_)}}}}}return d}(t,e)}}},function(t,e,n){"use strict";e.b=v,e.a=y,e.c=x,e.d=b;var r,i,a="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(t){return void 0===t?"undefined":o(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":o(t)},s=0,u=0,c=0,h=1e3,l=0,f=0,d=0,p="object"===("undefined"==typeof performance?"undefined":a(performance))&&performance.now?performance:Date,g="object"===("undefined"==typeof window?"undefined":a(window))&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function v(){return f||(g(m),f=p.now()+d)}function m(){f=0}function y(){this._call=this._time=this._next=null}function x(t,e,n){var r=new y;return r.restart(t,e,n),r}function b(){v(),++s;for(var t,e=r;e;)(t=f-e._time)>=0&&e._call.call(null,t),e=e._next;--s}function _(){f=(l=p.now())+d,s=u=0;try{b()}finally{s=0,function(){var t,e,n=r,o=1/0;for(;n;)n._call?(o>n._time&&(o=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:r=e);i=t,S(o)}(),f=0}}function w(){var t=p.now(),e=t-l;e>h&&(d-=e,l=t)}function S(t){s||(u&&(u=clearTimeout(u)),t-f>24?(t<1/0&&(u=setTimeout(_,t-p.now()-d)),c&&(c=clearInterval(c))):(c||(l=p.now(),c=setInterval(w,h)),s=1,g(_)))}y.prototype=x.prototype={constructor:y,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?v():+n)+(null==e?0:+e),this._next||i===this||(i?i._next=this:r=this,i=this),this._call=t,this._time=n,S()},stop:function(){this._call&&(this._call=null,this._time=1/0,S())}}},function(t,e,n){"use strict";var r=n(6),i=n(54),a=n(57),s=n(58),u=n(14),c=n(59),h=n(60),l=n(56),f="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(t){return void 0===t?"undefined":o(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":o(t)};e.a=function(t,e){var n,o=void 0===e?"undefined":f(e);return null==e||"boolean"===o?Object(l.a)(e):("number"===o?u.a:"string"===o?(n=Object(r.a)(e))?(e=n,i.a):h.a:e instanceof r.a?i.a:e instanceof Date?s.a:Array.isArray(e)?a.a:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?c.a:u.a)(t,e)}},function(t,e,n){"use strict";e.a=i,n.d(e,"d",function(){return o}),n.d(e,"c",function(){return a}),e.e=x,e.h=w,e.g=S,e.b=M,e.f=P;var r=n(23);function i(){}var o=.7,a=1/o,s="\\s*([+-]?\\d+)\\s*",u="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",c="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",h=/^#([0-9a-f]{3})$/,l=/^#([0-9a-f]{6})$/,f=new RegExp("^rgb\\("+[s,s,s]+"\\)$"),d=new RegExp("^rgb\\("+[c,c,c]+"\\)$"),p=new RegExp("^rgba\\("+[s,s,s,u]+"\\)$"),g=new RegExp("^rgba\\("+[c,c,c,u]+"\\)$"),v=new RegExp("^hsl\\("+[u,c,c]+"\\)$"),m=new RegExp("^hsla\\("+[u,c,c,u]+"\\)$"),y={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function x(t){var e;return t=(t+"").trim().toLowerCase(),(e=h.exec(t))?new M((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=l.exec(t))?b(parseInt(e[1],16)):(e=f.exec(t))?new M(e[1],e[2],e[3],1):(e=d.exec(t))?new M(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=p.exec(t))?_(e[1],e[2],e[3],e[4]):(e=g.exec(t))?_(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=v.exec(t))?A(e[1],e[2]/100,e[3]/100,1):(e=m.exec(t))?A(e[1],e[2]/100,e[3]/100,e[4]):y.hasOwnProperty(t)?b(y[t]):"transparent"===t?new M(NaN,NaN,NaN,0):null}function b(t){return new M(t>>16&255,t>>8&255,255&t,1)}function _(t,e,n,r){return r<=0&&(t=e=n=NaN),new M(t,e,n,r)}function w(t){return t instanceof i||(t=x(t)),t?new M((t=t.rgb()).r,t.g,t.b,t.opacity):new M}function S(t,e,n,r){return 1===arguments.length?w(t):new M(t,e,n,null==r?1:r)}function M(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function A(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new E(t,e,n,r)}function P(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof E)return new E(t.h,t.s,t.l,t.opacity);if(t instanceof i||(t=x(t)),!t)return new E;if(t instanceof E)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,o=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,u=a-o,c=(a+o)/2;return u?(s=e===a?(n-r)/u+6*(n<r):n===a?(r-e)/u+2:(e-n)/u+4,u/=c<.5?a+o:2-a-o,s*=60):u=c>0&&c<1?0:s,new E(s,u,c,t.opacity)}(t):new E(t,e,n,null==r?1:r)}function E(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function O(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Object(r.a)(i,x,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),Object(r.a)(M,S,Object(r.b)(i,{brighter:function(t){return t=null==t?a:Math.pow(a,t),new M(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?o:Math.pow(o,t),new M(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),Object(r.a)(E,P,Object(r.b)(i,{brighter:function(t){return t=null==t?a:Math.pow(a,t),new E(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?o:Math.pow(o,t),new E(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new M(O(t>=240?t-240:t+120,i,r),O(t,i,r),O(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}))},function(t,e,n){"use strict";e.b=function(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n},e.a=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t}},function(t,e,n){"use strict";function r(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}e.a=r,e.b=function(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[i],a=t[i+1],s=i>0?t[i-1]:2*o-a,u=i<e-1?t[i+2]:2*a-o;return r((n-i/e)*e,s,o,a,u)}}},function(t,e,n){var r=n(0),i=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,o=/[^\s\,]+/gi,a=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,s=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,u=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,c=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,h={};function l(t,e){var n=t.match(c);r.each(n,function(t){t=t.split(":"),e.addColorStop(t[0],t[1])})}t.exports={parsePath:function(t){return t=t||[],r.isArray(t)?t:r.isString(t)?(t=t.match(i),r.each(t,function(e,n){if((e=e.match(o))[0].length>1){var i=e[0].charAt(0);e.splice(1,0,e[0].substr(1)),e[0]=i}r.each(e,function(t,n){isNaN(t)||(e[n]=+t)}),t[n]=e}),t):void 0},parseStyle:function(t,e){if(r.isString(t)){if("("===t[1]||"("===t[2]){if("l"===t[0])return function(t,e){var n=a.exec(t),i=r.mod(r.toRadian(parseFloat(n[1])),2*Math.PI),o=n[2],s=e.getBBox(),u=void 0,c=void 0;i>=0&&i<.5*Math.PI?(u={x:s.minX,y:s.minY},c={x:s.maxX,y:s.maxY}):.5*Math.PI<=i&&i<Math.PI?(u={x:s.maxX,y:s.minY},c={x:s.minX,y:s.maxY}):Math.PI<=i&&i<1.5*Math.PI?(u={x:s.maxX,y:s.maxY},c={x:s.minX,y:s.minY}):(u={x:s.minX,y:s.maxY},c={x:s.maxX,y:s.minY});var h=Math.tan(i),f=h*h,d=(c.x-u.x+h*(c.y-u.y))/(f+1)+u.x,p=h*(c.x-u.x+h*(c.y-u.y))/(f+1)+u.y,g=e.get("context").createLinearGradient(u.x,u.y,d,p);return l(o,g),g}(t,e);if("r"===t[0])return function(t,e){var n=s.exec(t),r=parseFloat(n[1]),i=parseFloat(n[2]),o=parseFloat(n[3]),a=n[4];if(0===o){var u=a.match(c);return u[u.length-1].split(":")[1]}var h=e.getBBox(),f=e.get("context"),d=h.maxX-h.minX,p=h.maxY-h.minY,g=Math.sqrt(d*d+p*p)/2,v=f.createRadialGradient(h.minX+d*r,h.minY+p*i,o*g,h.minX+d/2,h.minY+p/2,g);return l(a,v),v}(t,e);if("p"===t[0])return function(t,e){if(e.get("patternSource")&&e.get("patternSource")===t)return e.get("pattern");var n=void 0,r=void 0,i=u.exec(t),o=i[1],a=i[2];function s(){var i=e.get("context");n=i.createPattern(r,o),e.setSilent("pattern",n),e.setSilent("patternSource",t)}switch(o){case"a":o="repeat";break;case"x":o="repeat-x";break;case"y":o="repeat-y";break;case"n":o="no-repeat";break;default:o="no-repeat"}return r=new Image,a.match(/^data:/i)||(r.crossOrigin="Anonymous"),r.src=a,r.complete?s():(r.onload=s,r.src=r.src),n}(t,e)}return t}},numberToColor:function(t){var e=h[t];if(!e){for(var n=t.toString(16),r=n.length;r<6;r++)n="0"+n;e="#"+n,h[t]=e}return e}}},function(t,e,n){var r=n(2).vec2;t.exports={at:function(t,e,n){return(e-t)*n+t},pointDistance:function(t,e,n,i,o,a){var s=[n-t,i-e];if(r.exactEquals(s,[0,0]))return NaN;var u=[-s[1],s[0]];r.normalize(u,u);var c=[o-t,a-e];return Math.abs(r.dot(c,u))},box:function(t,e,n,r,i){var o=i/2,a=Math.min(t,n),s=Math.max(t,n);return{minX:a-o,minY:Math.min(e,r)-o,maxX:s+o,maxY:Math.max(e,r)+o}},len:function(t,e,n,r){return Math.sqrt((n-t)*(n-t)+(r-e)*(r-e))}}},function(t,e,n){var r=n(0),i=n(2).vec2;function o(t,e,n,r){var i=1-r;return i*(i*t+2*r*e)+r*r*n}function a(t,e,n,r,a,s,u,c,h){var l=void 0,f=.005,d=1/0,p=void 0,g=void 0,v=void 0,m=void 0,y=void 0,x=void 0,b=[u,c];for(m=0;m<1;m+=.05)g=[o(t,n,a,m),o(e,r,s,m)],(p=i.squaredDistance(b,g))<d&&(l=m,d=p);for(d=1/0,x=0;x<32&&!(f<1e-4);x++){var _=l-f,w=l+f;g=[o(t,n,a,_),o(e,r,s,_)],p=i.squaredDistance(b,g),_>=0&&p<d?(l=_,d=p):(v=[o(t,n,a,w),o(e,r,s,w)],y=i.squaredDistance(b,v),w<=1&&y<d?(l=w,d=y):f*=.5)}return h&&(h.x=o(t,n,a,l),h.y=o(e,r,s,l)),Math.sqrt(d)}t.exports={at:o,projectPoint:function(t,e,n,r,i,o,s,u){var c={};return a(t,e,n,r,i,o,s,u,c),c},pointDistance:a,extrema:function(t,e,n){var i=t+n-2*e;if(r.isNumberEqual(i,0))return[.5];var o=(t-e)/i;return o<=1&&o>=0?[o]:[]}}},function(t,e,n){var r=n(0),i=n(2).vec2;function o(t,e,n,r){return{x:Math.cos(r)*n+t,y:Math.sin(r)*n+e}}function a(t,e,n,r){var i=void 0,o=void 0;return r?t<e?(i=e-t,o=2*Math.PI-n+t):t>n&&(i=2*Math.PI-t+e,o=t-n):(i=t-e,o=n-t),i>o?n:e}function s(t,e,n,i){var o=0;return n-e>=2*Math.PI&&(o=2*Math.PI),e=r.mod(e,2*Math.PI),n=r.mod(n,2*Math.PI)+o,t=r.mod(t,2*Math.PI),i?e>=n?t>n&&t<e?t:a(t,n,e,!0):t<e||t>n?t:a(t,e,n):e<=n?e<t&&t<n?t:a(t,e,n,!0):t>e||t<n?t:a(t,n,e)}function u(t,e,n,r,o,a,u,c,h){var l=[u,c],f=[t,e],d=i.subtract([],l,f),p=i.angleTo([1,0],d);p=s(p,r,o,a);var g=[n*Math.cos(p)+t,n*Math.sin(p)+e];return h&&(h.x=g[0],h.y=g[1]),i.distance(g,l)}t.exports={nearAngle:s,projectPoint:function(t,e,n,r,i,o,a,s){var c={};return u(t,e,n,r,i,o,a,s,c),c},pointDistance:u,box:function(t,e,n,i,a,u){var c=Math.PI/2,h=Math.PI,l=3*Math.PI/2,f=[],d=s(0,i,a,u);0===d&&f.push(o(t,e,n,0)),(d=s(c,i,a,u))===c&&f.push(o(t,e,n,c)),(d=s(h,i,a,u))===h&&f.push(o(t,e,n,h)),(d=s(l,i,a,u))===l&&f.push(o(t,e,n,l)),f.push(o(t,e,n,i)),f.push(o(t,e,n,a));var p=1/0,g=-1/0,v=1/0,m=-1/0;return r.each(f,function(t){p>t.x&&(p=t.x),g<t.x&&(g=t.x),v>t.y&&(v=t.y),m<t.y&&(m=t.y)}),{minX:p,minY:v,maxX:g,maxY:m}}}},function(t,e,n){var r=n(0),i=n(3),o=n(15),a=n(27),s=n(151),u=n(2).vec3,c=n(2).mat3,h=["m","l","c","a","q","h","v","t","s","z"];function l(t,e,n){return{x:n.x+t,y:n.y+e}}function f(t,e){return{x:e.x+(e.x-t.x),y:e.y+(e.y-t.y)}}function d(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function p(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(function(t,e){return(t[0]*e[0]+t[1]*e[1])/(d(t)*d(e))}(t,e))}var g=function(t,e,n){this.preSegment=e,this.isLast=n,this.init(t,e)};r.augment(g,{init:function(t,e){var n=t[0];e=e||{endPoint:{x:0,y:0}};var i=h.indexOf(n)>=0,o=i?n.toUpperCase():n,a=t,s=void 0,u=void 0,c=void 0,d=void 0,g=e.endPoint,v=a[1],m=a[2];switch(o){default:break;case"M":d=i?l(v,m,g):{x:v,y:m},this.command="M",this.params=[g,d],this.subStart=d,this.endPoint=d;break;case"L":d=i?l(v,m,g):{x:v,y:m},this.command="L",this.params=[g,d],this.subStart=e.subStart,this.endPoint=d,this.endTangent=function(){return[d.x-g.x,d.y-g.y]},this.startTangent=function(){return[g.x-d.x,g.y-d.y]};break;case"H":d=i?l(v,0,g):{x:v,y:g.y},this.command="L",this.params=[g,d],this.subStart=e.subStart,this.endPoint=d,this.endTangent=function(){return[d.x-g.x,d.y-g.y]},this.startTangent=function(){return[g.x-d.x,g.y-d.y]};break;case"V":d=i?l(0,v,g):{x:g.x,y:v},this.command="L",this.params=[g,d],this.subStart=e.subStart,this.endPoint=d,this.endTangent=function(){return[d.x-g.x,d.y-g.y]},this.startTangent=function(){return[g.x-d.x,g.y-d.y]};break;case"Q":i?(s=l(v,m,g),u=l(a[3],a[4],g)):(s={x:v,y:m},u={x:a[3],y:a[4]}),this.command="Q",this.params=[g,s,u],this.subStart=e.subStart,this.endPoint=u,this.endTangent=function(){return[u.x-s.x,u.y-s.y]},this.startTangent=function(){return[g.x-s.x,g.y-s.y]};break;case"T":u=i?l(v,m,g):{x:v,y:m},"Q"===e.command?(s=f(e.params[1],g),this.command="Q",this.params=[g,s,u],this.subStart=e.subStart,this.endPoint=u,this.endTangent=function(){return[u.x-s.x,u.y-s.y]},this.startTangent=function(){return[g.x-s.x,g.y-s.y]}):(this.command="TL",this.params=[g,u],this.subStart=e.subStart,this.endPoint=u,this.endTangent=function(){return[u.x-g.x,u.y-g.y]},this.startTangent=function(){return[g.x-u.x,g.y-u.y]});break;case"C":i?(s=l(v,m,g),u=l(a[3],a[4],g),c=l(a[5],a[6],g)):(s={x:v,y:m},u={x:a[3],y:a[4]},c={x:a[5],y:a[6]}),this.command="C",this.params=[g,s,u,c],this.subStart=e.subStart,this.endPoint=c,this.endTangent=function(){return[c.x-u.x,c.y-u.y]},this.startTangent=function(){return[g.x-s.x,g.y-s.y]};break;case"S":i?(u=l(v,m,g),c=l(a[3],a[4],g)):(u={x:v,y:m},c={x:a[3],y:a[4]}),"C"===e.command?(s=f(e.params[2],g),this.command="C",this.params=[g,s,u,c],this.subStart=e.subStart,this.endPoint=c,this.endTangent=function(){return[c.x-u.x,c.y-u.y]},this.startTangent=function(){return[g.x-s.x,g.y-s.y]}):(this.command="SQ",this.params=[g,u,c],this.subStart=e.subStart,this.endPoint=c,this.endTangent=function(){return[c.x-u.x,c.y-u.y]},this.startTangent=function(){return[g.x-u.x,g.y-u.y]});break;case"A":var y=v,x=m,b=a[3],_=a[4],w=a[5];d=i?l(a[6],a[7],g):{x:a[6],y:a[7]},this.command="A";var S=function(t,e,n,i,o,a,s){var u=r.mod(r.toRadian(s),2*Math.PI),c=t.x,h=t.y,l=e.x,f=e.y,d=Math.cos(u)*(c-l)/2+Math.sin(u)*(h-f)/2,g=-1*Math.sin(u)*(c-l)/2+Math.cos(u)*(h-f)/2,v=d*d/(o*o)+g*g/(a*a);v>1&&(o*=Math.sqrt(v),a*=Math.sqrt(v));var m=o*o*(g*g)+a*a*(d*d),y=Math.sqrt((o*o*(a*a)-m)/m);n===i&&(y*=-1),isNaN(y)&&(y=0);var x=y*o*g/a,b=y*-a*d/o,_=(c+l)/2+Math.cos(u)*x-Math.sin(u)*b,w=(h+f)/2+Math.sin(u)*x+Math.cos(u)*b,S=p([1,0],[(d-x)/o,(g-b)/a]),M=p([(d-x)/o,(g-b)/a],[(-1*d-x)/o,(-1*g-b)/a]);return 0===i&&M>0&&(M-=2*Math.PI),1===i&&M<0&&(M+=2*Math.PI),[t,_,w,o,a,S,M,u,i]}(g,d,_,w,y,x,b);this.params=S;var M=e.subStart;this.subStart=M,this.endPoint=d;var A=S[5]%(2*Math.PI);r.isNumberEqual(A,2*Math.PI)&&(A=0);var P=S[6]%(2*Math.PI);r.isNumberEqual(P,2*Math.PI)&&(P=0);var E=.001;this.startTangent=function(){0===w&&(E*=-1);var t=S[3]*Math.cos(A-E)+S[1],e=S[4]*Math.sin(A-E)+S[2];return[t-M.x,e-M.y]},this.endTangent=function(){var t=S[6];t-2*Math.PI<1e-4&&(t=0);var e=S[3]*Math.cos(A+t+E)+S[1],n=S[4]*Math.sin(A+t-E)+S[2];return[g.x-e,g.y-n]};break;case"Z":this.command="Z",this.params=[g,e.subStart],this.subStart=e.subStart,this.endPoint=e.subStart}},isInside:function(t,e,n){var r=this.command,o=this.params,a=this.box;if(a&&!i.box(a.minX,a.maxX,a.minY,a.maxY,t,e))return!1;switch(r){default:break;case"M":return!1;case"TL":case"L":case"Z":return i.line(o[0].x,o[0].y,o[1].x,o[1].y,n,t,e);case"SQ":case"Q":return i.quadraticline(o[0].x,o[0].y,o[1].x,o[1].y,o[2].x,o[2].y,n,t,e);case"C":return i.cubicline(o[0].x,o[0].y,o[1].x,o[1].y,o[2].x,o[2].y,o[3].x,o[3].y,n,t,e);case"A":var s=o,h=s[1],l=s[2],f=s[3],d=s[4],p=s[5],g=s[6],v=s[7],m=s[8],y=f>d?f:d,x=f>d?1:f/d,b=f>d?d/f:1;s=[t,e,1];var _=[1,0,0,0,1,0,0,0,1];return c.translate(_,_,[-h,-l]),c.rotate(_,_,-v),c.scale(_,_,[1/x,1/b]),u.transformMat3(s,s,_),i.arcline(0,0,y,p,p+g,1-m,n,s[0],s[1])}return!1},draw:function(t){var e=this.command,n=this.params,r=void 0,i=void 0,o=void 0;switch(e){default:break;case"M":t.moveTo(n[1].x,n[1].y);break;case"TL":case"L":t.lineTo(n[1].x,n[1].y);break;case"SQ":case"Q":r=n[1],i=n[2],t.quadraticCurveTo(r.x,r.y,i.x,i.y);break;case"C":r=n[1],i=n[2],o=n[3],t.bezierCurveTo(r.x,r.y,i.x,i.y,o.x,o.y);break;case"A":var a=n,s=a[1],u=a[2],c=a[3],h=a[4],l=a[5],f=a[6],d=a[7],p=a[8],g=c>h?c:h,v=c>h?1:c/h,m=c>h?h/c:1;t.translate(s,u),t.rotate(d),t.scale(v,m),t.arc(0,0,g,l,l+f,1-p),t.scale(1/v,1/m),t.rotate(-d),t.translate(-s,-u);break;case"Z":t.closePath()}},getBBox:function(t){var e=t/2,n=this.params,r=void 0,i=void 0,u=void 0,c=void 0;switch(this.command){default:case"M":case"Z":break;case"TL":case"L":this.box={minX:Math.min(n[0].x,n[1].x)-e,maxX:Math.max(n[0].x,n[1].x)+e,minY:Math.min(n[0].y,n[1].y)-e,maxY:Math.max(n[0].y,n[1].y)+e};break;case"SQ":case"Q":for(u=0,c=(i=a.extrema(n[0].x,n[1].x,n[2].x)).length;u<c;u++)i[u]=a.at(n[0].x,n[1].x,n[2].x,i[u]);for(i.push(n[0].x,n[2].x),u=0,c=(r=a.extrema(n[0].y,n[1].y,n[2].y)).length;u<c;u++)r[u]=a.at(n[0].y,n[1].y,n[2].y,r);r.push(n[0].y,n[2].y),this.box={minX:Math.min.apply(Math,i)-e,maxX:Math.max.apply(Math,i)+e,minY:Math.min.apply(Math,r)-e,maxY:Math.max.apply(Math,r)+e};break;case"C":for(u=0,c=(i=o.extrema(n[0].x,n[1].x,n[2].x,n[3].x)).length;u<c;u++)i[u]=o.at(n[0].x,n[1].x,n[2].x,n[3].x,i[u]);for(u=0,c=(r=o.extrema(n[0].y,n[1].y,n[2].y,n[3].y)).length;u<c;u++)r[u]=o.at(n[0].y,n[1].y,n[2].y,n[3].y,r[u]);i.push(n[0].x,n[3].x),r.push(n[0].y,n[3].y),this.box={minX:Math.min.apply(Math,i)-e,maxX:Math.max.apply(Math,i)+e,minY:Math.min.apply(Math,r)-e,maxY:Math.max.apply(Math,r)+e};break;case"A":var h=n,l=h[1],f=h[2],d=h[3],p=h[4],g=h[5],v=h[6],m=h[7],y=h[8],x=g,b=g+v,_=s.xExtrema(m,d,p),w=1/0,S=-1/0,M=[x,b];for(u=2*-Math.PI;u<=2*Math.PI;u+=Math.PI){var A=_+u;1===y?x<A&&A<b&&M.push(A):b<A&&A<x&&M.push(A)}for(u=0,c=M.length;u<c;u++){var P=s.xAt(m,d,p,l,M[u]);P<w&&(w=P),P>S&&(S=P)}var E=s.yExtrema(m,d,p),O=1/0,C=-1/0,k=[x,b];for(u=2*-Math.PI;u<=2*Math.PI;u+=Math.PI){var I=E+u;1===y?x<I&&I<b&&k.push(I):b<I&&I<x&&k.push(I)}for(u=0,c=k.length;u<c;u++){var j=s.yAt(m,d,p,f,k[u]);j<O&&(O=j),j>C&&(C=j)}this.box={minX:w-e,maxX:S+e,minY:O-e,maxY:C+e}}}}),t.exports=g},function(t,e,n){var r=n(5);t.exports=function(t){return r(t)?Array.prototype.slice.call(t):[]}},function(t,e,n){var r=n(32),i=n(9);t.exports=function(t){if(!r(t)||!i(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}},function(t,e){var n="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(t){return void 0===t?"undefined":o(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":o(t)},r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return void 0===t?"undefined":n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":n(t)};t.exports=function(t){return"object"===(void 0===t?"undefined":r(t))&&null!==t}},function(t,e,n){var r=n(13),i=n(11),o=n(34);t.exports=function(t,e){if(!e)return{0:t};if(!r(e)){var n=i(e)?e:e.replace(/\s+/g,"").split("*");e=function(t){for(var e="_",r=0,i=n.length;r<i;r++)e+=t[n[r]]&&t[n[r]].toString();return e}}return o(t,e)}},function(t,e,n){var r=n(10),i=n(11),o=Object.prototype.hasOwnProperty;t.exports=function(t,e){if(!e||!i(t))return t;var n={},a=null;return r(t,function(t){a=e(t),o.call(n,a)?n[a].push(t):n[a]=[t]}),n}},function(t,e,n){var r=n(32),i=n(5),o=n(102);t.exports=function t(e,n){if(e===n)return!0;if(!e||!n)return!1;if(o(e)||o(n))return!1;if(i(e)||i(n)){if(e.length!==n.length)return!1;for(var a=!0,s=0;s<e.length&&(a=t(e[s],n[s]));s++);return a}if(r(e)||r(n)){var u=Object.keys(e),c=Object.keys(n);if(u.length!==c.length)return!1;for(var h=!0,l=0;l<u.length&&(h=t(e[u[l]],n[u[l]]));l++);return h}return!1}},function(t,e,n){var r=n(8),i=document.createElement("table"),o=document.createElement("tr"),a=/^\s*<(\w+|!)[^>]*>/,s={tr:document.createElement("tbody"),tbody:i,thead:i,tfoot:i,td:o,th:o,"*":document.createElement("div")};t.exports={getBoundingClientRect:function(t,e){if(t&&t.getBoundingClientRect){var n=t.getBoundingClientRect(),r=document.documentElement.clientTop,i=document.documentElement.clientLeft;return{top:n.top-r,bottom:n.bottom-r,left:n.left-i,right:n.right-i}}return e||null},getStyle:function(t,e,n){try{return window.getComputedStyle?window.getComputedStyle(t,null)[e]:t.currentStyle[e]}catch(t){return r.isNil(n)?null:n}},modifyCSS:function(t,e){if(t)for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n]);return t},createDom:function(t){var e=a.test(t)&&RegExp.$1;e in s||(e="*");var n=s[e];t=t.replace(/(^\s*)|(\s*$)/g,""),n.innerHTML=""+t;var r=n.childNodes[0];return n.removeChild(r),r},getRatio:function(){return window.devicePixelRatio?window.devicePixelRatio:2},getWidth:function(t,e){var n=this.getStyle(t,"width",e);return"auto"===n&&(n=t.offsetWidth),parseFloat(n)},getHeight:function(t,e){var n=this.getStyle(t,"height",e);return"auto"===n&&(n=t.offsetHeight),parseFloat(n)},getOuterHeight:function(t,e){var n=this.getHeight(t,e),r=parseFloat(this.getStyle(t,"borderTopWidth"))||0,i=parseFloat(this.getStyle(t,"paddingTop"))||0,o=parseFloat(this.getStyle(t,"paddingBottom"))||0;return n+r+(parseFloat(this.getStyle(t,"borderBottomWidth"))||0)+i+o},getOuterWidth:function(t,e){var n=this.getWidth(t,e),r=parseFloat(this.getStyle(t,"borderLeftWidth"))||0,i=parseFloat(this.getStyle(t,"paddingLeft"))||0,o=parseFloat(this.getStyle(t,"paddingRight"))||0;return n+r+(parseFloat(this.getStyle(t,"borderRightWidth"))||0)+i+o},addEventListener:function(t,e,n){if(t){if(t.addEventListener)return t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}};if(t.attachEvent)return t.attachEvent("on"+e,n),{remove:function(){t.detachEvent("on"+e,n)}}}},requestAnimationFrame:function(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return setTimeout(t,16)})(t)}}},function(t,e,n){var r=n(0),i=function(t,e,n,r){this.type=t,this.target=null,this.currentTarget=null,this.bubbles=n,this.cancelable=r,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.removed=!1,this.event=e};r.augment(i,{preventDefault:function(){this.defaultPrevented=this.cancelable&&!0},stopPropagation:function(){this.propagationStopped=!0},remove:function(){this.remove=!0},clone:function(){return r.clone(this)},toString:function(){return"[Event (type="+this.type+")]"}}),t.exports=i},function(t,e,n){var r=n(0),i=n(17),o=n(113),a={},s="_INDEX";var u=function t(e){t.superclass.constructor.call(this,e),this.set("children",[]),this._beforeRenderUI(),this._renderUI(),this._bindUI()};r.extend(u,i),r.augment(u,{isGroup:!0,canFill:!0,canStroke:!0,init:function(t){u.superclass.init.call(this);var e=document.createElementNS("http://www.w3.org/2000/svg","g");t=t||r.uniqueId("g_"),e.setAttribute("id",t),this.setSilent("el",e),this.setSilent("id",t)},getDefaultCfg:function(){return function t(e){if(!e.__cfg&&e!==u){var n=e.superclass.constructor;n&&!n.__cfg&&t(n),e.__cfg={},r.merge(e.__cfg,n.__cfg),r.merge(e.__cfg,e.CFG)}}(this.constructor),r.merge({},this.constructor.__cfg)},_beforeRenderUI:function(){},_renderUI:function(){},_bindUI:function(){},addShape:function(t,e){var n=this.get("canvas");e=e||{};var i=a[t];if(i||(i=r.upperFirst(t),a[t]=i),e.attrs){var s=e.attrs;if("text"===t){var u=n.get("fontFamily");u&&(s.fontFamily=s.fontFamily||u)}}e.canvas=n,e.defs=this.get("defs"),e.type=t;var c=o[i];if(!c)throw new TypeError("the shape "+i+" is not supported by svg version, use canvas instead");var h=new c(e);return this.add(h),h},addGroup:function(t,e){var n=this.get("canvas"),i=void 0;if(e=r.merge({},e),r.isFunction(t))e?(e.canvas=n,e.parent=this,i=new t(e)):i=new t({canvas:n,parent:this}),this.add(i);else if(r.isObject(t))t.canvas=n,i=new u(t),this.add(i);else{if(void 0!==t)return!1;i=new u,this.add(i)}return i},renderBack:function(t,e){var n=this.get("backShape"),i=this.getBBox();return r.merge(e,{x:i.minX-t[3],y:i.minY-t[0],width:i.width+t[1]+t[3],height:i.height+t[0]+t[2]}),n?n.attr(e):n=this.addShape("rect",{zIndex:-1,attrs:e}),this.set("backShape",n),this.sort(),n},removeChild:function(t,e){if(arguments.length>=2)this.contain(t)&&t.remove(e);else{if(1===arguments.length){if(!r.isBoolean(t))return this.contain(t)&&t.remove(!0),this;e=t}0===arguments.length&&(e=!0),u.superclass.remove.call(this,e)}return this},add:function(t){var e=this,n=e.get("children"),i=e.get("el");if(r.isArray(t))r.each(t,function(t){var n=t.get("parent");n&&n.removeChild(t,!1),t.get("dependencies")&&e._addDependency(t),e._setEvn(t),i.appendChild(t.get("el"))}),n.push.apply(n,t);else{var o=t,a=o.get("parent");a&&a.removeChild(o,!1),e._setEvn(o),o.get("dependencies")&&e._addDependency(o),i.appendChild(o.get("el")),n.push(o)}return e},contain:function(t){return this.get("children").indexOf(t)>-1},getChildByIndex:function(t){return this.get("children")[t]},getFirst:function(){return this.getChildByIndex(0)},getLast:function(){var t=this.get("children").length-1;return this.getChildByIndex(t)},_addDependency:function(t){var e=t.get("dependencies");t.attr(e),t.__cfg.dependencies={}},_setEvn:function(t){var e=this.__cfg;t.__cfg.parent=this,t.__cfg.timeline=e.timeline,t.__cfg.canvas=e.canvas,t.__cfg.defs=e.defs;var n=t.__attrs.clip;n&&(n.setSilent("parent",this),n.setSilent("timeline",e.timeline),n.setSilent("canvas",e.canvas));var i=t.__cfg.children;i&&r.each(i,function(e){t._setEvn(e)})},getCount:function(){return this.get("children").length},sort:function(){var t=this.get("children");return r.each(t,function(t,e){return t[s]=e,t}),t.sort(function(t){return function(e,n){var r=t(e,n);return 0===r?e[s]-n[s]:r}}(function(t,e){return t.get("zIndex")-e.get("zIndex")})),this},findById:function(t){return this.find(function(e){return e.get("id")===t})},find:function(t){if(r.isString(t))return this.findById(t);var e=this.get("children"),n=null;return r.each(e,function(e){if(t(e)?n=e:e.find&&(n=e.find(t)),n)return!1}),n},findAll:function(t){var e=this.get("children"),n=[],i=[];return r.each(e,function(e){t(e)&&n.push(e),e.findAllBy&&(i=e.findAllBy(t),n=n.concat(i))}),n},findBy:function(t){var e=this.get("children"),n=null;return r.each(e,function(e){if(t(e)?n=e:e.findBy&&(n=e.findBy(t)),n)return!1}),n},findAllBy:function(t){var e=this.get("children"),n=[],i=[];return r.each(e,function(e){t(e)&&n.push(e),e.findAllBy&&(i=e.findAllBy(t),n=n.concat(i))}),n},getShape:function(){return null},findShape:function(t){if(this.__cfg.visible&&this.__cfg.capture&&this.get("el")===t)return this;for(var e=this.__cfg.children,n=null,r=e.length-1;r>=0;r--){var i=e[r];if(i.isGroup?(n=i.findShape(t),n=i.findShape(t)):i.get("visible")&&i.get("el")===t&&(n=i),n)break}return n},clearTotalMatrix:function(){if(this.get("totalMatrix")){this.setSilent("totalMatrix",null);for(var t=this.__cfg.children,e=0;e<t.length;e++){t[e].clearTotalMatrix()}}},clear:function(){for(var t=this.get("children");0!==t.length;)t[t.length-1].remove();return this},destroy:function(){this.get("destroyed")||(this.clear(),u.superclass.destroy.call(this))}}),t.exports=u},function(t,e,n){var r=n(0),i=n(2),o={delay:"delay"};t.exports={animate:function(t,e,n,a){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;this.set("animating",!0);var u=this.get("timeline");u||(u=this.get("canvas").get("timeline"),this.setSilent("timeline",u));var c=this.get("animators")||[];u._timer||u.initTimer(),r.isNumber(a)&&(s=a,a=null),r.isFunction(n)?(a=n,n="easeLinear"):n=n||"easeLinear";var h=function(t,e){var n={matrix:null,attrs:{}};for(var r in t)"transform"===r?n.matrix=i.transform(e.getMatrix(),t[r]):"matrix"===r?n.matrix=t[r]:o[r]||(n.attrs[r]=t[r]);return n}(t,this),l={fromAttrs:function(t,e){var n={};for(var r in t)n[r]=e.attr(r);return n}(t,this),toAttrs:h.attrs,fromMatrix:r.clone(this.getMatrix()),toMatrix:h.matrix,duration:e,easing:n,callback:a,delay:s,startTime:u.getTime(),id:r.uniqueId()};c.length>0?c=function(t,e){var n=Object.prototype.hasOwnProperty;return r.each(e.toAttrs,function(e,i){r.each(t,function(t){n.call(t.toAttrs,i)&&(delete t.toAttrs[i],delete t.fromAttrs[i])})}),t}(c,l):u.addAnimator(this),c.push(l),this.setSilent("animators",c),this.setSilent("pause",{isPaused:!1})},stopAnimate:function(){var t=this,e=this.get("animators");r.each(e,function(e){t.attr(e.toAttrs),e.toMatrix&&t.attr("matrix",e.toMatrix),e.callback&&e.callback()}),this.setSilent("animating",!1),this.setSilent("animators",[])},pauseAnimate:function(){var t=this.get("timeline");return this.setSilent("pause",{isPaused:!0,pauseTime:t.getTime()}),this},resumeAnimate:function(){var t=this.get("timeline").getTime(),e=this.get("animators"),n=this.get("pause").pauseTime;return r.each(e,function(e){e.startTime=e.startTime+(t-n),e._paused=!1,e._pauseTime=null}),this.setSilent("pause",{isPaused:!1}),this.setSilent("animators",e),this}}},function(t,e,n){var r,i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(t){return void 0===t?"undefined":o(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":o(t)};!function(e){"use strict";function o(){}var a=o.prototype,s=e.EventEmitter;function u(t,e){for(var n=t.length;n--;)if(t[n].listener===e)return n;return-1}function c(t){return function(){return this[t].apply(this,arguments)}}a.getListeners=function(t){var e,n,r=this._getEvents();if(t instanceof RegExp)for(n in e={},r)r.hasOwnProperty(n)&&t.test(n)&&(e[n]=r[n]);else e=r[t]||(r[t]=[]);return e},a.flattenListeners=function(t){var e,n=[];for(e=0;e<t.length;e+=1)n.push(t[e].listener);return n},a.getListenersAsObject=function(t){var e,n=this.getListeners(t);return n instanceof Array&&((e={})[t]=n),e||n},a.addListener=function(t,e){if(!function t(e){return"function"==typeof e||e instanceof RegExp||!(!e||"object"!==(void 0===e?"undefined":i(e)))&&t(e.listener)}(e))throw new TypeError("listener must be a function");var n,r=this.getListenersAsObject(t),o="object"===(void 0===e?"undefined":i(e));for(n in r)r.hasOwnProperty(n)&&-1===u(r[n],e)&&r[n].push(o?e:{listener:e,once:!1});return this},a.on=c("addListener"),a.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},a.once=c("addOnceListener"),a.defineEvent=function(t){return this.getListeners(t),this},a.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},a.removeListener=function(t,e){var n,r,i=this.getListenersAsObject(t);for(r in i)i.hasOwnProperty(r)&&-1!==(n=u(i[r],e))&&i[r].splice(n,1);return this},a.off=c("removeListener"),a.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},a.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},a.manipulateListeners=function(t,e,n){var r,o,a=t?this.removeListener:this.addListener,s=t?this.removeListeners:this.addListeners;if("object"!==(void 0===e?"undefined":i(e))||e instanceof RegExp)for(r=n.length;r--;)a.call(this,e,n[r]);else for(r in e)e.hasOwnProperty(r)&&(o=e[r])&&("function"==typeof o?a.call(this,r,o):s.call(this,r,o));return this},a.removeEvent=function(t){var e,n=void 0===t?"undefined":i(t),r=this._getEvents();if("string"===n)delete r[t];else if(t instanceof RegExp)for(e in r)r.hasOwnProperty(e)&&t.test(e)&&delete r[e];else delete this._events;return this},a.removeAllListeners=c("removeEvent"),a.emitEvent=function(t,e){var n,r,i,o,a=this.getListenersAsObject(t);for(o in a)if(a.hasOwnProperty(o))for(n=a[o].slice(0),i=0;i<n.length;i++)!0===(r=n[i]).once&&this.removeListener(t,r.listener),r.listener.apply(this,e||[])===this._getOnceReturnValue()&&this.removeListener(t,r.listener);return this},a.trigger=c("emitEvent"),a.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},a.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},a._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},a._getEvents=function(){return this._events||(this._events={})},o.noConflict=function(){return e.EventEmitter=s,o},void 0===(r=function(){return o}.call(e,n,e,t))||(t.exports=r)}(this||{})},function(t,e,n){var r=n(0),i=n(4),o=function t(e){t.superclass.constructor.call(this,e)};o.ATTRS={x:0,y:0,width:0,height:0,radius:0,lineWidth:1,fill:"none"},r.extend(o,i),r.augment(o,{canFill:!0,canStroke:!0,type:"rect",getDefaultAttrs:function(){return{lineWidth:1,fill:"none"}},_afterSetRadius:function(){var t=this.get("el");t.setAttribute("rx",this.__attrs.radius),t.setAttribute("ry",this.__attrs.radius)},_afterSetAttrAll:function(t){"radius"in t&&this._afterSetRadius()}}),t.exports=o},function(t,e,n){var r=n(0),i=n(4),o=function t(e){t.superclass.constructor.call(this,e)};o.ATTRS={x:0,y:0,r:0,lineWidth:1},r.extend(o,i),r.augment(o,{canFill:!0,canStroke:!0,type:"circle",getDefaultAttrs:function(){return{lineWidth:1,fill:"none"}}}),t.exports=o},function(t,e,n){var r=n(0),i=n(4),o=function t(e){t.superclass.constructor.call(this,e)};o.ATTRS={x:0,y:0,rx:1,ry:1,lineWidth:1},r.extend(o,i),r.augment(o,{canFill:!0,canStroke:!0,type:"ellipse",getDefaultAttrs:function(){return{lineWidth:1}}}),t.exports=o},function(t,e,n){var r=n(0),i=n(4),o=function t(e){t.superclass.constructor.call(this,e)};function a(t,e,n,r,i){var o=1-i;return o*o*(o*r+3*i*n)+i*i*(i*t+3*o*e)}o.ATTRS={path:null,lineWidth:1,curve:null,tCache:null,startArrow:!1,endArrow:!1},r.extend(o,i),r.augment(o,{canFill:!0,canStroke:!0,type:"path",getDefaultAttrs:function(){return{lineWidth:1,fill:"none",startArrow:!1,endArrow:!1}},_afterSetAttrStroke:function(t){var e=this.get("marker-start"),n=this.get("marker-end");e&&this.get("defs").findById(e).update(null,t),n&&this.get("defs").findById(n).update(null,t)},_afterSetAttrPath:function(t){var e=this.get("el"),n=t;r.isArray(n)&&(n=n.map(function(t){return t.join(" ")}).join("")),~n.indexOf("NaN")?e.setAttribute("d",""):e.setAttribute("d",n)},_afterSetAttrAll:function(t){t.path&&this._afterSetAttrPath(t.path),t.stroke&&this._afterSetAttrStroke(t.stroke)},getPoint:function(t){var e=this.tCache,n=void 0,i=void 0;e||(this._calculateCurve(),this._setTcache(),e=this.tCache);var o=this.curve;if(!e)return o?{x:o[0][1],y:o[0][2]}:null;r.each(e,function(e,r){t>=e[0]&&t<=e[1]&&(n=(t-e[0])/(e[1]-e[0]),i=r)});var s=o[i];if(r.isNil(s)||r.isNil(i))return null;var u=s.length,c=o[i+1];return{x:a(s[u-2],c[1],c[3],c[5],1-n),y:a(s[u-1],c[2],c[4],c[6],1-n)}},createPath:function(){}}),t.exports=o},function(t,e,n){var r=n(0),i=n(4),o=function t(e){t.superclass.constructor.call(this,e)},a={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},s={left:"left",start:"left",center:"middle",right:"end",end:"end"};o.ATTRS={x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom",lineHeight:null,textArr:null},r.extend(o,i),r.augment(o,{canFill:!0,canStroke:!0,type:"text",getDefaultAttrs:function(){return{lineWidth:1,lineCount:1,fontSize:12,fill:"#000",fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"}},initTransform:function(){this.attr("matrix",[1,0,0,0,1,0,0,0,1]);var t=this.__attrs.fontSize;t&&+t<12&&this.transform([["t",-1*this.__attrs.x,-1*this.__attrs.y],["s",+t/12,+t/12],["t",this.__attrs.x,this.__attrs.y]])},_assembleFont:function(){var t=this.get("el"),e=this.__attrs,n=e.fontSize,r=e.fontFamily,i=e.fontWeight,o=[e.fontStyle,e.fontVariant,i,n+"px",r].join(" ");e.font=o,t.setAttribute("font",e.font)},_afterSetAttrFontSize:function(){this._assembleFont()},_afterSetAttrFontFamily:function(){this._assembleFont()},_afterSetAttrFontWeight:function(){this._assembleFont()},_afterSetAttrFontStyle:function(){this._assembleFont()},_afterSetAttrFontVariant:function(){this._assembleFont()},_afterSetAttrTextAlign:function(){var t=this.__attrs.textAlign;this.get("el").setAttribute("text-anchor",s[t])},_afterSetAttrTextBaseLine:function(){var t=this.__attrs.textBaseline;this.get("el").setAttribute("alignment-baseline",a[t]||"baseline")},_afterSetAttrText:function(t){var e=this.__attrs,n=void 0;if(r.isString(t)&&-1!==t.indexOf("\n")){var i=(n=t.split("\n")).length;e.lineCount=i,e.textArr=n}var o=this.get("el");if(~["undefined","null","NaN"].indexOf(String(t))&&o)o.innerHTML="";else if(~t.indexOf("\n")){n=t.split("\n"),e.lineCount=n.length,e.textArr=n;var a="";r.each(n,function(t,e){a+='<tspan x="0" y="'+(e+1)+'em">'+t+"</tspan>"}),o.innerHTML=a}else o.innerHTML=t},_afterSetAttrOutline:function(t){var e=this.get("el");t||e.setAttribute("paint-order","normal");var n=t.stroke||"#000",r=t.fill||this.__attrs.stroke,i=t.lineWidth||2*this.__attrs.lineWidth;e.setAttribute("paint-order","stroke"),e.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;"),e.setAttribute("stroke",n),e.setAttribute("fill",r),e.setAttribute("stroke-width",i)},_afterSetAttrAll:function(t){("fontSize"in t||"fontWeight"in t||"fontStyle"in t||"fontVariant"in t||"fontFamily"in t)&&this._assembleFont(),"textAlign"in t&&this._afterSetAttrTextAlign(),"textBaseline"in t&&this._afterSetAttrTextBaseLine(),"text"in t&&this._afterSetAttrText(t.text),"outline"in t&&this._afterSetAttrOutline(t.outline)}}),t.exports=o},function(t,e,n){var r=n(0),i=n(4),o=function t(e){t.superclass.constructor.call(this,e)};o.ATTRS={x1:0,y1:0,x2:0,y2:0,lineWidth:1,startArrow:!1,endArrow:!1},r.extend(o,i),r.augment(o,{canStroke:!0,type:"line",getDefaultAttrs:function(){return{lineWidth:1,stroke:"#000",startArrow:!1,endArrow:!1}},_afterSetAttrStroke:function(t){var e=this.get("marker-start"),n=this.get("marker-end");e&&this.get("defs").findById(e).update(t),n&&this.get("defs").findById(n).update(t)},_afterSetAttrAll:function(t){t.stroke&&this._afterSetAttrStroke(t.stroke)},createPath:function(){},getPoint:function(t){var e=this.__attrs;return{x:(e.x2-e.x1)*t+e.x1,y:(e.y2-e.y1)*t+e.y1}}}),t.exports=o},function(t,e,n){var r=n(0),i=n(4),o=function t(e){t.superclass.constructor.call(this,e)};o.ATTRS={x:0,y:0,img:void 0,width:0,height:0,sx:null,sy:null,swidth:null,sheight:null},r.extend(o,i),r.augment(o,{type:"image",_afterSetAttrImg:function(t){this._setAttrImg(t)},_afterSetAttrAll:function(t){t.img&&this._setAttrImg(t.img)},_setAttrImg:function(t){var e=this.get("el"),n=this.__attrs,i=t;if(r.isString(i))e.setAttribute("href",i);else if(i instanceof Image)n.width||this.attr("width",i.width),n.height||this.attr("height",i.height),e.setAttribute("href",i.src);else if(i instanceof HTMLElement&&r.isString(i.nodeName)&&"CANVAS"===i.nodeName.toUpperCase())e.setAttribute("href",i.toDataURL());else if(i instanceof ImageData){var o=document.createElement("canvas");o.setAttribute("width",i.width),o.setAttribute("height",i.height),o.getContext("2d").putImageData(i,0,0),n.width||this.attr("width",i.width),n.height||this.attr("height",i.height),e.setAttribute("href",o.toDataURL())}},drawInner:function(){}}),t.exports=o},function(t,e,n){var r=n(0),i=n(4),o=function t(e){t.superclass.constructor.call(this,e)};o.ATTRS={points:null,lineWidth:1},r.extend(o,i),r.augment(o,{canFill:!0,canStroke:!0,type:"polygon",getDefaultAttrs:function(){return{lineWidth:1,fill:"none"}},_afterSetAttrPoints:function(){var t=this.__attrs.points,e=this.get("el"),n=t;t&&0!==t.length?r.isArray(t)&&(n=(n=n.map(function(t){return t[0]+","+t[1]})).join(" ")):n="",e.setAttribute("points",n)},_afterSetAttrAll:function(t){"points"in t&&this._afterSetAttrPoints()},createPath:function(){}}),t.exports=o},function(t,e,n){var r=n(0),i=n(4),o=function t(e){t.superclass.constructor.call(this,e)};o.Symbols={circle:function(t,e,n){return"M"+t+","+e+"\n            m"+-n+",0\n            a "+n+","+n+",0,1,0,"+2*n+",0\n            a "+n+","+n+",0,1,0,"+2*-n+",0"},square:function(t,e,n){return"M"+(t-n)+","+(e-n)+"\n            H"+(t+n)+"V"+(e+n)+"\n            H"+(t-n)+"Z"},diamond:function(t,e,n){return"M"+(t-n)+","+e+"\n             L"+t+","+(e-n)+"\n             L"+(t+n)+","+e+",\n             L"+t+","+(e+n)+"Z"},triangle:function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return"M"+(t-n)+","+(e+r)+"\n            L"+t+","+(e-r)+"\n            L"+(t+n)+","+(e+r)+"Z"},"triangle-down":function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return"M"+(t-n)+","+(e-r)+"\n            L"+(t+n)+","+(e-r)+"\n            L"+t+","+(e+r)+"Z"}},o.ATTRS={path:null,lineWidth:1},r.extend(o,i),r.augment(o,{type:"marker",canFill:!0,canStroke:!0,init:function(t){o.superclass.init.call(this);var e=document.createElementNS("http://www.w3.org/2000/svg","path");t=t||r.uniqueId(this.type+"_"),e.setAttribute("id",t),this.setSilent("el",e)},getDefaultAttrs:function(){return{x:0,y:0,lineWidth:1,fill:"none"}},_afterSetX:function(){this._assembleShape()},_afterSetY:function(){this._assembleShape()},_afterSetRadius:function(){this._assembleShape()},_afterSetR:function(){this._assembleShape()},_afterSetAttrAll:function(t){("x"in t||"y"in t||"radius"in t)&&this._assembleShape()},_assembleShape:function(){var t=this.__attrs,e=t.r;if(void 0===t.r&&(e=t.radius),!(isNaN(Number(t.x))||isNaN(Number(t.y))||isNaN(Number(e)))){var n="";n="function"==typeof t.symbol?t.symbol(t.x,t.y,e):o.Symbols[t.symbol||"circle"](t.x,t.y,e),r.isArray(n)&&(n=n.map(function(t){return t.join(" ")}).join("")),this.get("el").setAttribute("d",n)}}}),t.exports=o},function(t,e,n){var r=n(0),i=n(4),o=function t(e){t.superclass.constructor.call(this,e)};r.extend(o,i),r.augment(o,{canFill:!0,canStroke:!0,type:"dom",_afterSetAttrHtml:function(){var t=this.__attrs.html,e=this.get("el");"string"==typeof t?e.innerHTML=t:(e.innerHTML="",e.appendChild(t))},_afterSetAttrAll:function(t){"html"in t&&this._afterSetAttrHtml()}}),t.exports=o},function(t,e,n){var r=n(0),i=n(4),o=function t(e){t.superclass.constructor.call(this,e)};function a(t,e,n){return{x:e*Math.cos(t)+n.x,y:e*Math.sin(t)+n.y}}o.ATTRS={x:0,y:0,rs:0,re:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1},r.extend(o,i),r.augment(o,{canFill:!0,canStroke:!0,type:"fan",getDefaultAttrs:function(){return{clockwise:!1,lineWidth:1,rs:0,re:0,fill:"none"}},_afterSetAttrX:function(){this._calculatePath()},_afterSetAttrY:function(){this._calculatePath()},_afterSetAttrRs:function(){this._calculatePath()},_afterSetAttrRe:function(){this._calculatePath()},_afterSetAttrStartAngle:function(){this._calculatePath()},_afterSetAttrEndAngle:function(){this._calculatePath()},_afterSetAttrClockwise:function(){this._calculatePath()},_afterSetAttrAll:function(t){("x"in t||"y"in t||"rs"in t||"re"in t||"startAngle"in t||"endAngle"in t||"clockwise"in t)&&this._calculatePath()},_calculatePath:function(){var t=this.__attrs,e={x:t.x,y:t.y},n=[],i=t.startAngle,o=t.endAngle;r.isNumberEqual(o-i,2*Math.PI)&&(o-=1e-5);var s=a(i,t.re,e),u=a(o,t.re,e),c=o>i?1:0,h=Math.abs(o-i)>Math.PI?1:0,l=t.rs,f=t.re,d=a(i,t.rs,e),p=a(o,t.rs,e);t.rs>0?(n.push("M "+u.x+","+u.y),n.push("L "+p.x+","+p.y),n.push("A "+l+","+l+",0,"+h+","+(1===c?0:1)+","+d.x+","+d.y),n.push("L "+s.x+" "+s.y)):(n.push("M "+e.x+","+e.y),n.push("L "+s.x+","+s.y)),n.push("A "+f+","+f+",0,"+h+","+c+","+u.x+","+u.y),t.rs>0?n.push("L "+p.x+","+p.y):n.push("Z"),this.get("el").setAttribute("d",n.join(" "))}}),t.exports=o},function(t,e,n){var r=n(0),i=n(19),o=n(119),a=n(122),s=n(133),u=s.interpolate,c=s.interpolateArray,h=function(){this._animators=[],this._current=0,this._timer=null};function l(t,e,n){var o=e.startTime;if(n<o+e.delay||e.isPaused)return!1;var s=void 0,h=!1,l=e.duration,f=e.easing;return n=n-o-e.delay,e.toAttrs.repeat?(s=n%l/l,s=a[f](s)):(s=n/l)<1?s=a[f](s):(s=1,e.callback&&e.callback(),h=!0),function(t,e,n){var o={},a=e.toAttrs,s=e.fromAttrs,h=e.toMatrix;if(!t.get("destroyed")){var l=void 0;for(var f in a)if(!r.isEqual(s[f],a[f]))if("path"===f){var d=i.parsePathString(a[f]),p=i.parsePathString(s[f]);o[f]=[];for(var g=0;g<d.length;g++){for(var v=d[g],m=p[g],y=[],x=0;x<v.length;x++)r.isNumber(v[x])&&m?(l=u(m[x],v[x]),y.push(l(n))):y.push(v[x]);o[f].push(y)}}else l=u(s[f],a[f]),o[f]=l(n);if(h){var b=c(e.fromMatrix,h)(n);t.setMatrix(b)}t.attr(o)}}(t,e,s),h}r.augment(h,{initTimer:function(){var t=this,e=this,n=void 0,r=void 0,i=void 0,a=void 0;e._timer=o.timer(function(o){if(e._current=o,t._animators.length>0){for(var s=t._animators.length-1;s>=0;s--)if((n=t._animators[s]).get("destroyed"))e.removeAnimator(s);else{if(a||(a=n.get("canvas")),!n.get("pause").isPaused)for(var u=(r=n.get("animators")).length-1;u>=0;u--)i=r[u],l(n,i,o)&&(r.splice(u,1),!1);0===r.length&&e.removeAnimator(s)}a&&a.draw()}})},addAnimator:function(t){this._animators.push(t)},removeAnimator:function(t){this._animators.splice(t,1)},clear:function(){this._animators=[]},isAnimating:function(){return!!this._animators.length},getTime:function(){return this._current}}),t.exports=h},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i});var r=Math.PI/180,i=180/Math.PI},function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"c",function(){return c});var r=n(6),i=n(24),o=n(55),a=n(12);function s(t){return function(e){var n,i,o=e.length,a=new Array(o),s=new Array(o),u=new Array(o);for(n=0;n<o;++n)i=Object(r.f)(e[n]),a[n]=i.r||0,s[n]=i.g||0,u[n]=i.b||0;return a=t(a),s=t(s),u=t(u),i.opacity=1,function(t){return i.r=a(t),i.g=s(t),i.b=u(t),i+""}}}e.a=function t(e){var n=Object(a.b)(e);function i(t,e){var i=n((t=Object(r.f)(t)).r,(e=Object(r.f)(e)).r),o=n(t.g,e.g),s=n(t.b,e.b),u=Object(a.a)(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=o(e),t.b=s(e),t.opacity=u(e),t+""}}return i.gamma=t,i}(1);var u=s(i.b),c=s(o.a)},function(t,e,n){"use strict";var r=n(24);e.a=function(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),o=t[(i+e-1)%e],a=t[i%e],s=t[(i+1)%e],u=t[(i+2)%e];return Object(r.a)((n-i/e)*e,o,a,s,u)}}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";var r=n(21);e.a=function(t,e){var n,i=e?e.length:0,o=t?Math.min(i,t.length):0,a=new Array(o),s=new Array(i);for(n=0;n<o;++n)a[n]=Object(r.a)(t[n],e[n]);for(;n<i;++n)s[n]=e[n];return function(t){for(n=0;n<o;++n)s[n]=a[n](t);return s}}},function(t,e,n){"use strict";e.a=function(t,e){var n=new Date;return e-=t=+t,function(r){return n.setTime(t+e*r),n}}},function(t,e,n){"use strict";var r=n(21),i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(t){return void 0===t?"undefined":o(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":o(t)};e.a=function(t,e){var n,o={},a={};for(n in null!==t&&"object"===(void 0===t?"undefined":i(t))||(t={}),null!==e&&"object"===(void 0===e?"undefined":i(e))||(e={}),e)n in t?o[n]=Object(r.a)(t[n],e[n]):a[n]=e[n];return function(t){for(n in o)a[n]=o[n](t);return a}}},function(t,e,n){"use strict";var r=n(14),i=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,o=new RegExp(i.source,"g");e.a=function(t,e){var n,a,s,u=i.lastIndex=o.lastIndex=0,c=-1,h=[],l=[];for(t+="",e+="";(n=i.exec(t))&&(a=o.exec(e));)(s=a.index)>u&&(s=e.slice(u,s),h[c]?h[c]+=s:h[++c]=s),(n=n[0])===(a=a[0])?h[c]?h[c]+=a:h[++c]=a:(h[++c]=null,l.push({i:c,x:Object(r.a)(n,a)})),u=o.lastIndex;return u<e.length&&(s=e.slice(u),h[c]?h[c]+=s:h[++c]=s),h.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)h[(n=l[r]).i]=n.x(t);return h.join("")})}},function(t,e,n){var r=n(0),i=function(t,e,n,r){this.type=t,this.target=null,this.currentTarget=null,this.bubbles=n,this.cancelable=r,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.removed=!1,this.event=e};r.augment(i,{preventDefault:function(){this.defaultPrevented=this.cancelable&&!0},stopPropagation:function(){this.propagationStopped=!0},remove:function(){this.remove=!0},clone:function(){return r.clone(this)},toString:function(){return"[Event (type="+this.type+")]"}}),t.exports=i},function(t,e,n){var r=n(0),i=n(63),o=n(150),a={},s="_INDEX";function u(t,e,n){for(var r=void 0,i=t.length-1;i>=0;i--){var o=t[i];if(o.__cfg.visible&&o.__cfg.capture&&(o.isGroup?r=o.getShape(e,n):o.isHit(e,n)&&(r=o)),r)break}return r}var c=function t(e){t.superclass.constructor.call(this,e),this.set("children",[]),this._beforeRenderUI(),this._renderUI(),this._bindUI()};r.extend(c,i),r.augment(c,{isGroup:!0,canFill:!0,canStroke:!0,getDefaultCfg:function(){return function t(e){if(!e.__cfg&&e!==c){var n=e.superclass.constructor;n&&!n.__cfg&&t(n),e.__cfg={},r.merge(e.__cfg,n.__cfg),r.merge(e.__cfg,e.CFG)}}(this.constructor),r.merge({},this.constructor.__cfg)},_beforeRenderUI:function(){},_renderUI:function(){},_bindUI:function(){},addShape:function(t,e){var n=this.get("canvas");e=e||{};var i=a[t];if(i||(i=r.upperFirst(t),a[t]=i),e.attrs){var s=e.attrs;if("text"===t){var u=n.get("fontFamily");u&&(s.fontFamily=s.fontFamily?s.fontFamily:u)}}e.canvas=n,e.type=t;var c=new o[i](e);return this.add(c),c},addGroup:function(t,e){var n=this.get("canvas"),i=void 0;if(e=r.merge({},e),r.isFunction(t))e?(e.canvas=n,e.parent=this,i=new t(e)):i=new t({canvas:n,parent:this}),this.add(i);else if(r.isObject(t))t.canvas=n,i=new c(t),this.add(i);else{if(void 0!==t)return!1;i=new c,this.add(i)}return i},renderBack:function(t,e){var n=this.get("backShape"),i=this.getBBox();return r.merge(e,{x:i.minX-t[3],y:i.minY-t[0],width:i.width+t[1]+t[3],height:i.height+t[0]+t[2]}),n?n.attr(e):n=this.addShape("rect",{zIndex:-1,attrs:e}),this.set("backShape",n),this.sort(),n},removeChild:function(t,e){if(arguments.length>=2)this.contain(t)&&t.remove(e);else{if(1===arguments.length){if(!r.isBoolean(t))return this.contain(t)&&t.remove(!0),this;e=t}0===arguments.length&&(e=!0),c.superclass.remove.call(this,e)}return this},add:function(t){var e=this,n=e.get("children");if(r.isArray(t))r.each(t,function(t){var n=t.get("parent");n&&n.removeChild(t,!1),e._setCfgProperty(t)}),n.push.apply(n,t);else{var i=t,o=i.get("parent");o&&o.removeChild(i,!1),e._setCfgProperty(i),n.push(i)}return e},contain:function(t){return this.get("children").indexOf(t)>-1},getChildByIndex:function(t){return this.get("children")[t]},getFirst:function(){return this.getChildByIndex(0)},getLast:function(){var t=this.get("children").length-1;return this.getChildByIndex(t)},_setCfgProperty:function(t){var e=this.__cfg;t.__cfg.parent=this,t.__cfg.context=e.context,t.__cfg.canvas=e.canvas;var n=t.__attrs.clip;n&&(n.setSilent("parent",this),n.setSilent("canvas",e.canvas),n.setSilent("timeline",e.timeline),n.setSilent("context",this.get("context")));var i=t.__cfg.children;i&&r.each(i,function(e){t._setCfgProperty(e)})},getBBox:function(){var t=1/0,e=-1/0,n=1/0,i=-1/0,o=this.get("children");o.length>0?r.each(o,function(r){if(r.get("visible")){var o=r.getBBox();if(!o)return!0;var a=[o.minX,o.minY,1],s=[o.minX,o.maxY,1],u=[o.maxX,o.minY,1],c=[o.maxX,o.maxY,1];r.apply(a),r.apply(s),r.apply(u),r.apply(c);var h=Math.min(a[0],s[0],u[0],c[0]),l=Math.max(a[0],s[0],u[0],c[0]),f=Math.min(a[1],s[1],u[1],c[1]),d=Math.max(a[1],s[1],u[1],c[1]);h<t&&(t=h),l>e&&(e=l),f<n&&(n=f),d>i&&(i=d)}}):(t=0,e=0,n=0,i=0);var a={minX:t,minY:n,maxX:e,maxY:i};return a.x=a.minX,a.y=a.minY,a.width=a.maxX-a.minX,a.height=a.maxY-a.minY,a},drawInner:function(t){for(var e=this.get("children"),n=0;n<e.length;n++){e[n].draw(t)}return this},getCount:function(){return this.get("children").length},sort:function(){var t=this.get("children");return r.each(t,function(t,e){return t[s]=e,t}),t.sort(function(t){return function(e,n){var r=t(e,n);return 0===r?e[s]-n[s]:r}}(function(t,e){return t.get("zIndex")-e.get("zIndex")})),this},findById:function(t){return this.find(function(e){return e.get("id")===t})},find:function(t){if(r.isString(t))return this.findById(t);var e=this.get("children"),n=null;return r.each(e,function(e){if(t(e)?n=e:e.find&&(n=e.find(t)),n)return!1}),n},findAll:function(t){var e=this.get("children"),n=[],i=[];return r.each(e,function(e){t(e)&&n.push(e),e.findAllBy&&(i=e.findAllBy(t),n=n.concat(i))}),n},findBy:function(t){var e=this.get("children"),n=null;return r.each(e,function(e){if(t(e)?n=e:e.findBy&&(n=e.findBy(t)),n)return!1}),n},findAllBy:function(t){var e=this.get("children"),n=[],i=[];return r.each(e,function(e){t(e)&&n.push(e),e.findAllBy&&(i=e.findAllBy(t),n=n.concat(i))}),n},getShape:function(t,e){var n=this.__attrs.clip,r=this.__cfg.children,i=void 0;return n?n.inside(t,e)&&(i=u(r,t,e)):i=u(r,t,e),i},clearTotalMatrix:function(){if(this.get("totalMatrix")){this.setSilent("totalMatrix",null);for(var t=this.__cfg.children,e=0;e<t.length;e++){t[e].clearTotalMatrix()}}},clear:function(){for(var t=this.get("children");0!==t.length;)t[t.length-1].remove();return this},destroy:function(){this.get("destroyed")||(this.clear(),c.superclass.destroy.call(this))}}),t.exports=c},function(t,e,n){var r=n(0),i=n(148),o=n(149),a=n(39),s=n(25),u=n(40),c=["fillStyle","font","globalAlpha","lineCap","lineWidth","lineJoin","miterLimit","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","strokeStyle","textAlign","textBaseline","lineDash","lineDashOffset"],h=function(t){this.__cfg={zIndex:0,capture:!0,visible:!0,destroyed:!1},r.assign(this.__cfg,this.getDefaultCfg(),t),this.initAttrs(this.__cfg.attrs),this.initTransform(),this.init()};h.CFG={id:null,zIndex:0,canvas:null,parent:null,capture:!0,context:null,visible:!0,destroyed:!1},r.augment(h,i,o,u,a,{init:function(){this.setSilent("animable",!0),this.setSilent("animating",!1);var t=this.__attrs;t&&t.rotate&&this.rotateAtStart(t.rotate)},getParent:function(){return this.get("parent")},getDefaultCfg:function(){return{}},set:function(t,e){return"zIndex"===t&&this._beforeSetZIndex&&this._beforeSetZIndex(e),"loading"===t&&this._beforeSetLoading&&this._beforeSetLoading(e),this.__cfg[t]=e,this},setSilent:function(t,e){this.__cfg[t]=e},get:function(t){return this.__cfg[t]},draw:function(t){this.get("destroyed")||this.get("visible")&&(this.setContext(t),this.drawInner(t),this.restoreContext(t))},setContext:function(t){var e=this.__attrs.clip;t.save(),e&&(e.resetTransform(t),e.createPath(t),t.clip()),this.resetContext(t),this.resetTransform(t)},restoreContext:function(t){t.restore()},resetContext:function(t){var e=this.__attrs;if(!this.isGroup)for(var n in e)if(c.indexOf(n)>-1){var i=e[n];"fillStyle"===n&&(i=s.parseStyle(i,this)),"strokeStyle"===n&&(i=s.parseStyle(i,this)),"lineDash"===n&&t.setLineDash?r.isArray(i)?t.setLineDash(i):r.isString(i)&&t.setLineDash(i.split(" ")):t[n]=i}},drawInner:function(){},show:function(){return this.set("visible",!0),this},hide:function(){return this.set("visible",!1),this},remove:function(t){if(void 0===t&&(t=!0),this.get("parent")){var e=this.get("parent").get("children");r.remove(e,this)}return t&&this.destroy(),this},destroy:function(){if(!this.get("destroyed")){if(this.get("animating")){var t=this.get("animateTimer");t&&t.stop()}this.__cfg={},this.__attrs=null,this.removeEvent(),this.set("destroyed",!0)}},_beforeSetZIndex:function(t){return this.__cfg.zIndex=t,r.isNil(this.get("parent"))||this.get("parent").sort(),t},_setAttrs:function(t){return this.attr(t),t},setZIndex:function(t){return this.__cfg.zIndex=t,t},clone:function(){return r.clone(this)},getBBox:function(){return{minX:0,maxX:0,minY:0,maxY:0}}}),t.exports=h},function(t,e,n){var r=n(0),i=n(1),o=n(3),a=function t(e){t.superclass.constructor.call(this,e)};a.ATTRS={x:0,y:0,width:0,height:0,radius:0,lineWidth:1},r.extend(a,i),r.augment(a,{canFill:!0,canStroke:!0,type:"rect",getDefaultAttrs:function(){return{lineWidth:1,radius:0}},calculateBox:function(){var t=this.__attrs,e=t.x,n=t.y,r=t.width,i=t.height,o=this.getHitLineWidth()/2;return{minX:e-o,minY:n-o,maxX:e+r+o,maxY:n+i+o}},isPointInPath:function(t,e){var n=this.hasFill(),r=this.hasStroke();return n&&r?this._isPointInFill(t,e)||this._isPointInStroke(t,e):n?this._isPointInFill(t,e):!!r&&this._isPointInStroke(t,e)},_isPointInFill:function(t,e){var n=this.get("context");return!!n&&(this.createPath(),n.isPointInPath(t,e))},_isPointInStroke:function(t,e){var n=this.__attrs,r=n.x,i=n.y,a=n.width,s=n.height,u=n.radius,c=this.getHitLineWidth();if(0===u){var h=c/2;return o.line(r-h,i,r+a+h,i,c,t,e)||o.line(r+a,i-h,r+a,i+s+h,c,t,e)||o.line(r+a+h,i+s,r-h,i+s,c,t,e)||o.line(r,i+s+h,r,i-h,c,t,e)}return o.line(r+u,i,r+a-u,i,c,t,e)||o.line(r+a,i+u,r+a,i+s-u,c,t,e)||o.line(r+a-u,i+s,r+u,i+s,c,t,e)||o.line(r,i+s-u,r,i+u,c,t,e)||o.arcline(r+a-u,i+u,u,1.5*Math.PI,2*Math.PI,!1,c,t,e)||o.arcline(r+a-u,i+s-u,u,0,.5*Math.PI,!1,c,t,e)||o.arcline(r+u,i+s-u,u,.5*Math.PI,Math.PI,!1,c,t,e)||o.arcline(r+u,i+u,u,Math.PI,1.5*Math.PI,!1,c,t,e)},createPath:function(t){var e=this.__attrs,n=e.x,r=e.y,i=e.width,o=e.height,a=e.radius;(t=t||this.get("context")).beginPath(),0===a?t.rect(n,r,i,o):(t.moveTo(n+a,r),t.lineTo(n+i-a,r),t.arc(n+i-a,r+a,a,-Math.PI/2,0,!1),t.lineTo(n+i,r+o-a),t.arc(n+i-a,r+o-a,a,0,Math.PI/2,!1),t.lineTo(n+a,r+o),t.arc(n+a,r+o-a,a,Math.PI/2,Math.PI,!1),t.lineTo(n,r+a),t.arc(n+a,r+a,a,Math.PI,3*Math.PI/2,!1),t.closePath())}}),t.exports=a},function(t,e,n){var r=n(0),i=n(1),o=n(3),a=function t(e){t.superclass.constructor.call(this,e)};a.ATTRS={x:0,y:0,r:0,lineWidth:1},r.extend(a,i),r.augment(a,{canFill:!0,canStroke:!0,type:"circle",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var t=this.__attrs,e=t.x,n=t.y,r=t.r,i=this.getHitLineWidth()/2+r;return{minX:e-i,minY:n-i,maxX:e+i,maxY:n+i}},isPointInPath:function(t,e){var n=this.hasFill(),r=this.hasStroke();return n&&r?this._isPointInFill(t,e)||this._isPointInStroke(t,e):n?this._isPointInFill(t,e):!!r&&this._isPointInStroke(t,e)},_isPointInFill:function(t,e){var n=this.__attrs,r=n.x,i=n.y,a=n.r;return o.circle(r,i,a,t,e)},_isPointInStroke:function(t,e){var n=this.__attrs,r=n.x,i=n.y,a=n.r,s=this.getHitLineWidth();return o.arcline(r,i,a,0,2*Math.PI,!1,s,t,e)},createPath:function(t){var e=this.__attrs,n=e.x,r=e.y,i=e.r;(t=t||self.get("context")).beginPath(),t.arc(n,r,i,0,2*Math.PI,!1),t.closePath()}}),t.exports=a},function(t,e,n){var r=n(0),i=n(1),o=n(3),a=n(2).mat3,s=n(2).vec3,u=function t(e){t.superclass.constructor.call(this,e)};u.ATTRS={x:0,y:0,rx:1,ry:1,lineWidth:1},r.extend(u,i),r.augment(u,{canFill:!0,canStroke:!0,type:"ellipse",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var t=this.__attrs,e=t.x,n=t.y,r=t.rx,i=t.ry,o=this.getHitLineWidth(),a=r+o/2,s=i+o/2;return{minX:e-a,minY:n-s,maxX:e+a,maxY:n+s}},isPointInPath:function(t,e){var n=this.hasFill(),r=this.hasStroke();return n&&r?this._isPointInFill(t,e)||this._isPointInStroke(t,e):n?this._isPointInFill(t,e):!!r&&this._isPointInStroke(t,e)},_isPointInFill:function(t,e){var n=this.__attrs,r=n.x,i=n.y,u=n.rx,c=n.ry,h=u>c?u:c,l=u>c?1:u/c,f=u>c?c/u:1,d=[t,e,1],p=[1,0,0,0,1,0,0,0,1];a.scale(p,p,[l,f]),a.translate(p,p,[r,i]);var g=a.invert([],p);return s.transformMat3(d,d,g),o.circle(0,0,h,d[0],d[1])},_isPointInStroke:function(t,e){var n=this.__attrs,r=n.x,i=n.y,u=n.rx,c=n.ry,h=this.getHitLineWidth(),l=u>c?u:c,f=u>c?1:u/c,d=u>c?c/u:1,p=[t,e,1],g=[1,0,0,0,1,0,0,0,1];a.scale(g,g,[f,d]),a.translate(g,g,[r,i]);var v=a.invert([],g);return s.transformMat3(p,p,v),o.arcline(0,0,l,0,2*Math.PI,!1,h,p[0],p[1])},createPath:function(t){var e=this.__attrs,n=e.x,r=e.y,i=e.rx,o=e.ry;t=t||self.get("context");var s=i>o?i:o,u=i>o?1:i/o,c=i>o?o/i:1,h=[1,0,0,0,1,0,0,0,1];a.scale(h,h,[u,c]),a.translate(h,h,[n,r]),t.beginPath(),t.save(),t.transform(h[0],h[1],h[3],h[4],h[6],h[7]),t.arc(0,0,s,0,2*Math.PI),t.restore(),t.closePath()}}),t.exports=u},function(t,e,n){var r=n(0),i=n(1),o=n(29),a=n(25),s=n(7),u=n(19),c=n(15),h=function t(e){t.superclass.constructor.call(this,e)};h.ATTRS={path:null,lineWidth:1,curve:null,tCache:null,startArrow:!1,endArrow:!1},r.extend(h,i),r.augment(h,{canFill:!0,canStroke:!0,type:"path",getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},_afterSetAttrPath:function(t){if(r.isNil(t))return this.setSilent("segments",null),void this.setSilent("box",void 0);var e=a.parsePath(t),n=void 0,i=[];if(r.isArray(e)&&0!==e.length&&("M"===e[0][0]||"m"===e[0][0])){for(var s=e.length,u=0;u<e.length;u++){var c=e[u];n=new o(c,n,u===s-1),i.push(n)}this.setSilent("segments",i),this.set("tCache",null),this.setSilent("box",null)}},_afterSetAttrAll:function(t){t.path&&this._afterSetAttrPath(t.path)},calculateBox:function(){var t=this.get("segments");if(!t)return null;var e=this.getHitLineWidth(),n=1/0,i=-1/0,o=1/0,a=-1/0;return r.each(t,function(t){t.getBBox(e);var r=t.box;r&&(r.minX<n&&(n=r.minX),r.maxX>i&&(i=r.maxX),r.minY<o&&(o=r.minY),r.maxY>a&&(a=r.maxY))}),{minX:n,minY:o,maxX:i,maxY:a}},isPointInPath:function(t,e){var n=this.hasFill(),r=this.hasStroke();return n&&r?this._isPointInFill(t,e)||this._isPointInStroke(t,e):n?this._isPointInFill(t,e):!!r&&this._isPointInStroke(t,e)},_isPointInFill:function(t,e){var n=this.get("context");if(n)return this.createPath(),n.isPointInPath(t,e)},_isPointInStroke:function(t,e){var n=this.get("segments");if(!r.isEmpty(n))for(var i=this.getHitLineWidth(),o=0,a=n.length;o<a;o++)if(n[o].isInside(t,e,i))return!0;return!1},_setTcache:function(){var t=0,e=0,n=[],i=void 0,o=void 0,a=void 0,s=void 0,u=this.curve;u&&(r.each(u,function(e,n){a=u[n+1],s=e.length,a&&(t+=c.len(e[s-2],e[s-1],a[1],a[2],a[3],a[4],a[5],a[6]))}),r.each(u,function(r,h){a=u[h+1],s=r.length,a&&((i=[])[0]=e/t,o=c.len(r[s-2],r[s-1],a[1],a[2],a[3],a[4],a[5],a[6]),e+=o,i[1]=e/t,n.push(i))}),this.tCache=n)},_calculateCurve:function(){var t=this.__attrs.path;this.curve=u.pathTocurve(t)},getStartTangent:function(){var t=this.get("segments"),e=void 0,n=void 0,i=void 0,o=void 0;if(t.length>1)if(e=t[0].endPoint,n=t[1].endPoint,i=t[1].startTangent,o=[],r.isFunction(i)){var a=i();o.push([e.x-a[0],e.y-a[1]]),o.push([e.x,e.y])}else o.push([n.x,n.y]),o.push([e.x,e.y]);return o},getEndTangent:function(){var t=this.get("segments"),e=t.length,n=void 0,i=void 0,o=void 0,a=void 0;if(e>1)if(n=t[e-2].endPoint,i=t[e-1].endPoint,o=t[e-1].endTangent,a=[],r.isFunction(o)){var s=o();a.push([i.x-s[0],i.y-s[1]]),a.push([i.x,i.y])}else a.push([n.x,n.y]),a.push([i.x,i.y]);return a},getPoint:function(t){var e=this.tCache,n=void 0,i=void 0;e||(this._calculateCurve(),this._setTcache(),e=this.tCache);var o=this.curve;if(!e)return o?{x:o[0][1],y:o[0][2]}:null;r.each(e,function(e,r){t>=e[0]&&t<=e[1]&&(n=(t-e[0])/(e[1]-e[0]),i=r)});var a=o[i];if(r.isNil(a)||r.isNil(i))return null;var s=a.length,u=o[i+1];return{x:c.at(a[s-2],u[1],u[3],u[5],1-n),y:c.at(a[s-1],u[2],u[4],u[6],1-n)}},createPath:function(t){var e=this.get("segments");if(r.isArray(e)){(t=t||this.get("context")).beginPath();for(var n=e.length,i=0;i<n;i++)e[i].draw(t)}},afterPath:function(t){var e=this.__attrs,n=this.get("segments"),i=e.path;if(t=t||this.get("context"),r.isArray(n)&&(e.startArrow||e.endArrow)&&"z"!==i[i.length-1]&&"Z"!==i[i.length-1]&&!e.fill){var o=this.getStartTangent();s.addStartArrow(t,e,o[0][0],o[0][1],o[1][0],o[1][1]);var a=this.getEndTangent();s.addEndArrow(t,e,a[0][0],a[0][1],a[1][0],a[1][1])}}}),t.exports=h},function(t,e,n){var r=n(0),i=n(1),o=n(3),a=function t(e){t.superclass.constructor.call(this,e)};a.ATTRS={x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom",lineHeight:null,textArr:null},r.extend(a,i),r.augment(a,{canFill:!0,canStroke:!0,type:"text",getDefaultAttrs:function(){return{lineWidth:1,lineCount:1,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"}},initTransform:function(){this.attr("matrix",[1,0,0,0,1,0,0,0,1]);var t=this.__attrs.fontSize;t&&+t<12&&this.transform([["t",-1*this.__attrs.x,-1*this.__attrs.y],["s",+t/12,+t/12],["t",this.__attrs.x,this.__attrs.y]])},_assembleFont:function(){var t=this.__attrs,e=t.fontSize,n=t.fontFamily,r=t.fontWeight,i=t.fontStyle,o=t.fontVariant;t.font=[i,o,r,e+"px",n].join(" ")},_afterSetAttrFontSize:function(){this._assembleFont()},_afterSetAttrFontFamily:function(){this._assembleFont()},_afterSetAttrFontWeight:function(){this._assembleFont()},_afterSetAttrFontStyle:function(){this._assembleFont()},_afterSetAttrFontVariant:function(){this._assembleFont()},_afterSetAttrFont:function(){},_afterSetAttrText:function(){var t=this.__attrs,e=t.text,n=void 0;if(r.isString(e)&&-1!==e.indexOf("\n")){var i=(n=e.split("\n")).length;t.lineCount=i,t.textArr=n}},_getTextHeight:function(){var t=this.__attrs,e=t.lineCount,n=1*t.fontSize;return e>1?n*e+this._getSpaceingY()*(e-1):n},_afterSetAttrAll:function(t){("fontSize"in t||"fontWeight"in t||"fontStyle"in t||"fontVariant"in t||"fontFamily"in t)&&this._assembleFont(),"text"in t&&this._afterSetAttrText(t.text)},isHitBox:function(){return!1},calculateBox:function(){var t=this.__attrs,e=t.x,n=t.y,r=this.measureText();if(!r)return{minX:e,minY:n,maxX:e,maxY:n};var i=this._getTextHeight(),o=t.textAlign,a=t.textBaseline,s=this.getHitLineWidth(),u={x:e,y:n-i};o&&("end"===o||"right"===o?u.x-=r:"center"===o&&(u.x-=r/2)),a&&("top"===a?u.y+=i:"middle"===a&&(u.y+=i/2)),this.set("startPoint",u);var c=s/2;return{minX:u.x-c,minY:u.y-c,maxX:u.x+r+c,maxY:u.y+i+c}},_getSpaceingY:function(){var t=this.__attrs,e=t.lineHeight,n=1*t.fontSize;return e?e-n:.14*n},isPointInPath:function(t,e){var n=this.getBBox();if(this.hasFill()||this.hasStroke())return o.box(n.minX,n.maxX,n.minY,n.maxY,t,e)},drawInner:function(t){var e=this.__attrs,n=e.text;if(n){var i=e.textArr,o=e.x,a=e.y;if(t.beginPath(),this.hasStroke()){var s=e.strokeOpacity;r.isNil(s)||1===s||(t.globalAlpha=s),i?this._drawTextArr(t,!1):t.strokeText(n,o,a),t.globalAlpha=1}if(this.hasFill()){var u=e.fillOpacity;r.isNil(u)||1===u||(t.globalAlpha=u),i?this._drawTextArr(t,!0):t.fillText(n,o,a)}}},_drawTextArr:function(t,e){var n=this.__attrs.textArr,i=this.__attrs.textBaseline,o=1*this.__attrs.fontSize,a=this._getSpaceingY(),s=this.__attrs.x,u=this.__attrs.y,c=this.getBBox(),h=c.maxY-c.minY,l=void 0;r.each(n,function(n,r){l=u+r*(a+o)-h+o,"middle"===i&&(l+=h-o-(h-o)/2),"top"===i&&(l+=h-o),e?t.fillText(n,s,l):t.strokeText(n,s,l)})},measureText:function(){var t=this.__attrs,e=t.text,n=t.font,i=t.textArr,o=void 0,a=0;if(!r.isNil(e)){var s=document.createElement("canvas").getContext("2d");return s.save(),s.font=n,i?r.each(i,function(t){o=s.measureText(t).width,a<o&&(a=o),s.restore()}):(a=s.measureText(e).width,s.restore()),a}}}),t.exports=a},function(t,e,n){var r=n(0),i=n(1),o=n(3),a=n(7),s=n(26),u=function t(e){t.superclass.constructor.call(this,e)};u.ATTRS={x1:0,y1:0,x2:0,y2:0,lineWidth:1,startArrow:!1,endArrow:!1},r.extend(u,i),r.augment(u,{canStroke:!0,type:"line",getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var t=this.__attrs,e=t.x1,n=t.y1,r=t.x2,i=t.y2,o=this.getHitLineWidth();return s.box(e,n,r,i,o)},isPointInPath:function(t,e){var n=this.__attrs,r=n.x1,i=n.y1,a=n.x2,s=n.y2,u=this.getHitLineWidth();return!!this.hasStroke()&&o.line(r,i,a,s,u,t,e)},createPath:function(t){var e=this.__attrs,n=e.x1,r=e.y1,i=e.x2,o=e.y2;(t=t||self.get("context")).beginPath(),t.moveTo(n,r),t.lineTo(i,o)},afterPath:function(t){var e=this.__attrs,n=e.x1,r=e.y1,i=e.x2,o=e.y2;t=t||this.get("context"),e.startArrow&&a.addStartArrow(t,e,i,o,n,r),e.endArrow&&a.addEndArrow(t,e,n,r,i,o)},getPoint:function(t){var e=this.__attrs;return{x:s.at(e.x1,e.x2,t),y:s.at(e.y1,e.y2,t)}}}),t.exports=u},function(t,e,n){var r=n(0),i=n(1),o=n(3),a=function t(e){t.superclass.constructor.call(this,e)};a.ATTRS={x:0,y:0,img:void 0,width:0,height:0,sx:null,sy:null,swidth:null,sheight:null},r.extend(a,i),r.augment(a,{type:"image",_afterSetAttrImg:function(t){this._setAttrImg(t)},_afterSetAttrAll:function(t){t.img&&this._setAttrImg(t.img)},isHitBox:function(){return!1},calculateBox:function(){var t=this.__attrs,e=t.x,n=t.y;return{minX:e,minY:n,maxX:e+t.width,maxY:n+t.height}},isPointInPath:function(t,e){var n=this.__attrs;if(this.get("toDraw")||!n.img)return!1;var r=n.x,i=n.y,a=n.width,s=n.height;return o.rect(r,i,a,s,t,e)},_beforeSetLoading:function(t){var e=this.get("canvas");return!1===t&&!0===this.get("toDraw")&&(this.__cfg.loading=!1,e.draw()),t},_setAttrImg:function(t){var e=this,n=e.__attrs;if(!r.isString(t))return t instanceof Image?(n.width||e.attr("width",t.width),n.height||e.attr("height",t.height),t):t instanceof HTMLElement&&r.isString(t.nodeName)&&"CANVAS"===t.nodeName.toUpperCase()?(n.width||e.attr("width",Number(t.getAttribute("width"))),n.height||e.attr("height",Number(t.getAttribute("height"))),t):t instanceof ImageData?(n.width||e.attr("width",t.width),n.height||e.attr("height",t.height),t):null;var i=new Image;i.onload=function(){if(e.get("destroyed"))return!1;e.attr("imgSrc",t),e.attr("img",i);var n=e.get("callback");n&&n.call(e),e.set("loading",!1)},i.src=t,i.crossOrigin="Anonymous",e.set("loading",!0)},drawInner:function(t){this.get("loading")?this.set("toDraw",!0):this._drawImage(t)},_drawImage:function(t){var e=this.__attrs,n=e.x,i=e.y,o=e.img,a=e.width,s=e.height,u=e.sx,c=e.sy,h=e.swidth,l=e.sheight;this.set("toDraw",!1);var f=o;if(f instanceof ImageData&&((f=new Image).src=o),f instanceof Image||f instanceof HTMLElement&&r.isString(f.nodeName)&&"CANVAS"===f.nodeName.toUpperCase()){if(r.isNil(u)||r.isNil(c)||r.isNil(h)||r.isNil(l))return void t.drawImage(f,n,i,a,s);if(!(r.isNil(u)||r.isNil(c)||r.isNil(h)||r.isNil(l)))return void t.drawImage(f,u,c,h,l,n,i,a,s)}}}),t.exports=a},function(t,e,n){var r=n(0),i=n(1),o=n(3),a=function t(e){t.superclass.constructor.call(this,e)};a.ATTRS={points:null,lineWidth:1},r.extend(a,i),r.augment(a,{canFill:!0,canStroke:!0,type:"polygon",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var t=this.__attrs.points,e=this.getHitLineWidth();if(!t||0===t.length)return null;var n=1/0,i=1/0,o=-1/0,a=-1/0;r.each(t,function(t){var e=t[0],r=t[1];e<n&&(n=e),e>o&&(o=e),r<i&&(i=r),r>a&&(a=r)});var s=e/2;return{minX:n-s,minY:i-s,maxX:o+s,maxY:a+s}},isPointInPath:function(t,e){var n=this.hasFill(),r=this.hasStroke();return n&&r?this._isPointInFill(t,e)||this._isPointInStroke(t,e):n?this._isPointInFill(t,e):!!r&&this._isPointInStroke(t,e)},_isPointInFill:function(t,e){var n=this.get("context");return this.createPath(),n.isPointInPath(t,e)},_isPointInStroke:function(t,e){var n=this.__attrs.points;if(n.length<2)return!1;var r=this.getHitLineWidth(),i=n.slice(0);return n.length>=3&&i.push(n[0]),o.polyline(i,r,t,e)},createPath:function(t){var e=this.__attrs.points;e.length<2||((t=t||this.get("context")).beginPath(),r.each(e,function(e,n){0===n?t.moveTo(e[0],e[1]):t.lineTo(e[0],e[1])}),t.closePath())}}),t.exports=a},function(t,e,n){var r=n(0),i=n(1),o=n(3),a=n(7),s=n(26),u=function t(e){t.superclass.constructor.call(this,e)};u.ATTRS={points:null,lineWidth:1,startArrow:!1,endArrow:!1,tCache:null},r.extend(u,i),r.augment(u,{canStroke:!0,type:"polyline",tCache:null,getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var t=this.__attrs,e=this.getHitLineWidth(),n=t.points;if(!n||0===n.length)return null;var i=1/0,o=1/0,a=-1/0,s=-1/0;r.each(n,function(t){var e=t[0],n=t[1];e<i&&(i=e),e>a&&(a=e),n<o&&(o=n),n>s&&(s=n)});var u=e/2;return{minX:i-u,minY:o-u,maxX:a+u,maxY:s+u}},_setTcache:function(){var t=this.__attrs.points,e=0,n=0,i=[],o=void 0,a=void 0;t&&0!==t.length&&(r.each(t,function(n,r){t[r+1]&&(e+=s.len(n[0],n[1],t[r+1][0],t[r+1][1]))}),e<=0||(r.each(t,function(r,u){t[u+1]&&((o=[])[0]=n/e,a=s.len(r[0],r[1],t[u+1][0],t[u+1][1]),n+=a,o[1]=n/e,i.push(o))}),this.tCache=i))},isPointInPath:function(t,e){var n=this.__attrs;if(this.hasStroke()){var r=n.points;if(r.length<2)return!1;var i=n.lineWidth;return o.polyline(r,i,t,e)}return!1},createPath:function(t){var e,n=this.__attrs.points,r=void 0;if(!(n.length<2)){for((t=t||this.get("context")).beginPath(),t.moveTo(n[0][0],n[0][1]),r=1,e=n.length-1;r<e;r++)t.lineTo(n[r][0],n[r][1]);t.lineTo(n[e][0],n[e][1])}},getStartTangent:function(){var t=this.__attrs.points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},getEndTangent:function(){var t=this.__attrs.points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},afterPath:function(t){var e=this.__attrs,n=e.points,r=n.length-1;t=t||this.get("context"),e.startArrow&&a.addStartArrow(t,e,n[1][0],n[1][1],n[0][0],n[0][1]),e.endArrow&&a.addEndArrow(t,e,n[r-1][0],n[r-1][1],n[r][0],n[r][1])},getPoint:function(t){var e=this.__attrs.points,n=this.tCache,i=void 0,o=void 0;return n||(this._setTcache(),n=this.tCache),r.each(n,function(e,n){t>=e[0]&&t<=e[1]&&(i=(t-e[0])/(e[1]-e[0]),o=n)}),{x:s.at(e[o][0],e[o+1][0],i),y:s.at(e[o][1],e[o+1][1],i)}}}),t.exports=u},function(t,e,n){var r=n(0),i=n(1),o=n(3),a=n(28),s=n(7);function u(t,e,n){return t+e*Math.cos(n)}function c(t,e,n){return t+e*Math.sin(n)}var h=function t(e){t.superclass.constructor.call(this,e)};h.ATTRS={x:0,y:0,r:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1,startArrow:!1,endArrow:!1},r.extend(h,i),r.augment(h,{canStroke:!0,type:"arc",getDefaultAttrs:function(){return{x:0,y:0,r:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var t=this.__attrs,e=t.x,n=t.y,r=t.r,i=t.startAngle,o=t.endAngle,s=t.clockwise,u=this.getHitLineWidth()/2,c=a.box(e,n,r,i,o,s);return c.minX-=u,c.minY-=u,c.maxX+=u,c.maxY+=u,c},getStartTangent:function(){var t=this.__attrs,e=t.x,n=t.y,r=t.startAngle,i=t.r,o=t.clockwise,a=Math.PI/180;o&&(a*=-1);var s=[],h=u(e,i,r+a),l=c(n,i,r+a),f=u(e,i,r),d=c(n,i,r);return s.push([h,l]),s.push([f,d]),s},getEndTangent:function(){var t=this.__attrs,e=t.x,n=t.y,r=t.endAngle,i=t.r,o=t.clockwise,a=Math.PI/180,s=[];o&&(a*=-1);var h=u(e,i,r+a),l=c(n,i,r+a),f=u(e,i,r),d=c(n,i,r);return s.push([f,d]),s.push([h,l]),s},isPointInPath:function(t,e){var n=this.__attrs,r=n.x,i=n.y,a=n.r,s=n.startAngle,u=n.endAngle,c=n.clockwise,h=this.getHitLineWidth();return!!this.hasStroke()&&o.arcline(r,i,a,s,u,c,h,t,e)},createPath:function(t){var e=this.__attrs,n=e.x,r=e.y,i=e.r,o=e.startAngle,a=e.endAngle,s=e.clockwise;(t=t||self.get("context")).beginPath(),t.arc(n,r,i,o,a,s)},afterPath:function(t){var e=this.__attrs;if(t=t||this.get("context"),e.startArrow){var n=this.getStartTangent();s.addStartArrow(t,e,n[0][0],n[0][1],n[1][0],n[1][1])}if(e.endArrow){var r=this.getEndTangent();s.addEndArrow(t,e,r[0][0],r[0][1],r[1][0],r[1][1])}}}),t.exports=h},function(t,e,n){var r=n(0),i=n(1),o=n(3),a=n(28),s=n(2).vec2,u=function t(e){t.superclass.constructor.call(this,e)};u.ATTRS={x:0,y:0,rs:0,re:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1},r.extend(u,i),r.augment(u,{canFill:!0,canStroke:!0,type:"fan",getDefaultAttrs:function(){return{clockwise:!1,lineWidth:1,rs:0,re:0}},calculateBox:function(){var t=this.__attrs,e=t.x,n=t.y,r=t.rs,i=t.re,o=t.startAngle,s=t.endAngle,u=t.clockwise,c=this.getHitLineWidth(),h=a.box(e,n,r,o,s,u),l=a.box(e,n,i,o,s,u),f=c/2;return{minX:Math.min(h.minX,l.minX)-f,minY:Math.min(h.minY,l.minY)-f,maxX:Math.max(h.maxX,l.maxX)+f,maxY:Math.max(h.maxY,l.maxY)+f}},isPointInPath:function(t,e){var n=this.hasFill(),r=this.hasStroke();return n&&r?this._isPointInFill(t,e)||this._isPointInStroke(t,e):n?this._isPointInFill(t,e):!!r&&this._isPointInStroke(t,e)},_isPointInFill:function(t,e){var n=this.__attrs,i=n.x,o=n.y,u=n.rs,c=n.re,h=n.startAngle,l=n.endAngle,f=n.clockwise,d=[t-i,e-o],p=s.angleTo([1,0],d),g=a.nearAngle(p,h,l,f);if(r.isNumberEqual(p,g)){var v=s.squaredLength(d);if(u*u<=v&&v<=c*c)return!0}return!1},_isPointInStroke:function(t,e){var n=this.__attrs,r=n.x,i=n.y,a=n.rs,s=n.re,u=n.startAngle,c=n.endAngle,h=n.clockwise,l=this.getHitLineWidth(),f={x:Math.cos(u)*a+r,y:Math.sin(u)*a+i},d={x:Math.cos(u)*s+r,y:Math.sin(u)*s+i},p={x:Math.cos(c)*a+r,y:Math.sin(c)*a+i},g={x:Math.cos(c)*s+r,y:Math.sin(c)*s+i};return!!o.line(f.x,f.y,d.x,d.y,l,t,e)||(!!o.line(p.x,p.y,g.x,g.y,l,t,e)||(!!o.arcline(r,i,a,u,c,h,l,t,e)||!!o.arcline(r,i,s,u,c,h,l,t,e)))},createPath:function(t){var e=this.__attrs,n=e.x,r=e.y,i=e.rs,o=e.re,a=e.startAngle,s=e.endAngle,u=e.clockwise,c={x:Math.cos(a)*i+n,y:Math.sin(a)*i+r},h={x:Math.cos(a)*o+n,y:Math.sin(a)*o+r},l={x:Math.cos(s)*i+n,y:Math.sin(s)*i+r};(t=t||self.get("context")).beginPath(),t.moveTo(c.x,c.y),t.lineTo(h.x,h.y),t.arc(n,r,o,a,s,u),t.lineTo(l.x,l.y),t.arc(n,r,i,s,a,!u),t.closePath()}}),t.exports=u},function(t,e,n){var r=n(0),i=n(1),o=n(3),a=n(7),s=n(15),u=function t(e){t.superclass.constructor.call(this,e)};u.ATTRS={p1:null,p2:null,p3:null,p4:null,lineWidth:1,startArrow:!1,endArrow:!1},r.extend(u,i),r.augment(u,{canStroke:!0,type:"cubic",getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var t=this.__attrs,e=t.p1,n=t.p2,i=t.p3,o=t.p4,a=this.getHitLineWidth(),u=void 0,c=void 0;if(r.isNil(e)||r.isNil(n)||r.isNil(i)||r.isNil(o))return null;var h=a/2,l=s.extrema(e[0],n[0],i[0],o[0]);for(u=0,c=l.length;u<c;u++)l[u]=s.at(e[0],n[0],i[0],o[0],l[u]);var f=s.extrema(e[1],n[1],i[1],o[1]);for(u=0,c=f.length;u<c;u++)f[u]=s.at(e[1],n[1],i[1],o[1],f[u]);return l.push(e[0],o[0]),f.push(e[1],o[1]),{minX:Math.min.apply(Math,l)-h,maxX:Math.max.apply(Math,l)+h,minY:Math.min.apply(Math,f)-h,maxY:Math.max.apply(Math,f)+h}},isPointInPath:function(t,e){var n=this.__attrs,r=n.p1,i=n.p2,a=n.p3,s=n.p4,u=this.getHitLineWidth();return o.cubicline(r[0],r[1],i[0],i[1],a[0],a[1],s[0],s[1],u,t,e)},createPath:function(t){var e=this.__attrs,n=e.p1,i=e.p2,o=e.p3,a=e.p4;t=t||self.get("context"),r.isNil(n)||r.isNil(i)||r.isNil(o)||r.isNil(a)||(t.beginPath(),t.moveTo(n[0],n[1]),t.bezierCurveTo(i[0],i[1],o[0],o[1],a[0],a[1]))},afterPath:function(t){var e=this.__attrs,n=e.p1,r=e.p2,i=e.p3,o=e.p4;t=t||this.get("context"),e.startArrow&&a.addStartArrow(t,e,r[0],r[1],n[0],n[1]),e.endArrow&&a.addEndArrow(t,e,i[0],i[1],o[0],o[1])},getPoint:function(t){var e=this.__attrs;return{x:s.at(e.p4[0],e.p3[0],e.p2[0],e.p1[0],t),y:s.at(e.p4[1],e.p3[1],e.p2[1],e.p1[1],t)}}}),t.exports=u},function(t,e,n){var r=n(0),i=n(1),o=n(3),a=n(7),s=n(27),u=function t(e){t.superclass.constructor.call(this,e)};u.ATTRS={p1:null,p2:null,p3:null,lineWidth:1,startArrow:!1,endArrow:!1},r.extend(u,i),r.augment(u,{canStroke:!0,type:"quadratic",getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var t=this.__attrs,e=t.p1,n=t.p2,i=t.p3,o=this.getHitLineWidth(),a=void 0,u=void 0;if(r.isNil(e)||r.isNil(n)||r.isNil(i))return null;var c=o/2,h=s.extrema(e[0],n[0],i[0]);for(a=0,u=h.length;a<u;a++)h[a]=s.at(e[0],n[0],i[0],h[a]);h.push(e[0],i[0]);var l=s.extrema(e[1],n[1],i[1]);for(a=0,u=l.length;a<u;a++)l[a]=s.at(e[1],n[1],i[1],l[a]);return l.push(e[1],i[1]),{minX:Math.min.apply(Math,h)-c,maxX:Math.max.apply(Math,h)+c,minY:Math.min.apply(Math,l)-c,maxY:Math.max.apply(Math,l)+c}},isPointInPath:function(t,e){var n=this.__attrs,r=n.p1,i=n.p2,a=n.p3,s=this.getHitLineWidth();return o.quadraticline(r[0],r[1],i[0],i[1],a[0],a[1],s,t,e)},createPath:function(t){var e=this.__attrs,n=e.p1,i=e.p2,o=e.p3;r.isNil(n)||r.isNil(i)||r.isNil(o)||((t=t||this.get("context")).beginPath(),t.moveTo(n[0],n[1]),t.quadraticCurveTo(i[0],i[1],o[0],o[1]))},afterPath:function(t){var e=this.__attrs,n=e.p1,r=e.p2,i=e.p3;t=t||this.get("context"),e.startArrow&&a.addStartArrow(t,e,r[0],r[1],n[0],n[1]),e.endArrow&&a.addEndArrow(t,e,r[0],r[1],i[0],i[1])},getPoint:function(t){var e=this.__attrs;return{x:s.at(e.p1[0],e.p2[0],e.p3[0],t),y:s.at(e.p1[1],e.p2[1],e.p3[1],t)}}}),t.exports=u},function(t,e,n){var r=n(0),i=n(1),o=n(3),a=n(25),s=n(29),u=function t(e){t.superclass.constructor.call(this,e)};u.Symbols={circle:function(t,e,n){return[["M",t,e],["m",-n,0],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0]]},square:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]]},diamond:function(t,e,n){return[["M",t-n,e],["L",t,e-n],["L",t+n,e],["L",t,e+n],["Z"]]},triangle:function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e+r],["L",t,e-r],["L",t+n,e+r],["z"]]},"triangle-down":function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e-r],["L",t+n,e-r],["L",t,e+r],["Z"]]}},u.ATTRS={path:null,lineWidth:1},r.extend(u,i),r.augment(u,{type:"marker",canFill:!0,canStroke:!0,getDefaultAttrs:function(){return{x:0,y:0,lineWidth:1}},calculateBox:function(){var t=this.__attrs,e=t.x,n=t.y,r=t.radius,i=this.getHitLineWidth()/2+r;return{minX:e-i,minY:n-i,maxX:e+i,maxY:n+i}},isPointInPath:function(t,e){var n=this.__attrs,r=n.x,i=n.y,a=n.radius||n.r,s=this.getHitLineWidth();return o.circle(r,i,a+s/2,t,e)},createPath:function(t){var e=this.__attrs,n=e.x,i=e.y,o=e.radius||e.r,c=e.symbol||"circle",h=(r.isFunction(c)?c:u.Symbols[c])(n,i,o);h=a.parsePath(h),t.beginPath();for(var l=void 0,f=0;f<h.length;f++){var d=h[f];(l=new s(d,l,f===h.length-1)).draw(t)}}}),t.exports=u},function(t,e,n){t.exports={svg:n(79),canvas:n(146),CommonUtil:n(8),DomUtil:n(36),MatrixUtil:n(2),PathUtil:n(19),version:"3.0.0-beta.11"}},function(t,e,n){t.exports={Canvas:n(80),Group:n(38),Shape:n(4),Rect:n(41),Circle:n(42),Ellipse:n(43),Path:n(44),Text:n(45),Line:n(46),Image:n(47),Polygon:n(48),Marker:n(49),Dom:n(50),Fan:n(51),Event:n(37)}},function(t,e,n){var r=n(0),i=n(37),o=n(38),a=n(114),s=n(52),u=function t(e){t.superclass.constructor.call(this,e)};u.CFG={eventEnable:!0,width:null,height:null,widthCanvas:null,heightCanvas:null,widthStyle:null,heightStyle:null,containerDOM:null,canvasDOM:null,pixelRatio:r.getRatio()},r.extend(u,o),r.augment(u,{init:function(){u.superclass.init.call(this),this._setDOM(),this._setInitSize(),this.get("eventEnable")&&this._registEvents()},getEmitter:function(t,e){if(t){if(!r.isEmpty(t._getEvents()))return t;var n=t.get("parent");if(n&&!e.propagationStopped)return this.getEmitter(n,e)}},_getEventObj:function(t,e,n,r){var o=new i(t,e,!0,!0);return o.x=n.x,o.y=n.y,o.clientX=e.clientX,o.clientY=e.clientY,o.currentTarget=r,o.target=r,o},_triggerEvent:function(t,e){var n=this.getPointByClient(e.clientX,e.clientY),r=this.findShape(e.srcElement),i=void 0;if("mousemove"===t){var o=this.get("preShape");if(o&&o!==r){var a=this._getEventObj("mouseleave",e,n,o);(i=this.getEmitter(o,e))&&i.emit("mouseleave",a)}if(r){var s=this._getEventObj("mousemove",e,n,r);if((i=this.getEmitter(r,e))&&i.emit("mousemove",s),o!==r){var u=this._getEventObj("mouseenter",e,n,r);i&&i.emit("mouseenter",u,e)}}else{var c=this._getEventObj("mousemove",e,n,this);this.emit("mousemove",c)}this.set("preShape",r)}else{var h=this._getEventObj(t,e,n,r||this);(i=this.getEmitter(r,e))&&i!==this&&i.emit(t,h),this.emit(t,h)}var l=this.get("el");r&&!r.get("destroyed")&&(l.style.cursor=r.attr("cursor")||"default")},_registEvents:function(){var t=this,e=t.get("el");r.each(["mouseout","mouseover","mousemove","mousedown","mouseup","click","dblclick"],function(n){e.addEventListener(n,function(e){t._triggerEvent(n,e)},!1)}),e.addEventListener("touchstart",function(e){r.isEmpty(e.touches)||t._triggerEvent("touchstart",e.touches[0])},!1),e.addEventListener("touchmove",function(e){r.isEmpty(e.touches)||t._triggerEvent("touchmove",e.touches[0])},!1),e.addEventListener("touchend",function(e){r.isEmpty(e.changedTouches)||t._triggerEvent("touchend",e.changedTouches[0])},!1)},_setDOM:function(){this._setContainer(),this._setLayer()},_setContainer:function(){var t=this.get("containerId"),e=this.get("containerDOM");e||(e=document.getElementById(t),this.set("containerDOM",e)),r.modifyCSS(e,{position:"relative"})},_setLayer:function(){var t=this.get("containerDOM"),e=r.uniqueId("svg_");if(t){var n=r.createDom('<svg id="'+e+'"></svg>');t.appendChild(n);var i=new a;n.appendChild(i.get("el")),this.set("canvasDOM",n),this.set("el",n),this.set("defs",i),this.set("canvas",this)}var o=this.get("canvasDOM"),u=new s;this.setSilent("timeline",u),this.set("context",o)},_setInitSize:function(){this.changeSize(this.get("width"),this.get("height")),this.set("pixelRatio",1)},_resize:function(){var t=this.get("canvasDOM"),e=this.get("widthCanvas"),n=this.get("heightCanvas"),r=this.get("widthStyle"),i=this.get("heightStyle");t.style.width=r,t.style.height=i,t.setAttribute("width",e),t.setAttribute("height",n)},getWidth:function(){return this.get("width")},getHeight:function(){return this.get("height")},changeSize:function(t,e){this.set("widthCanvas",t),this.set("heightCanvas",e),this.set("widthStyle",t+"px"),this.set("heightStyle",e+"px"),this.set("width",t),this.set("height",e),this._resize()},getPointByClient:function(t,e){var n=this.get("el").getBoundingClientRect();return{x:t-n.left,y:e-n.top}},getClientByPoint:function(t,e){var n=this.get("el").getBoundingClientRect();return{clientX:t+n.left,clientY:e+n.top}},beforeDraw:function(){this.get("el").innerHTML=""},_beginDraw:function(){this.setSilent("toDraw",!0)},_endDraw:function(){this.setSilent("toDraw",!1)},draw:function(){},destroy:function(){var t=this.get("containerDOM"),e=this.get("canvasDOM");e&&t&&t.removeChild(e),u.superclass.destroy.call(this)}}),t.exports=u},function(t,e,n){var r=n(82),i=n(83),o=n(86),a=n(88),s=n(89),u=n(10),c=n(16),h={arrayUtil:r,eventUtil:i,mathUtil:o,stringUtil:a,typeUtil:s,augment:n(91),clone:n(92),deepMix:n(93),each:u,extend:n(94),filter:n(95),group:n(96),groupBy:n(34),groupToMap:n(33),indexOf:n(97),isEmpty:n(98),isEqual:n(35),isEqualWith:n(103),map:n(104),mix:c,pick:n(105),toArray:n(30),toString:n(106),uniqueId:n(107)};u([r,i,o,a,s],function(t){c(h,t)}),t.exports=h},function(t,e,n){var r=n(5),i=Array.prototype,o=i.slice,a=i.indexOf,s=i.splice;function u(t,e){return!!r(t)&&a.call(t,e)>-1}function c(t){for(var e=o.call(arguments,1),n=0;n<e.length;n++)for(var r=e[n],i=-1;(i=a.call(t,r))>-1;)s.call(t,i,1);return t}function h(t,e){if(!r(t))return[];for(var n=t?e.length:0,i=n-1;n--;){var o=void 0,a=e[n];n!==i&&a===o||(o=a,s.call(t,a,1))}return t}var l={contains:u,pull:c,pullAll:c,pullAt:h,remove:function(t,e){var n=[];if(!r(t))return n;for(var i=-1,o=[],a=t.length;++i<a;){var s=t[i];e(s,i,t)&&(n.push(s),o.push(i))}return h(t,o),n},uniq:function(t){var e=[];return t.forEach(function(t){u(e,t)||e.push(t)}),e}};t.exports=l},function(t,e,n){t.exports={getWrapBehavior:n(84),wrapBehavior:n(85)}},function(t,e){t.exports=function(t,e){return t["_wrap_"+e]}},function(t,e){t.exports=function(t,e){if(t["_wrap_"+e])return t["_wrap_"+e];var n=function(n){t[e](n)};return t["_wrap_"+e]=n,n}},function(t,e,n){var r=n(87),i=Math.PI/180,o=180/Math.PI;function a(t,e){return parseInt(t,e||10)}var s={clamp:function(t,e,n){return t<e?e:t>n?n:t},isDecimal:function(t){return r(t)&&t%1!=0},isEven:function(t){return r(t)&&t%2==0},isFinite:isFinite,isInteger:Number.isInteger?Number.isInteger:function(t){return r(t)&&t%1==0},isNaN:isNaN,isNegative:function(t){return r(t)&&t<0},isNumberEqual:function(t,e){return Math.abs(t-e)<1e-5},isOdd:function(t){return r(t)&&t%2!=0},isPositive:function(t){return r(t)&&t>0},mod:function(t,e){return(t%e+e)%e},toFloat:function(t){return parseFloat(t)},toDegree:function(t){return o*t},toInt:a,toInteger:a,toRadian:function(t){return i*t},fixedBase:function(t,e){var n=e.toString(),r=n.indexOf(".");if(-1===r)return Math.round(t);var i=n.substr(r+1).length;return i>20&&(i=20),parseFloat(t.toFixed(i))}};t.exports=s},function(t,e,n){var r=n(9);t.exports=function(t){return r(t,"Number")}},function(t,e){function n(t){return t.toString()}function r(t){return n(t).toUpperCase()}function i(t){return n(t).toLowerCase()}var o={lc:i,lowerCase:i,lowerFirst:function(t){return i((t=n(t)).charAt(0))+t.substring(1)},uc:r,upperCase:r,upperFirst:function(t){return r((t=n(t)).charAt(0))+t.substring(1)}};t.exports=o},function(t,e){var n="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(t){return void 0===t?"undefined":o(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":o(t)},r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return void 0===t?"undefined":n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":n(t)},i={}.toString,a=Object.prototype,s=function(t,e){return i.call(t)==="[object "+e+"]"};function u(t){return null===t}function c(t){return void 0===t}function h(t){return"object"===(void 0===t?"undefined":r(t))&&null!==t}var l={getType:function(t){return i.call(t).replace(/^\[object /,"").replace(/\]$/,"")},isArray:Array.isArray?Array.isArray:function(t){return s(t,"Array")},isArrayLike:function(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)},isNil:function(t){return c(t)||u(t)},isNull:u,isType:s,isObject:function(t){var e=void 0===t?"undefined":r(t);return null!==t&&"object"===e||"function"===e},isObjectLike:h,isPlainObject:function(t){if(!h(t)||!s(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},isPrototype:function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||a)},isUndefined:c};["Arguments","Boolean","Date","Error","Function","Number","RegExp","String"].forEach(function(t){l["is"+t]=function(e){return s(e,t)}}),t.exports=l},function(t,e){var n="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(t){return void 0===t?"undefined":o(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":o(t)},r="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return void 0===t?"undefined":n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":n(t)};t.exports=function(t){var e=void 0===t?"undefined":r(t);return null!==t&&"object"===e||"function"===e}},function(t,e,n){var r=n(13),i=n(30),o=n(16);t.exports=function(t){for(var e=i(arguments),n=1;n<e.length;n++){var a=e[n];r(a)&&(a=a.prototype),o(t.prototype,a)}}},function(t,e,n){var r="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(t){return void 0===t?"undefined":o(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":o(t)},i="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return void 0===t?"undefined":r(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":r(t)},a=n(11);t.exports=function t(e){if("object"!==(void 0===e?"undefined":i(e))||null===e)return e;var n=void 0;if(a(e)){n=[];for(var r=0,o=e.length;r<o;r++)"object"===i(e[r])&&null!=e[r]?n[r]=t(e[r]):n[r]=e[r]}else for(var s in n={},e)"object"===i(e[s])&&null!=e[s]?n[s]=t(e[s]):n[s]=e[s];return n}},function(t,e,n){var r=n(31),i=n(11),o=5;function a(t,e,n,s){for(var u in n=n||0,s=s||o,e)if(e.hasOwnProperty(u)){var c=e[u];null!==c&&r(c)?(r(t[u])||(t[u]={}),n<s?a(t[u],c,n+1,s):t[u]=e[u]):i(c)?(t[u]=[],t[u]=t[u].concat(c)):void 0!==c&&(t[u]=c)}}t.exports=function(){for(var t=new Array(arguments.length),e=t.length,n=0;n<e;n++)t[n]=arguments[n];for(var r=t[0],i=1;i<e;i++)a(r,t[i]);return r}},function(t,e,n){var r=n(13),i=n(16);t.exports=function(t,e,n,o){r(e)||(n=e,e=t,t=function(){});var a=Object.create?function(t,e){return Object.create(t,{constructor:{value:e}})}:function(t,e){function n(){}n.prototype=t;var r=new n;return r.constructor=e,r},s=a(e.prototype,t);return t.prototype=i(s,t.prototype),t.superclass=a(e.prototype,e),i(s,n),i(t,o),t}},function(t,e,n){var r=n(10),i=n(5);t.exports=function(t,e){if(!i(t))return t;var n=[];return r(t,function(t,r){e(t,r)&&n.push(t)}),n}},function(t,e,n){var r=n(33);t.exports=function(t,e){if(!e)return[t];var n=r(t,e),i=[];for(var o in n)i.push(n[o]);return i}},function(t,e,n){var r=n(5);t.exports=function(t,e){if(!r(t))return-1;var n=Array.prototype.indexOf;if(n)return n.call(t,e);for(var i=-1,o=0;o<t.length;o++)if(t[o]===e){i=o;break}return i}},function(t,e,n){var r=n(99),i=n(5),o=n(100),a=n(101),s=Object.prototype.hasOwnProperty;t.exports=function(t){if(r(t))return!0;if(i(t))return!t.length;var e=o(t);if("Map"===e||"Set"===e)return!t.size;if(a(t))return!Object.keys(t).length;for(var n in t)if(s.call(t,n))return!1;return!0}},function(t,e){t.exports=function(t){return null===t||void 0===t}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).replace(/^\[object /,"").replace(/\]$/,"")}},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e,n){var r=n(9);t.exports=function(t){return r(t,"String")}},function(t,e,n){var r=n(13),i=n(35);t.exports=function(t,e,n){return r(n)?!!n(t,e):i(t,e)}},function(t,e,n){var r=n(10),i=n(5);t.exports=function(t,e){if(!i(t))return t;var n=[];return r(t,function(t,r){n.push(e(t,r))}),n}},function(t,e,n){var r=n(10),i=n(31),o=Object.prototype.hasOwnProperty;t.exports=function(t,e){if(null===t||!i(t))return{};var n={};return r(e,function(e){o.call(t,e)&&(n[e]=t[e])}),n}},function(t,e){t.exports=function(t){return t.toString()}},function(t,e){var n=function(){var t={};return function(e){return t[e=e||"g"]?t[e]+=1:t[e]=1,e+t[e]}}();t.exports=n},function(t,e,n){var r=n(0),i=["strokeStyle","fillStyle","globalAlpha"],o={r:"R",opacity:"Opacity",lineWidth:"LineWidth",clip:"Clip",stroke:"Stroke",fill:"Fill",strokeOpacity:"Stroke",fillOpacity:"Fill",x:"X",y:"Y",rx:"Rx",ry:"Ry",re:"Re",rs:"Rs",width:"Width",height:"Height",img:"Img",x1:"X1",x2:"X2",y1:"Y1",y2:"Y2",points:"Points",p1:"P1",p2:"P2",p3:"P3",p4:"P4",text:"Text",radius:"Radius",textAlign:"TextAlign",textBaseline:"TextBaseline",font:"Font",fontSize:"FontSize",fontStyle:"FontStyle",fontVariant:"FontVariant",fontWeight:"FontWeight",fontFamily:"FontFamily",clockwise:"Clockwise",startAngle:"StartAngle",endAngle:"EndAngle",path:"Path",outline:"Outline",html:"Html"},a={opacity:"opacity",clip:"clip",stroke:"stroke",fill:"fill",strokeOpacity:"stroke-opacity",fillOpacity:"fill-opacity",strokeStyle:"stroke",fillStyle:"fill",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",re:"re",rs:"rs",width:"width",height:"height",image:"href",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",preserveAspectRatio:"preserveAspectRatio"},s={stroke:"strokeStyle",fill:"fillStyle",opacity:"globalAlpha"};t.exports={canFill:!1,canStroke:!1,initAttrs:function(t){return this.__attrs={opacity:1,fillOpacity:1,strokeOpacity:1},this.attr(r.assign(this.getDefaultAttrs(),t)),this},getDefaultAttrs:function(){return{}},attr:function(t,e){if(0===arguments.length)return this.__attrs;if(r.isObject(t)){for(var n in t)if(-1===i.indexOf(n)){var a=t[n];this._setAttr(n,a)}return this._afterSetAttrAll&&this._afterSetAttrAll(t),this.clearBBox(),this}if(2===arguments.length){this._setAttr(t,e);var s="_afterSetAttr"+o[t];return o[t]&&this[s]&&this[s](e),this.clearBBox(),this}return this._getAttr(t)},clearBBox:function(){this.setSilent("box",null)},_afterSetAttrAll:function(){},_getAttr:function(t){return this.__attrs[t]},_setAttr:function(t,e){var n=this.get("el");if("clip"!==t){if(this.__attrs[t]=e,!("number"==typeof e&&isNaN(e)||this.get("destroyed"))){if("transform"===t||"rotate"===t)this._setAttrTrans(t,e);else if(~t.indexOf("shadow"))this._setAttrShadow(t,e);else if(~["stroke","strokeStyle","fill","fillStyle"].indexOf(t)&&n)e?/^[r,R,L,l]{1}[\s]*\(/.test(e.trim())?this._setAttrGradients(t,e.trim()):n.setAttribute(a[t],e):n.setAttribute(a[t],"none");else if(~t.toLowerCase().indexOf("arrow")){if(!e)return this;this._setAttrArrow(t,e)}else if(~["circle","ellipse","marker"].indexOf(this.type)&&~["x","y"].indexOf(t))"marker"!==this.type&&"number"==typeof e&&n.setAttribute("c"+t,e);else{var r=a[t];n&&r&&n.setAttribute(r,e);var i=s[t];i&&(r=a[i],n&&r&&n.setAttribute(r,e),this.__attrs[i]=e)}return this}}else this._setAttrClip(t,e)},hasFill:function(){return this.canFill&&this.__attrs.fillStyle},hasStroke:function(){return this.canStroke&&this.__attrs.strokeStyle},_setAttrArrow:function(t,e){var n=this.get("el"),r=this.get("defs");if(!r){var i=this.get("canvas");if(!i)return this._setAttrDependency(t,e),this;r=i.get("defs")}if(!(t=a[t]))return this;if(!e)return n.removeAttribute(t),this;var o=r.find(t,{value:e,stroke:this.__attrs.stroke});o||(o=r.addArrow(t,e,this.__attrs.stroke)),this.__cfg[t]=o,this.get("el").setAttribute(t,"url(#"+o+")")},_setAttrShadow:function(t,e){var n=this.__attrs,r=this.get("filter"),i=this.get("defs");if(!e)return this.get("el").removeAttribute("filter"),this;if(r)return i.findById(r).update(t,e),this;if(!i){var o=this.get("canvas");if(!o)return this._setAttrDependency(t,e),this;i=o.get("defs")}var a={dx:n.shadowOffsetX,dy:n.shadowOffsetY,blur:n.shadowBlur,color:n.shadowColor};if(isNaN(Number(a.dx))||isNaN(Number(a.dy)))return this;var s=i.find("filter",a);s||(s=i.addShadow(a,this)),this.__cfg.filter=s,this.get("el").setAttribute("filter","url(#"+s+")")},_setAttrGradients:function(t,e){t=t.replace("Style","");var n=this.get("defs");if(!e)return this.get("el").removeAttribute("gradient"),this;if(!n){var r=this.get("canvas");if(!r)return this._setAttrDependency(t,e),this;n=r.get("defs")}var i=n.find("gradient",e);i||(i=n.addGradient(e,this)),this.get("el").setAttribute(t,"url(#"+i+")")},_setAttrDependency:function(t,e){var n=this.get("dependencies");return n||(n={}),n[t]=e,this.__cfg.dependencies=n,this},_setAttrClip:function(t,e){var n=this.get("defs"),r=this.get("canvas");if(!e)return this.get("el").removeAttribute("clip-path"),this;if(!n){var i=this.get("canvas");if(!i)return this._setAttrDependency(t,e),this;n=i.get("defs")}e.__cfg.canvas=r;var o=n.addClip(e);this.get("el").setAttribute("clip-path","url(#"+o+")")},_setAttrTrans:function(t,e){var n=this.__attrs;if(e||this.get("el").removeAttribute("transform"),n.matrix||this.initTransform(),"transform"===t)this.transform(e);else{if(void 0===n.x||void 0===n.y)return this._setAttrDependency(t,e),this;this.rotateAtStart(e)}return this}}},function(t,e,n){var r=n(0),i=n(2).mat3,o=n(2).vec3;t.exports={initTransform:function(){this.attr("matrix",[1,0,0,0,1,0,0,0,1])},translate:function(t,e,n){var r=this.attr("matrix");return i.translate(r,r,[t,e]),this.attr("matrix",r),(2===arguments.length||n)&&this._performTransform(),this},rotate:function(t,e){var n=this.attr("matrix");return Math.abs(t)>2*Math.PI&&(t=t/180*Math.PI),i.rotate(n,n,t),this.attr("matrix",n),(1===arguments.length||e)&&this._performTransform(),this},rotateAtStart:function(t){var e=this.attr("x"),n=this.attr("y");Math.abs(t)>2*Math.PI&&(t=t/180*Math.PI),this.transform([["t",-e,-n],["r",t],["t",e,n]])},scale:function(t,e,n){var r=this.attr("matrix");return i.scale(r,r,[t,e]),this.attr("matrix",r),(2===arguments.length||n)&&this._performTransform(),this},move:function(t,e){var n=this.get("x")||0,r=this.get("y")||0;this.translate(t-n,e-r),this.set("x",t),this.set("y",e)},_performTransform:function(){for(var t=this.__attrs.matrix,e=[],n=0;n<9;n+=3)e.push(t[n]+","+t[n+1]);var r=this.get("el");r&&r.setAttribute("transform","matrix("+e.join(",")+")")},transform:function(t){var e=this,n=e.attr("matrix");return r.each(t,function(t){switch(t[0]){case"t":e.translate(t[1],t[2],!1);break;case"s":e.scale(t[1],t[2],!1);break;case"r":e.rotate(t[1],!1);break;case"m":e.attr("matrix",i.multiply([],n,t[1]))}}),this._performTransform(),e},setTransform:function(t){return this.attr("matrix",[1,0,0,0,1,0,0,0,1]),this.transform(t)},getMatrix:function(){return this.attr("matrix")},setMatrix:function(t){return this.attr("matrix",t),this._performTransform(),this.clearTotalMatrix(),this},apply:function(t,e){var n=void 0;return n=e?this._getMatrixByRoot(e):this.attr("matrix"),o.transformMat3(t,t,n),this},invert:function(t){var e=this.attr("matrix");if(function(t){return 0===t[1]&&0===t[3]&&0===t[6]&&0===t[7]}(e))t[0]/=e[0],t[1]/=e[4];else{var n=i.invert([],e);n&&o.transformMat3(t,t,n)}return this},resetTransform:function(t){var e=this.attr("matrix");(function(t){return 1===t[0]&&0===t[1]&&0===t[3]&&1===t[4]&&0===t[6]&&0===t[7]})(e)||t.transform(e[0],e[1],e[3],e[4],e[6],e[7])}}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=function(){var t=new r.ARRAY_TYPE(9);r.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0);return t[0]=1,t[4]=1,t[8]=1,t},e.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},e.clone=function(t){var e=new r.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromValues=function(t,e,n,i,o,a,s,u,c){var h=new r.ARRAY_TYPE(9);return h[0]=t,h[1]=e,h[2]=n,h[3]=i,h[4]=o,h[5]=a,h[6]=s,h[7]=u,h[8]=c,h},e.set=function(t,e,n,r,i,o,a,s,u,c){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t[8]=c,t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.transpose=function(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},e.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],h=e[8],l=h*a-s*c,f=-h*o+s*u,d=c*o-a*u,p=n*l+r*f+i*d;if(!p)return null;return p=1/p,t[0]=l*p,t[1]=(-h*r+i*c)*p,t[2]=(s*r-i*a)*p,t[3]=f*p,t[4]=(h*n-i*u)*p,t[5]=(-s*n+i*o)*p,t[6]=d*p,t[7]=(-c*n+r*u)*p,t[8]=(a*n-r*o)*p,t},e.adjoint=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],h=e[8];return t[0]=a*h-s*c,t[1]=i*c-r*h,t[2]=r*s-i*a,t[3]=s*u-o*h,t[4]=n*h-i*u,t[5]=i*o-n*s,t[6]=o*c-a*u,t[7]=r*u-n*c,t[8]=n*a-r*o,t},e.determinant=function(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],c=t[8];return e*(c*o-a*u)+n*(-c*i+a*s)+r*(u*i-o*s)},e.multiply=i,e.translate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],h=e[7],l=e[8],f=n[0],d=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=f*r+d*a+c,t[7]=f*i+d*s+h,t[8]=f*o+d*u+l,t},e.rotate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],h=e[7],l=e[8],f=Math.sin(n),d=Math.cos(n);return t[0]=d*r+f*a,t[1]=d*i+f*s,t[2]=d*o+f*u,t[3]=d*a-f*r,t[4]=d*s-f*i,t[5]=d*u-f*o,t[6]=c,t[7]=h,t[8]=l,t},e.scale=function(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},e.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},e.fromQuat=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,u=i+i,c=n*a,h=r*a,l=r*s,f=i*a,d=i*s,p=i*u,g=o*a,v=o*s,m=o*u;return t[0]=1-l-p,t[3]=h-m,t[6]=f+v,t[1]=h+m,t[4]=1-c-p,t[7]=d-g,t[2]=f-v,t[5]=d+g,t[8]=1-c-l,t},e.normalFromMat4=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],h=e[8],l=e[9],f=e[10],d=e[11],p=e[12],g=e[13],v=e[14],m=e[15],y=n*s-r*a,x=n*u-i*a,b=n*c-o*a,_=r*u-i*s,w=r*c-o*s,S=i*c-o*u,M=h*g-l*p,A=h*v-f*p,P=h*m-d*p,E=l*v-f*g,O=l*m-d*g,C=f*m-d*v,k=y*C-x*O+b*E+_*P-w*A+S*M;if(!k)return null;return k=1/k,t[0]=(s*C-u*O+c*E)*k,t[1]=(u*P-a*C-c*A)*k,t[2]=(a*O-s*P+c*M)*k,t[3]=(i*O-r*C-o*E)*k,t[4]=(n*C-i*P+o*A)*k,t[5]=(r*P-n*O-o*M)*k,t[6]=(g*S-v*w+m*_)*k,t[7]=(v*b-p*S-m*x)*k,t[8]=(p*w-g*b+m*y)*k,t},e.projection=function(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},e.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t},e.subtract=o,e.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t},e.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},e.equals=function(t,e){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],h=t[7],l=t[8],f=e[0],d=e[1],p=e[2],g=e[3],v=e[4],m=e[5],y=e[6],x=e[7],b=e[8];return Math.abs(n-f)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(i-d)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(o-p)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(a-g)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(s-v)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(u-m)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(m))&&Math.abs(c-y)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(y))&&Math.abs(h-x)<=r.EPSILON*Math.max(1,Math.abs(h),Math.abs(x))&&Math.abs(l-b)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(b))};var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(18));function i(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],h=e[7],l=e[8],f=n[0],d=n[1],p=n[2],g=n[3],v=n[4],m=n[5],y=n[6],x=n[7],b=n[8];return t[0]=f*r+d*a+p*c,t[1]=f*i+d*s+p*h,t[2]=f*o+d*u+p*l,t[3]=g*r+v*a+m*c,t[4]=g*i+v*s+m*h,t[5]=g*o+v*u+m*l,t[6]=y*r+x*a+b*c,t[7]=y*i+x*s+b*h,t[8]=y*o+x*u+b*l,t}function o(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}e.mul=i,e.sub=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.len=e.sqrDist=e.dist=e.div=e.mul=e.sub=void 0,e.create=i,e.clone=function(t){var e=new r.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},e.length=o,e.fromValues=a,e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},e.set=function(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},e.subtract=s,e.multiply=u,e.divide=c,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},e.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t},e.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},e.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},e.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t},e.distance=h,e.squaredDistance=l,e.squaredLength=f,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},e.normalize=d,e.dot=p,e.cross=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],u=n[2];return t[0]=i*u-o*s,t[1]=o*a-r*u,t[2]=r*s-i*a,t},e.lerp=function(t,e,n,r){var i=e[0],o=e[1],a=e[2];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t},e.hermite=function(t,e,n,r,i,o){var a=o*o,s=a*(2*o-3)+1,u=a*(o-2)+o,c=a*(o-1),h=a*(3-2*o);return t[0]=e[0]*s+n[0]*u+r[0]*c+i[0]*h,t[1]=e[1]*s+n[1]*u+r[1]*c+i[1]*h,t[2]=e[2]*s+n[2]*u+r[2]*c+i[2]*h,t},e.bezier=function(t,e,n,r,i,o){var a=1-o,s=a*a,u=o*o,c=s*a,h=3*o*s,l=3*u*a,f=u*o;return t[0]=e[0]*c+n[0]*h+r[0]*l+i[0]*f,t[1]=e[1]*c+n[1]*h+r[1]*l+i[1]*f,t[2]=e[2]*c+n[2]*h+r[2]*l+i[2]*f,t},e.random=function(t,e){e=e||1;var n=2*r.RANDOM()*Math.PI,i=2*r.RANDOM()-1,o=Math.sqrt(1-i*i)*e;return t[0]=Math.cos(n)*o,t[1]=Math.sin(n)*o,t[2]=i*e,t},e.transformMat4=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,t},e.transformMat3=function(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t},e.transformQuat=function(t,e,n){var r=n[0],i=n[1],o=n[2],a=n[3],s=e[0],u=e[1],c=e[2],h=i*c-o*u,l=o*s-r*c,f=r*u-i*s,d=i*f-o*l,p=o*h-r*f,g=r*l-i*h,v=2*a;return h*=v,l*=v,f*=v,d*=2,p*=2,g*=2,t[0]=s+h+d,t[1]=u+l+p,t[2]=c+f+g,t},e.rotateX=function(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},e.rotateY=function(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},e.rotateZ=function(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},e.angle=function(t,e){var n=a(t[0],t[1],t[2]),r=a(e[0],e[1],e[2]);d(n,n),d(r,r);var i=p(n,r);return i>1?0:i<-1?Math.PI:Math.acos(i)},e.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},e.equals=function(t,e){var n=t[0],i=t[1],o=t[2],a=e[0],s=e[1],u=e[2];return Math.abs(n-a)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-s)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(o-u)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(u))};var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(18));function i(){var t=new r.ARRAY_TYPE(3);return r.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function o(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}function a(t,e,n){var i=new r.ARRAY_TYPE(3);return i[0]=t,i[1]=e,i[2]=n,i}function s(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function u(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function c(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function h(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(n*n+r*r+i*i)}function l(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i}function f(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function d(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t}function p(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}e.sub=s,e.mul=u,e.div=c,e.dist=h,e.sqrDist=l,e.len=o,e.sqrLen=f,e.forEach=function(){var t=i();return function(e,n,r,i,o,a){var s=void 0,u=void 0;for(n||(n=3),r||(r=0),u=i?Math.min(i*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],o(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2];return e}}()},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.sqrDist=e.dist=e.div=e.mul=e.sub=e.len=void 0,e.create=i,e.clone=function(t){var e=new r.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},e.fromValues=function(t,e){var n=new r.ARRAY_TYPE(2);return n[0]=t,n[1]=e,n},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},e.set=function(t,e,n){return t[0]=e,t[1]=n,t},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},e.subtract=o,e.multiply=a,e.divide=s,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},e.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},e.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},e.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},e.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t},e.distance=u,e.squaredDistance=c,e.length=h,e.squaredLength=l,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},e.normalize=function(t,e){var n=e[0],r=e[1],i=n*n+r*r;i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i);return t},e.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},e.cross=function(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t},e.lerp=function(t,e,n,r){var i=e[0],o=e[1];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t},e.random=function(t,e){e=e||1;var n=2*r.RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t},e.transformMat2=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t},e.transformMat2d=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t},e.transformMat3=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t},e.transformMat4=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t},e.rotate=function(t,e,n,r){var i=e[0]-n[0],o=e[1]-n[1],a=Math.sin(r),s=Math.cos(r);return t[0]=i*s-o*a+n[0],t[1]=i*a+o*s+n[1],t},e.angle=function(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=n*n+r*r;a>0&&(a=1/Math.sqrt(a));var s=i*i+o*o;s>0&&(s=1/Math.sqrt(s));var u=(n*i+r*o)*a*s;return u>1?0:u<-1?Math.PI:Math.acos(u)},e.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},e.equals=function(t,e){var n=t[0],i=t[1],o=e[0],a=e[1];return Math.abs(n-o)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-a)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(a))};var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(18));function i(){var t=new r.ARRAY_TYPE(2);return r.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0),t}function o(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function a(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function s(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function u(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)}function c(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function h(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)}function l(t){var e=t[0],n=t[1];return e*e+n*n}e.len=h,e.sub=o,e.mul=a,e.div=s,e.dist=u,e.sqrDist=c,e.sqrLen=l,e.forEach=function(){var t=i();return function(e,n,r,i,o,a){var s=void 0,u=void 0;for(n||(n=2),r||(r=0),u=i?Math.min(i*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],o(t,t,a),e[s]=t[0],e[s+1]=t[1];return e}}()},function(t,e,n){var r=n(4);r.Rect=n(41),r.Circle=n(42),r.Ellipse=n(43),r.Path=n(44),r.Text=n(45),r.Line=n(46),r.Image=n(47),r.Polygon=n(48),r.Marker=n(49),r.Dom=n(50),r.Fa=n(51),t.exports=r},function(t,e,n){var r=n(0),i=n(17),o=n(115),a=n(116),s=n(117),u=n(118),c=function t(e){t.superclass.constructor.call(this,e),this.set("children",[])};r.extend(c,i),r.augment(c,{isGroup:!1,canFill:!1,canStroke:!1,capture:!1,visible:!1,init:function(){var t=document.createElementNS("http://www.w3.org/2000/svg","defs"),e=r.uniqueId("defs_");t.setAttribute("id",e),this.set("el",t),this.set("children",[])},find:function(t,e){for(var n=this.get("children"),r=null,i=0;i<n.length;i++)if(n[i].match(t,e)){r=n[i].__cfg.id;break}return r},findById:function(t){for(var e=this.get("children"),n=null,r=0;r<e.length;r++)if(e[r].__cfg.id===t){n=e[r];break}return n},add:function(t){var e=this.get("el"),n=this,i=this.get("children");if(r.isArray(t))return r.each(t,function(t){var r=t.get("parent");r&&(r.removeChild(t,!1),n._setContext(t)),e.appendChild(t.get("el"))}),i.push.apply(i,t),n;if(n.findById(t.get("id")))return n;var o=t.get("parent");return o&&o.removeChild(t,!1),n._add(t),e.appendChild(t.get("el")),n},_add:function(t){this.get("el").appendChild(t.__cfg.el),this.get("children").push(t),t.__cfg.parent=this,t.__cfg.defs=this,t.__cfg.canvas=this.__cfg.canvas},addGradient:function(t){var e=new o(t);return this._add(e),e.__cfg.id},addShadow:function(t){var e=new a(t);return this._add(e),e.__cfg.id},addArrow:function(t,e,n){var r=new s(t,e,n);return this._add(r),r.__cfg.id},addClip:function(t){var e=new u(t);return this._add(e),e.__cfg.id}}),t.exports=c},function(t,e,n){var r=n(0),i=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,o=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,a=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function s(t){var e=t.match(a);if(!e)return"";var n="";return e.sort(function(t,e){return t=t.split(":"),e=e.split(":"),Number(t[0])-Number(e[0])}),r.each(e,function(t){t=t.split(":"),n+='<stop offset="'+t[0]+'" stop-color="'+t[1]+'"></stop>'}),n}var u=function(t){var e=null,n=r.uniqueId("gradient_");return"l"===t.toLowerCase()[0]?function(t,e){var n=i.exec(t),o=r.mod(r.toRadian(parseFloat(n[1])),2*Math.PI),a=n[2],u=void 0,c=void 0;o>=0&&o<.5*Math.PI?(u={x:0,y:0},c={x:1,y:1}):.5*Math.PI<=o&&o<Math.PI?(u={x:1,y:0},c={x:0,y:1}):Math.PI<=o&&o<1.5*Math.PI?(u={x:1,y:1},c={x:0,y:0}):(u={x:0,y:1},c={x:1,y:0});var h=Math.tan(o),l=h*h,f=(c.x-u.x+h*(c.y-u.y))/(l+1)+u.x,d=h*(c.x-u.x+h*(c.y-u.y))/(l+1)+u.y;e.setAttribute("x1",u.x),e.setAttribute("y1",u.y),e.setAttribute("x2",f),e.setAttribute("y2",d),e.innerHTML=s(a)}(t,e=document.createElementNS("http://www.w3.org/2000/svg","linearGradient")):function(t,e){var n=o.exec(t),r=parseFloat(n[1]),i=parseFloat(n[2]),a=parseFloat(n[3]),u=n[4];e.setAttribute("cx",r),e.setAttribute("cy",i),e.setAttribute("r",a),e.innerHTML=s(u)}(t,e=document.createElementNS("http://www.w3.org/2000/svg","radialGradient")),e.setAttribute("id",n),this.__cfg={el:e,id:n},this.__attrs={config:t},this};r.augment(u,{type:"gradient",match:function(t,e){return this.type===t&&this.__attrs.config===e}}),t.exports=u},function(t,e,n){var r=n(0),i={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"};function o(t,e){var n='<feDropShadow \n      dx="'+t.dx+'" \n      dy="'+t.dy+'" \n      stdDeviation="'+(t.blur?t.blur/10:0)+'"\n      flood-color="'+(t.color?t.color:"#000")+'"\n      flood-opacity="'+(t.opacity?t.opacity:1)+'"\n      />';e.innerHTML=n}var a=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","filter"),n=r.uniqueId("filter_");return e.setAttribute("id",n),o(t,e),this.__cfg={el:e,id:n},this.__attrs={config:t},this};r.augment(a,{type:"filter",match:function(t,e){if(this.type!==t)return!1;var n=!1,i=this.__attrs.config;return r.each(Object.keys(i),function(t){n||(n=i[t]===e[t])}),n},update:function(t,e){var n=this.__attrs.config;return n[i[t]]=e,o(n,this.__cfg.el),this}}),t.exports=a},function(t,e,n){var r="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(t){return void 0===t?"undefined":o(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":o(t)},i=n(0);function a(t,e,n){var r=document.createElementNS("http://www.w3.org/2000/svg","path");return r.setAttribute("d","M0,0 L6,3 L0,6 L3,3Z"),r.setAttribute("stroke","none"),r.setAttribute("fill",n||"#000"),t.appendChild(r),t.setAttribute("refX",3),t.setAttribute("refY",3),r}var s=function(t,e,n){var o=document.createElementNS("http://www.w3.org/2000/svg","marker"),s=i.uniqueId("marker_");o.setAttribute("id",s),o.setAttribute("overflow","visible"),o.setAttribute("orient","auto-start-reverse"),this.__cfg={el:o,id:s,stroke:n||"#000"},this.__cfg[t]=!0;var u=null;return"boolean"==typeof e&&e?(u=a(o,0,n),this._setChild(u,!0)):"object"===(void 0===e?"undefined":r(e))&&(u=function(t,e,n,r){if(!t)return a(e);if("marker"!==t.type)throw new TypeError("the shape of an arrow should be an instance of Marker");t.attr({stroke:"none",fill:r}),e.append(t.get("el"));var i=t.__attrs.x,o=t.__attrs.y;return e.setAttribute("refX",i),e.setAttribute("refY",o),t}(e,o,0,n),this._setChild(u,!1)),this.__attrs={config:e},this};i.augment(s,{type:"arrow",match:function(t,e){return!!this.__cfg[t]&&("object"!==r(e.value)&&("#000"===e.stroke&&!("boolean"==typeof e.value&&!this.__cfg.default)))},_setChild:function(t,e){this.__cfg.child=t,this.__cfg.default=e},update:function(t){var e=this.__cfg.child;this.__cfg.default=!1,e.attr?e.attr("fill",t):e.setAttribute("fill",t)}}),t.exports=s},function(t,e,n){var r=n(0),i=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),n=r.uniqueId("clip_");if(t.get("el"))e.appendChild(t.get("el"));else{if(!r.isString(t.nodeName))throw"clip element should be a instance of Shape or a SVG node";e.appendChild(t)}return e.setAttribute("id",n),this.__cfg={el:e,id:n},this.__attrs={config:t},this};r.augment(i,{type:"clip",match:function(){return!1}}),t.exports=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(20);n.d(e,"now",function(){return r.b}),n.d(e,"timer",function(){return r.c}),n.d(e,"timerFlush",function(){return r.d});var i=n(120);n.d(e,"timeout",function(){return i.a});var o=n(121);n.d(e,"interval",function(){return o.a})},function(t,e,n){"use strict";var r=n(20);e.a=function(t,e,n){var i=new r.a;return e=null==e?0:+e,i.restart(function(n){i.stop(),t(n+e)},e,n),i}},function(t,e,n){"use strict";var r=n(20);e.a=function(t,e,n){var i=new r.a,o=e;return null==e?(i.restart(t,e,n),i):(e=+e,n=null==n?Object(r.b)():+n,i.restart(function r(a){a+=o,i.restart(r,o+=e,n),t(a)},e,n),i)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(123);n.d(e,"easeLinear",function(){return r.a});var i=n(124);n.d(e,"easeQuad",function(){return i.b}),n.d(e,"easeQuadIn",function(){return i.a}),n.d(e,"easeQuadOut",function(){return i.c}),n.d(e,"easeQuadInOut",function(){return i.b});var o=n(125);n.d(e,"easeCubic",function(){return o.b}),n.d(e,"easeCubicIn",function(){return o.a}),n.d(e,"easeCubicOut",function(){return o.c}),n.d(e,"easeCubicInOut",function(){return o.b});var a=n(126);n.d(e,"easePoly",function(){return a.b}),n.d(e,"easePolyIn",function(){return a.a}),n.d(e,"easePolyOut",function(){return a.c}),n.d(e,"easePolyInOut",function(){return a.b});var s=n(127);n.d(e,"easeSin",function(){return s.b}),n.d(e,"easeSinIn",function(){return s.a}),n.d(e,"easeSinOut",function(){return s.c}),n.d(e,"easeSinInOut",function(){return s.b});var u=n(128);n.d(e,"easeExp",function(){return u.b}),n.d(e,"easeExpIn",function(){return u.a}),n.d(e,"easeExpOut",function(){return u.c}),n.d(e,"easeExpInOut",function(){return u.b});var c=n(129);n.d(e,"easeCircle",function(){return c.b}),n.d(e,"easeCircleIn",function(){return c.a}),n.d(e,"easeCircleOut",function(){return c.c}),n.d(e,"easeCircleInOut",function(){return c.b});var h=n(130);n.d(e,"easeBounce",function(){return h.c}),n.d(e,"easeBounceIn",function(){return h.a}),n.d(e,"easeBounceOut",function(){return h.c}),n.d(e,"easeBounceInOut",function(){return h.b});var l=n(131);n.d(e,"easeBack",function(){return l.b}),n.d(e,"easeBackIn",function(){return l.a}),n.d(e,"easeBackOut",function(){return l.c}),n.d(e,"easeBackInOut",function(){return l.b});var f=n(132);n.d(e,"easeElastic",function(){return f.c}),n.d(e,"easeElasticIn",function(){return f.a}),n.d(e,"easeElasticOut",function(){return f.c}),n.d(e,"easeElasticInOut",function(){return f.b})},function(t,e,n){"use strict";e.a=function(t){return+t}},function(t,e,n){"use strict";e.a=function(t){return t*t},e.c=function(t){return t*(2-t)},e.b=function(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}},function(t,e,n){"use strict";e.a=function(t){return t*t*t},e.c=function(t){return--t*t*t+1},e.b=function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"c",function(){return i}),n.d(e,"b",function(){return o});var r=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),i=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),o=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3)},function(t,e,n){"use strict";e.a=function(t){return 1-Math.cos(t*i)},e.c=function(t){return Math.sin(t*i)},e.b=function(t){return(1-Math.cos(r*t))/2};var r=Math.PI,i=r/2},function(t,e,n){"use strict";e.a=function(t){return Math.pow(2,10*t-10)},e.c=function(t){return 1-Math.pow(2,-10*t)},e.b=function(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}},function(t,e,n){"use strict";e.a=function(t){return 1-Math.sqrt(1-t*t)},e.c=function(t){return Math.sqrt(1- --t*t)},e.b=function(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}},function(t,e,n){"use strict";e.a=function(t){return 1-d(1-t)},e.c=d,e.b=function(t){return((t*=2)<=1?1-d(1-t):d(t-1)+1)/2};var r=4/11,i=6/11,o=8/11,a=.75,s=9/11,u=10/11,c=.9375,h=21/22,l=63/64,f=1/r/r;function d(t){return(t=+t)<r?f*t*t:t<o?f*(t-=i)*t+a:t<u?f*(t-=s)*t+c:f*(t-=h)*t+l}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"c",function(){return i}),n.d(e,"b",function(){return o});var r=function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(1.70158),i=function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(1.70158),o=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158)},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"b",function(){return a});var r=2*Math.PI,i=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=r);function o(t){return e*Math.pow(2,10*--t)*Math.sin((i-t)/n)}return o.amplitude=function(e){return t(e,n*r)},o.period=function(n){return t(e,n)},o}(1,.3),o=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=r);function o(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+i)/n)}return o.amplitude=function(e){return t(e,n*r)},o.period=function(n){return t(e,n)},o}(1,.3),a=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=r);function o(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((i-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((i+t)/n))/2}return o.amplitude=function(e){return t(e,n*r)},o.period=function(n){return t(e,n)},o}(1,.3)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(21);n.d(e,"interpolate",function(){return r.a});var i=n(57);n.d(e,"interpolateArray",function(){return i.a});var o=n(24);n.d(e,"interpolateBasis",function(){return o.b});var a=n(55);n.d(e,"interpolateBasisClosed",function(){return a.a});var s=n(58);n.d(e,"interpolateDate",function(){return s.a});var u=n(14);n.d(e,"interpolateNumber",function(){return u.a});var c=n(59);n.d(e,"interpolateObject",function(){return c.a});var h=n(136);n.d(e,"interpolateRound",function(){return h.a});var l=n(60);n.d(e,"interpolateString",function(){return l.a});var f=n(137);n.d(e,"interpolateTransformCss",function(){return f.a}),n.d(e,"interpolateTransformSvg",function(){return f.b});var d=n(140);n.d(e,"interpolateZoom",function(){return d.a});var p=n(54);n.d(e,"interpolateRgb",function(){return p.a}),n.d(e,"interpolateRgbBasis",function(){return p.b}),n.d(e,"interpolateRgbBasisClosed",function(){return p.c});var g=n(141);n.d(e,"interpolateHsl",function(){return g.a}),n.d(e,"interpolateHslLong",function(){return g.b});var v=n(142);n.d(e,"interpolateLab",function(){return v.a});var m=n(143);n.d(e,"interpolateHcl",function(){return m.a}),n.d(e,"interpolateHclLong",function(){return m.b});var y=n(144);n.d(e,"interpolateCubehelix",function(){return y.b}),n.d(e,"interpolateCubehelixLong",function(){return y.a});var x=n(145);n.d(e,"quantize",function(){return x.a})},function(t,e,n){"use strict";e.a=p,e.b=b;var r=n(23),i=n(22),o=n(53),a=.95047,s=1,u=1.08883,c=4/29,h=6/29,l=3*h*h,f=h*h*h;function d(t){if(t instanceof g)return new g(t.l,t.a,t.b,t.opacity);if(t instanceof _){var e=t.h*o.a;return new g(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof i.b||(t=Object(i.h)(t));var n=x(t.r),r=x(t.g),c=x(t.b),h=v((.4124564*n+.3575761*r+.1804375*c)/a),l=v((.2126729*n+.7151522*r+.072175*c)/s);return new g(116*l-16,500*(h-l),200*(l-v((.0193339*n+.119192*r+.9503041*c)/u)),t.opacity)}function p(t,e,n,r){return 1===arguments.length?d(t):new g(t,e,n,null==r?1:r)}function g(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function v(t){return t>f?Math.pow(t,1/3):t/l+c}function m(t){return t>h?t*t*t:l*(t-c)}function y(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function x(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function b(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof _)return new _(t.h,t.c,t.l,t.opacity);t instanceof g||(t=d(t));var e=Math.atan2(t.b,t.a)*o.b;return new _(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new _(t,e,n,null==r?1:r)}function _(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}Object(r.a)(g,p,Object(r.b)(i.a,{brighter:function(t){return new g(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new g(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=s*m(t),e=a*m(e),n=u*m(n),new i.b(y(3.2404542*e-1.5371385*t-.4985314*n),y(-.969266*e+1.8760108*t+.041556*n),y(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),Object(r.a)(_,b,Object(r.b)(i.a,{brighter:function(t){return new _(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new _(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return d(this).rgb()}}))},function(t,e,n){"use strict";e.a=p;var r=n(23),i=n(22),o=n(53),a=-.14861,s=1.78277,u=-.29227,c=-.90649,h=1.97294,l=h*c,f=h*s,d=s*u-c*a;function p(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof g)return new g(t.h,t.s,t.l,t.opacity);t instanceof i.b||(t=Object(i.h)(t));var e=t.r/255,n=t.g/255,r=t.b/255,a=(d*r+l*e-f*n)/(d+l-f),s=r-a,p=(h*(n-a)-u*s)/c,v=Math.sqrt(p*p+s*s)/(h*a*(1-a)),m=v?Math.atan2(p,s)*o.b-120:NaN;return new g(m<0?m+360:m,v,a,t.opacity)}(t):new g(t,e,n,null==r?1:r)}function g(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Object(r.a)(g,p,Object(r.b)(i.a,{brighter:function(t){return t=null==t?i.c:Math.pow(i.c,t),new g(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?i.d:Math.pow(i.d,t),new g(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*o.a,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),l=Math.sin(t);return new i.b(255*(e+n*(a*r+s*l)),255*(e+n*(u*r+c*l)),255*(e+n*(h*r)),this.opacity)}}))},function(t,e,n){"use strict";e.a=function(t,e){return e-=t=+t,function(n){return Math.round(t+e*n)}}},function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return s});var r=n(14),i=n(138);function o(t,e,n,i){function o(t){return t.length?t.pop()+" ":""}return function(a,s){var u=[],c=[];return a=t(a),s=t(s),function(t,i,o,a,s,u){if(t!==o||i!==a){var c=s.push("translate(",null,e,null,n);u.push({i:c-4,x:Object(r.a)(t,o)},{i:c-2,x:Object(r.a)(i,a)})}else(o||a)&&s.push("translate("+o+e+a+n)}(a.translateX,a.translateY,s.translateX,s.translateY,u,c),function(t,e,n,a){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),a.push({i:n.push(o(n)+"rotate(",null,i)-2,x:Object(r.a)(t,e)})):e&&n.push(o(n)+"rotate("+e+i)}(a.rotate,s.rotate,u,c),function(t,e,n,a){t!==e?a.push({i:n.push(o(n)+"skewX(",null,i)-2,x:Object(r.a)(t,e)}):e&&n.push(o(n)+"skewX("+e+i)}(a.skewX,s.skewX,u,c),function(t,e,n,i,a,s){if(t!==n||e!==i){var u=a.push(o(a)+"scale(",null,",",null,")");s.push({i:u-4,x:Object(r.a)(t,n)},{i:u-2,x:Object(r.a)(e,i)})}else 1===n&&1===i||a.push(o(a)+"scale("+n+","+i+")")}(a.scaleX,a.scaleY,s.scaleX,s.scaleY,u,c),a=s=null,function(t){for(var e,n=-1,r=c.length;++n<r;)u[(e=c[n]).i]=e.x(t);return u.join("")}}}var a=o(i.a,"px, ","px)","deg)"),s=o(i.b,", ",")",")")},function(t,e,n){"use strict";e.a=function(t){if("none"===t)return s.b;r||(r=document.createElement("DIV"),i=document.documentElement,o=document.defaultView);return r.style.transform=t,t=o.getComputedStyle(i.appendChild(r),null).getPropertyValue("transform"),i.removeChild(r),t=t.slice(7,-1).split(","),Object(s.a)(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5])},e.b=function(t){if(null==t)return s.b;a||(a=document.createElementNS("http://www.w3.org/2000/svg","g"));return a.setAttribute("transform",t),(t=a.transform.baseVal.consolidate())?(t=t.matrix,Object(s.a)(t.a,t.b,t.c,t.d,t.e,t.f)):s.b};var r,i,o,a,s=n(139)},function(t,e,n){"use strict";n.d(e,"b",function(){return i});var r=180/Math.PI,i={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};e.a=function(t,e,n,i,o,a){var s,u,c;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(c=t*n+e*i)&&(n-=t*c,i-=e*c),(u=Math.sqrt(n*n+i*i))&&(n/=u,i/=u,c/=u),t*i<e*n&&(t=-t,e=-e,c=-c,s=-s),{translateX:o,translateY:a,rotate:Math.atan2(e,t)*r,skewX:Math.atan(c)*r,scaleX:s,scaleY:u}}},function(t,e,n){"use strict";var r=Math.SQRT2;function i(t){return((t=Math.exp(t))+1/t)/2}e.a=function(t,e){var n,o,a=t[0],s=t[1],u=t[2],c=e[0],h=e[1],l=e[2],f=c-a,d=h-s,p=f*f+d*d;if(p<1e-12)o=Math.log(l/u)/r,n=function(t){return[a+t*f,s+t*d,u*Math.exp(r*t*o)]};else{var g=Math.sqrt(p),v=(l*l-u*u+4*p)/(2*u*2*g),m=(l*l-u*u-4*p)/(2*l*2*g),y=Math.log(Math.sqrt(v*v+1)-v),x=Math.log(Math.sqrt(m*m+1)-m);o=(x-y)/r,n=function(t){var e=t*o,n=i(y),c=u/(2*g)*(n*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(r*e+y)-function(t){return((t=Math.exp(t))-1/t)/2}(y));return[a+c*f,s+c*d,u*n/i(r*e+y)]}}return n.duration=1e3*o,n}},function(t,e,n){"use strict";n.d(e,"b",function(){return a});var r=n(6),i=n(12);function o(t){return function(e,n){var o=t((e=Object(r.d)(e)).h,(n=Object(r.d)(n)).h),a=Object(i.a)(e.s,n.s),s=Object(i.a)(e.l,n.l),u=Object(i.a)(e.opacity,n.opacity);return function(t){return e.h=o(t),e.s=a(t),e.l=s(t),e.opacity=u(t),e+""}}}e.a=o(i.c);var a=o(i.a)},function(t,e,n){"use strict";e.a=function(t,e){var n=Object(i.a)((t=Object(r.e)(t)).l,(e=Object(r.e)(e)).l),o=Object(i.a)(t.a,e.a),a=Object(i.a)(t.b,e.b),s=Object(i.a)(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=o(e),t.b=a(e),t.opacity=s(e),t+""}};var r=n(6),i=n(12)},function(t,e,n){"use strict";n.d(e,"b",function(){return a});var r=n(6),i=n(12);function o(t){return function(e,n){var o=t((e=Object(r.c)(e)).h,(n=Object(r.c)(n)).h),a=Object(i.a)(e.c,n.c),s=Object(i.a)(e.l,n.l),u=Object(i.a)(e.opacity,n.opacity);return function(t){return e.h=o(t),e.c=a(t),e.l=s(t),e.opacity=u(t),e+""}}}e.a=o(i.c);var a=o(i.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n(6),i=n(12);function o(t){return function e(n){function o(e,o){var a=t((e=Object(r.b)(e)).h,(o=Object(r.b)(o)).h),s=Object(i.a)(e.s,o.s),u=Object(i.a)(e.l,o.l),c=Object(i.a)(e.opacity,o.opacity);return function(t){return e.h=a(t),e.s=s(t),e.l=u(Math.pow(t,n)),e.opacity=c(t),e+""}}return n=+n,o.gamma=e,o}(1)}e.b=o(i.c);var a=o(i.a)},function(t,e,n){"use strict";e.a=function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}},function(t,e,n){t.exports={Canvas:n(147),Group:n(62),Shape:n(1),Rect:n(64),Circle:n(65),Ellipse:n(66),Path:n(67),Text:n(68),Line:n(69),Image:n(70),Polygon:n(71),Polyline:n(72),Arc:n(73),Fan:n(74),Cubic:n(75),Quadratic:n(76),Marker:n(77),PathSegment:n(29),Event:n(61)}},function(t,e,n){var r=n(0),i=n(61),o=n(62),a=n(52),s=function t(e){t.superclass.constructor.call(this,e)};s.CFG={eventEnable:!0,width:null,height:null,widthCanvas:null,heightCanvas:null,widthStyle:null,heightStyle:null,containerDOM:null,canvasDOM:null,pixelRatio:null},r.extend(s,o),r.augment(s,{init:function(){s.superclass.init.call(this),this._setGlobalParam(),this._setDOM(),this._setInitSize(),this._setCanvas(),this._scale(),this.get("eventEnable")&&this._registEvents()},getEmitter:function(t,e){if(t){if(!r.isEmpty(t._getEvents()))return t;var n=t.get("parent");if(n&&!e.propagationStopped)return this.getEmitter(n,e)}},_getEventObj:function(t,e,n,r){var o=new i(t,e,!0,!0);return o.x=n.x,o.y=n.y,o.clientX=e.clientX,o.clientY=e.clientY,o.currentTarget=r,o.target=r,o},_triggerEvent:function(t,e){var n=this.getPointByClient(e.clientX,e.clientY),r=this.getShape(n.x,n.y),i=void 0;if("mousemove"===t){var o=this.get("preShape");if(o&&o!==r){var a=this._getEventObj("mouseleave",e,n,o);(i=this.getEmitter(o,e))&&i.emit("mouseleave",a)}if(r){var s=this._getEventObj("mousemove",e,n,r);if((i=this.getEmitter(r,e))&&i.emit("mousemove",s),o!==r){var u=this._getEventObj("mouseenter",e,n,r);i&&i.emit("mouseenter",u,e)}}else{var c=this._getEventObj("mousemove",e,n,this);this.emit("mousemove",c)}this.set("preShape",r)}else{var h=this._getEventObj(t,e,n,r||this);(i=this.getEmitter(r,e))&&i!==this&&i.emit(t,h),this.emit(t,h)}var l=this.get("el");r&&!r.get("destroyed")&&(l.style.cursor=r.attr("cursor")||"default")},_registEvents:function(){var t=this,e=t.get("el");r.each(["mouseout","mouseover","mousemove","mousedown","mouseup","click","dblclick"],function(n){e.addEventListener(n,function(e){t._triggerEvent(n,e)},!1)}),e.addEventListener("mouseout",function(e){t._triggerEvent("mouseleave",e)},!1),e.addEventListener("mouseover",function(e){t._triggerEvent("mouseenter",e)},!1),e.addEventListener("touchstart",function(e){r.isEmpty(e.touches)||t._triggerEvent("touchstart",e.touches[0])},!1),e.addEventListener("touchmove",function(e){r.isEmpty(e.touches)||t._triggerEvent("touchmove",e.touches[0])},!1),e.addEventListener("touchend",function(e){r.isEmpty(e.changedTouches)||t._triggerEvent("touchend",e.changedTouches[0])},!1)},_scale:function(){var t=this.get("pixelRatio");this.scale(t,t)},_setCanvas:function(){var t=this.get("canvasDOM"),e=new a;this.setSilent("el",t),this.setSilent("timeline",e),this.setSilent("context",t.getContext("2d")),this.setSilent("canvas",this)},_setGlobalParam:function(){this.get("pixelRatio")||this.set("pixelRatio",r.getRatio())},_setDOM:function(){this._setContainer(),this._setLayer()},_setContainer:function(){var t=this.get("containerId"),e=this.get("containerDOM");e||(e=document.getElementById(t),this.set("containerDOM",e)),r.modifyCSS(e,{position:"relative"})},_setLayer:function(){var t=this.get("containerDOM"),e=r.uniqueId("canvas_");if(t){var n=r.createDom('<canvas id="'+e+'"></canvas>');t.appendChild(n),this.set("canvasDOM",n)}},_setInitSize:function(){this.changeSize(this.get("width"),this.get("height"))},_resize:function(){var t=this.get("canvasDOM"),e=this.get("widthCanvas"),n=this.get("heightCanvas"),r=this.get("widthStyle"),i=this.get("heightStyle");t.style.width=r,t.style.height=i,t.setAttribute("width",e),t.setAttribute("height",n)},getWidth:function(){var t=this.get("pixelRatio");return this.get("width")*t},getHeight:function(){var t=this.get("pixelRatio");return this.get("height")*t},changeSize:function(t,e){var n=this.get("pixelRatio"),r=t*n,i=e*n;this.set("widthCanvas",r),this.set("heightCanvas",i),this.set("widthStyle",t+"px"),this.set("heightStyle",e+"px"),this.set("width",t),this.set("height",e),this._resize()},getPointByClient:function(t,e){var n=this.get("el"),r=n.getBoundingClientRect(),i=r.right-r.left,o=r.bottom-r.top;return{x:(t-r.left)*(n.width/i),y:(e-r.top)*(n.height/o)}},getClientByPoint:function(t,e){var n=this.get("el"),r=n.getBoundingClientRect(),i=r.right-r.left,o=r.bottom-r.top;return{clientX:t/(n.width/i)+r.left,clientY:e/(n.height/o)+r.top}},beforeDraw:function(){var t=this.get("context"),e=this.get("el");t&&t.clearRect(0,0,e.width,e.height)},_beginDraw:function(){this.setSilent("toDraw",!0)},_endDraw:function(){this.setSilent("toDraw",!1)},draw:function(){var t=this;t.get("destroyed")||(t.get("animateHandler")?this._beginDraw():function e(){t.setSilent("animateHandler",r.requestAnimationFrame(function(){t.setSilent("animateHandler",void 0),t.get("toDraw")&&e()})),t.beforeDraw();try{var n=t.get("context");s.superclass.draw.call(t,n)}catch(e){console.warn("error in draw canvas, detail as:"),console.warn(e),t._endDraw()}t._endDraw()}())},destroy:function(){var t=this.get("containerDOM"),e=this.get("canvasDOM");e&&t&&t.removeChild(e),s.superclass.destroy.call(this)}}),t.exports=s},function(t,e,n){var r=n(0),i=["strokeStyle","fillStyle","globalAlpha"],o=["circle","ellipse","fan","polygon","rect","path"],a={r:"R",opacity:"Opacity",lineWidth:"LineWidth",clip:"Clip",stroke:"Stroke",fill:"Fill",strokeOpacity:"Stroke",fillOpacity:"Fill",x:"X",y:"Y",rx:"Rx",ry:"Ry",re:"Re",rs:"Rs",width:"Width",height:"Height",img:"Img",x1:"X1",x2:"X2",y1:"Y1",y2:"Y2",points:"Points",p1:"P1",p2:"P2",p3:"P3",p4:"P4",text:"Text",radius:"Radius",textAlign:"TextAlign",textBaseline:"TextBaseline",font:"Font",fontSize:"FontSize",fontStyle:"FontStyle",fontVariant:"FontVariant",fontWeight:"FontWeight",fontFamily:"FontFamily",clockwise:"Clockwise",startAngle:"StartAngle",endAngle:"EndAngle",path:"Path"},s={stroke:"strokeStyle",fill:"fillStyle",opacity:"globalAlpha"};t.exports={canFill:!1,canStroke:!1,initAttrs:function(t){return this.__attrs={opacity:1,fillOpacity:1,strokeOpacity:1},this.attr(r.assign(this.getDefaultAttrs(),t)),this},getDefaultAttrs:function(){return{}},attr:function(t,e){if(0===arguments.length)return this.__attrs;if(r.isObject(t)){for(var n in t)if(-1===i.indexOf(n)){var o=t[n];this._setAttr(n,o)}return this._afterSetAttrAll&&this._afterSetAttrAll(t),this.clearBBox(),this}if(2===arguments.length){if(!1!==this._setAttr(t,e)){var s="_afterSetAttr"+a[t];this[s]&&this[s](e)}return this.clearBBox(),this}return this._getAttr(t)},clearBBox:function(){this.setSilent("box",null)},_afterSetAttrAll:function(){},_getAttr:function(t){return this.__attrs[t]},_setAttr:function(t,e){if("clip"===t)this._setAttrClip(e),this.__attrs.clip=e;else if("transform"===t)this._setAttrTrans(e);else{this.__attrs[t]=e;var n=s[t];n&&(this.__attrs[n]=e)}return this},hasFill:function(){return this.canFill&&this.__attrs.fillStyle},hasStroke:function(){return this.canStroke&&this.__attrs.strokeStyle},_setAttrOpacity:function(t){return this.__attrs.globalAlpha=t,t},_setAttrClip:function(t){var e=this;return t&&o.indexOf(t.type)>-1?(null===t.get("canvas")&&(t=r.clone(t)),t.set("parent",e.get("parent")),t.set("canvas",e.get("canvas")),t.set("context",e.get("context")),t.inside=function(n,r){var i=[n,r,1];return t.invert(i,e.get("canvas")),t._isPointInFill(i[0],i[1])},t):null},_setAttrTrans:function(t){return this.transform(t)}}},function(t,e,n){var r=n(0),i=n(2).mat3,o=n(2).vec3;function a(t){return 1===t[0]&&0===t[1]&&0===t[3]&&1===t[4]&&0===t[6]&&0===t[7]}function s(t){return 0===t[1]&&0===t[3]&&0===t[6]&&0===t[7]}function u(t,e){a(e)||(s(e)?(t[0]*=e[0],t[4]*=e[4]):i.multiply(t,t,e))}t.exports={initTransform:function(){this.attr("matrix",[1,0,0,0,1,0,0,0,1])},translate:function(t,e){var n=this.attr("matrix");return i.translate(n,n,[t,e]),this.clearTotalMatrix(),this.attr("matrix",n),this},rotate:function(t){var e=this.attr("matrix");return i.rotate(e,e,t),this.clearTotalMatrix(),this.attr("matrix",e),this},scale:function(t,e){var n=this.attr("matrix");return i.scale(n,n,[t,e]),this.clearTotalMatrix(),this.attr("matrix",n),this},rotateAtStart:function(t){var e=this.attr("x"),n=this.attr("y");Math.abs(t)>2*Math.PI&&(t=t/180*Math.PI),this.transform([["t",-e,-n],["r",t],["t",e,n]])},move:function(t,e){var n=this.get("x")||0,r=this.get("y")||0;this.translate(t-n,e-r),this.set("x",t),this.set("y",e)},transform:function(t){var e=this,n=e.attr("matrix");return r.each(t,function(t){switch(t[0]){case"t":e.translate(t[1],t[2]);break;case"s":e.scale(t[1],t[2]);break;case"r":e.rotate(t[1]);break;case"m":e.attr("matrix",i.multiply([],n,t[1])),e.clearTotalMatrix()}}),e},setTransform:function(t){return this.attr("matrix",[1,0,0,0,1,0,0,0,1]),this.transform(t)},getMatrix:function(){return this.attr("matrix")},setMatrix:function(t){return this.attr("matrix",t),this.clearTotalMatrix(),this},apply:function(t,e){var n=void 0;return n=e?this._getMatrixByRoot(e):this.attr("matrix"),o.transformMat3(t,t,n),this},_getMatrixByRoot:function(t){t=t||this;for(var e=this,n=[];e!==t;)n.unshift(e),e=e.get("parent");n.unshift(e);var o=[1,0,0,0,1,0,0,0,1];return r.each(n,function(t){i.multiply(o,t.attr("matrix"),o)}),o},getTotalMatrix:function(){var t=this.__cfg.totalMatrix;if(!t){t=[1,0,0,0,1,0,0,0,1];var e=this.__cfg.parent;if(e)u(t,e.getTotalMatrix());u(t,this.attr("matrix")),this.__cfg.totalMatrix=t}return t},clearTotalMatrix:function(){},invert:function(t){var e=this.getTotalMatrix();if(s(e))t[0]/=e[0],t[1]/=e[4];else{var n=i.invert([],e);n&&o.transformMat3(t,t,n)}return this},resetTransform:function(t){var e=this.attr("matrix");a(e)||t.transform(e[0],e[1],e[3],e[4],e[6],e[7])}}},function(t,e,n){var r=n(1);r.Rect=n(64),r.Circle=n(65),r.Ellipse=n(66),r.Path=n(67),r.Text=n(68),r.Line=n(69),r.Image=n(70),r.Polygon=n(71),r.Polyline=n(72),r.Arc=n(73),r.Fan=n(74),r.Cubic=n(75),r.Quadratic=n(76),r.Marker=n(77),t.exports=r},function(t,e){t.exports={xAt:function(t,e,n,r,i){return e*Math.cos(t)*Math.cos(i)-n*Math.sin(t)*Math.sin(i)+r},yAt:function(t,e,n,r,i){return e*Math.sin(t)*Math.cos(i)+n*Math.cos(t)*Math.sin(i)+r},xExtrema:function(t,e,n){return Math.atan(-n/e*Math.tan(t))},yExtrema:function(t,e,n){return Math.atan(n/(e*Math.tan(t)))}}}])})}).call(this,n(47)(t))},function(t,e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){var e=void 0===t?"undefined":n(t);return null!=t&&("object"==e||"function"==e)}},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(174),o="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,a=i||o||Function("return this")();t.exports=a},,,,,function(t,e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){return null!=t&&"object"==(void 0===t?"undefined":n(t))}},function(t,e,n){var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(34),o=n(345),a=n(344),s={whitespace:{9:"Tab",13:"Enter",32:"Space"},fn:{112:"f1 ",113:"f2 ",114:"f3 ",115:"f4 ",116:"f5 ",117:"f6 ",118:"f7 ",119:"f8 ",120:"f9 ",121:"f10",122:"f11",123:"f12"},letter:{65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z"},number:{48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9"},navigation:{37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown"},symbol:{110:"decimal point",186:"semi-colon",187:"=",188:"comma",189:"-",190:"period ",191:"/",192:"grave accent",219:"open bracket ",220:"back slash ",221:"close bracket ",222:"single quote "},smallNumberKey:{96:"numpad 0 ",97:"numpad 1 ",98:"numpad 2 ",99:"numpad 3 ",100:"numpad 4 ",101:"numpad 5 ",102:"numpad 6 ",103:"numpad 7 ",104:"numpad 8 ",105:"numpad 9 "},modifierKey:{16:"Shift",17:"Ctrl ",18:"Alt",20:"caps lock"},escKey:{8:"Backspace",46:"Delete",27:"Escape"},homeKey:{91:"Windows Key / Left command",92:"right window key ",93:"Windows Menu"},computeKey:{106:"multiply ",107:"add",109:"subtract ",111:"divide "}},u=r({},i.Util,o,{getTypeAndChar:function(t){t=""+t;var e=void 0;for(var n in s)for(var r in e=n,s[n])if(r===t)return{type:e,character:s[n][r]};return{}},getKeyboradKey:function(t){return t.key||u.getTypeAndChar(t.keyCode).character},getIndex:function(t){return t.getParent().get("children").indexOf(t)},setId:function(t){t.id||(t.id=i.Util.guid())},pointLineDistance:function(t,e,n,r,o,a){var s=[n-t,r-e];if(i.Util.vec2.exactEquals(s,[0,0]))return NaN;var u=[-s[1],s[0]];i.Util.vec2.normalize(u,u);var c=[o-t,a-e];return Math.abs(i.Util.vec2.dot(c,u))},getRectByBox:function(t,e,n){return e.addShape("rect",{attrs:r({},n,{x:t.minX,y:t.minY,width:t.maxX-t.minX,height:t.maxY-t.minY})})},objectToValues:function(t){var e=[],n=void 0;for(n in t)t.hasOwnProperty(n)&&e.push(t[n]);return e},getValue:function(t){return i.Util.isFunction(t)?t():t},getContrast:function(t,e){var n={};return i.Util.each(e,function(e,r){n[r]=t[r]}),n},arrowTo:function(t,e,n,r,o,a,s){var u=[a-r,s-o],c=i.Util.vec2.angleTo(u,[1,0],!0);return t.transform([["r",c],["t",e,n]]),t},setEndOfContenteditable:function(t){var e=void 0,n=void 0;document.createRange?((e=document.createRange()).selectNodeContents(t),e.collapse(!1),(n=window.getSelection()).removeAllRanges(),n.addRange(e)):document.selection&&((e=document.body.createTextRange()).moveToElementText(t),e.collapse(!1),e.select())},matches:function(t,e){return(Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),n=e.length;--n>=0&&e.item(n)!==this;);return n>-1}).call(t,e)},delegateEvent:function(t,e,n,r){return u.addEventListener(t,e,function(e){for(var i=e.target||e.srcElement;i!==t;)u.matches(i,n)&&r.call(i,Array.prototype.slice.call(arguments)),i=i.parentNode})},Palettes:a});t.exports=u},,,function(t,e,n){var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0};var a=n(34),s=n(12),u=n(36),c=n(141),h=[],l=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n={showHotArea:!1,defaultData:{roots:[{label:"思维导图",children:[{label:"新建节点"},{label:"新建节点"},{label:"新建节点"}]}]},shortcut:{append:!0,appendChild:!0,collapseExpand:!0,selectAll:!0},labelEditable:!0,graph:{modes:{default:["clickNodeSelected","keydownMoveSelection","clickCanvasSelected","hoverMindExpandButton","keydownEditLabel","panBlank","wheelPanCanvas","panMindNode","clickCollapsedButton","clickExpandedButton","hoverButton","hoverNodeActived","dblclickItemEditLabel"],readOnly:["clickNodeSelected","wheelPanCanvas","keydownMoveSelection","hoverNodeActived","panCanvas","clickExpandedButton","hoverButton","clickCanvasSelected"]},layout:new a.Layouts.Mindmap({direction:"H",getSubTreeSep:function(t){return t.children&&t.children.length>0?t.hierarchy<=2?8:2:0},getHGap:function(t){return 1===t.hierarchy?8:2===t.hierarchy?24:18},getVGap:function(t){return 1===t.hierarchy?24:2===t.hierarchy?24:2},getSide:function(t){return t.data.side?t.data.side:"right"}}),mode:"default",defaultIntersectBox:"rect",nodeDefaultShape:c.nodeDefaultShape,edgeDefaultShape:c.edgeDefaultShape,minZoom:.2,maxZoom:2},align:{item:!1},rootShape:"mind-root",firstSubShape:"mind-first-sub",secondSubShape:"mind-second-sub",subShape:"mind-node",nodeDefaultShape:"mind-node",graphConstructor:a.Tree,defaultSide:"right"},r={};u.each(h,function(t){u.mix(r,t.CFG)}),u.mix(!0,n,r,t);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return i.isMind=!0,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s),i(e,[{key:"_init",value:function(){var t=this;o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_init",this).call(this),u.each(h,function(e){e.INIT&&t[e.INIT]()});var n=this.getGraph(),r=this.get("defaultData"),i=n.get("mode");if(this.set("hotAreaGroup",n.getFrontRootGroup().addGroup()),n.edge().shape(function(t){if(n.find(t.target).getModel().isPlaceholder)return"mind-placeholder-edge"}),r&&this.read(r),"default"===i){if(r){var a=this.getRoot(),s=n.find(a.id);this.setSelected(s,!0)}}else if("readOnly"===i){var c=this.get("shortcut");c.append=!1,c.appendChild=!1,c.selectAll=!1,c.delete=!1}if(r){var l=this.getRoot();this.focus(l.id)}}},{key:"bindEvent",value:function(){var t=this;o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"bindEvent",this).call(this);var n=this.get("_graph");n.on("keydown",function(t){t.domEvent.preventDefault()}),n.on("beforechange",function(e){"add"===e.action?t._beforeAdd(e):"changeData"===e.action&&t._beforeChangeData(e)}),n.on("aftersource",function(){t._setHierarchy()}),n.on("afterchange",function(){t._setHotArea()}),n.on("afteritemdraw",function(t){var e=t.item,n=e.getModel();if(e.isEdge){var r=e.getGraphicGroup();u.toBack(r,r.getParent()),r.setSilent("capture",!1)}n.parent||(e.isRoot=!0,e.deleteable=!1,e.collapseExpand=!1,e.appendable=!1,e.dragable=!1)}),this.on("beforedelete",function(e){var n=e.items[0],r=t._getBrothers(n),i=t._getNth(n);r[i-1]?t.setSelected(r[i-1].id,!0):r[i+1]?t.setSelected(r[i+1].id,!0):t.setSelected(n.getParent(),!0)}),this.on("afteritemselected",function(e){t._tryAdjustViewport(e.item)})}},{key:"getRoot",value:function(){return this.getGraph().getSource().roots[0]}},{key:"getDelegation",value:function(t,e){var n=t[0],r=n.getKeyShape(),i=r.get("canvas"),o=i.get("context"),a=n.getBBox(),s=r.get("totalMatrix"),c=u.getBBox(r,s||i),h=u.createDOM("<canvas>"),l=h.getContext("2d"),f=c.maxX-c.minX,d=c.maxY-c.minY,p=[2.5,2.5,2.5,4];h.setAttribute("width",f),h.setAttribute("height",d);var g=o.getImageData(c.minX+p[3],c.minY+p[0],f-p[1]-p[3],d-p[0]-p[2]);return l.putImageData(g,0,0),e.addShape("image",{attrs:{x:a.minX,y:a.minY,width:a.width,height:a.height,swidth:f,sheight:d,img:h,opacity:.5}})}},{key:"_setHierarchy",value:function(t){var e=this.getGraph(),n=this.get("firstSubShape"),r=this.get("secondSubShape"),i=this.get("defaultSide");if(t){var o=e.find(t.parent);if(o){var a=o.getModel();t.hierarchy=a.hierarchy+1,"mind-placeholder"!==t.shape&&(2===t.hierarchy&&(t.shape=n,t.side||(t.side=i)),3===t.hierarchy&&(t.shape=r))}}else(t=this.getRoot()).hierarchy=1;u.traverseTree(t,function(t,e){t.hierarchy=e.hierarchy+1,t.side||(t.side=i),e.side&&(t.side=e.side),2===t.hierarchy?t.shape=n:3===t.hierarchy&&(t.shape=r)},function(t){return t.children})}},{key:"getFirstChildrenBySide",value:function(t){var e=[];return this.getRoot().children.forEach(function(n){n.side===t&&e.push(n)}),e}},{key:"_getNth",value:function(t){return this.getGraph().getNth(t)}},{key:"_getBrothers",value:function(t){return t.getParent().getModel().children}},{key:"_getMoveChildModel",value:function(t){if(t&&t.length>0){var e=t.length;return t[parseInt(e/2)]}}},{key:"_getVerticalMoveItem",value:function(t,e,n){for(var r=this.getGraph().getNodes(),i=t.getBBox(),o=[i.minX,i.maxX],a=[],s=void 0,u=0;u<o.length;u++)for(var c=o[u],h=0;h<r.length;h++){var l=r[h],f=l.getBBox();e(f,i,c)&&a.push({long:n(f,i),node:l})}return a.length>0&&(a.sort(function(t,e){return t.long-e.long}),s=a[0].node),s}},{key:"_arrowTopItem",value:function(t){var e=this._getBrothers(t),n=this._getNth(t);return e[n-1]?e[n-1]:this._getVerticalMoveItem(t,function(t,e,n){return t.centerY<e.centerY&&n<=t.maxX&&n>=t.minX},function(t,e){return e.centerY-t.centerY})}},{key:"_arrowBottomItem",value:function(t){var e=this._getBrothers(t),n=this._getNth(t);return e[n+1]?e[n+1]:this._getVerticalMoveItem(t,function(t,e,n){return t.centerY>e.centerY&&n<=t.maxX&&n>=t.minX},function(t,e){return t.centerY-e.centerY})}},{key:"_arrowLeftItem",value:function(t){var e=u.getMindNodeSide(t);if(t.isRoot){var n=this.getFirstChildrenBySide("left");return this._getMoveChildModel(n)}if("left"===e){var r=t.getModel().children;return this._getMoveChildModel(r)}return t.getParent()}},{key:"_arrowRightItem",value:function(t){var e=u.getMindNodeSide(t);if(t.isRoot){var n=this.getFirstChildrenBySide("right");return this._getMoveChildModel(n)}if("right"===e){var r=t.getModel().children;return this._getMoveChildModel(r)}return t.getParent()}},{key:"_moveItemSelection",value:function(t){var e=this.getGraph(),n=this.getSelected()[0];if(n){var r=t.domEvent,i=u.getKeyboradKey(r),o=void 0;"ArrowUp"!==i||n.isRoot?"ArrowDown"!==i||n.isRoot?"ArrowLeft"===i?o=this._arrowLeftItem(n):"ArrowRight"===i&&(o=this._arrowRightItem(n)):o=this._arrowBottomItem(n):o=this._arrowTopItem(n),o&&(o=e.find(o.id)).isVisible()&&(this.clearSelected(),this.setSelected(o,!0))}}},{key:"showLabelEditor",value:function(t){var e=t.domEvent,n=this.getSelected()[0],r=u.getKeyboradKey(e);if(n&&1===r.length&&!e.metaKey&&!e.ctrlKey){var i=this.get("labelTextArea");n&&(this.beginEditLabel(n),i.innerHTML=r,u.setEndOfContenteditable(i))}}},{key:"_tryAdjustViewport",value:function(t){var e=this.get("_graph"),n=t.getBBox(),r={x:n.minX,y:n.minY},i={x:n.maxX,y:n.maxY},o=e.getDomPoint(r),a=e.getDomPoint(i),s=e.getWidth(),u=e.getHeight();o.x<0&&e.translate(16-o.x,0),o.y<0&&e.translate(0,16-o.y),a.x>s&&e.translate(s-a.x-16,0),a.y>u&&e.translate(0,u-a.y-16)}},{key:"_beforeChangeData",value:function(t){var e=t.data.roots[0],n=this.get("rootShape");e.shape=n,this._setHierarchy(e)}},{key:"_beforeAdd",value:function(t){var e=this.get("_graph"),n=t.model,r=e.find(n.parent);r.getModel().collapsed&&e.update(r,{collapsed:!1}),this._setHierarchy(n)}},{key:"_drawHotAreaShape",value:function(){var t=this.get("_graph").getFrontCanvas(),e=this.get("hotAreaGroup"),n=this.get("hotAreas");e.clear(),n.forEach(function(t){e.addShape("rect",{attrs:{x:t.minX,y:t.minY,width:t.maxX-t.minX,height:t.maxY-t.minY,fill:t.color,fillOpacity:.4},capture:!1})}),t.draw()}},{key:"_setHotArea",value:function(){var t=[],e=this.get("_graph"),n=this.getRoot(),i="placeholder",o=this.get("showHotArea"),a=e.find(n.id).getBBox();t.push({minX:a.minX-90,minY:a.minY-60,maxX:(a.minX+a.maxX)/2,maxY:a.maxY+60,parent:n,current:n,id:n.id+"left"+i,nth:n.children.length,side:"left",color:"orange"}),t.push({minX:(a.minX+a.maxX)/2,minY:a.minY-60,maxX:a.maxX+90,maxY:a.maxY+60,parent:n,current:n,id:n.id+"right"+i,nth:n.children.length,side:"right",color:"pink"}),u.traverseTree(n,function(n,o,a){var s=e.find(n.id);if(!n.isPlaceholder&&s&&s.isVisible()){var u=function(t,e,n){var r=n.children,i=t;if(!n.parent)for(;r[i]&&r[i].side!==e.side;)i++;for(;r[i]&&r[i].isPlaceholder;)i++;if(r[i]&&r[i].side===e.side)return r[i]}(a+1,n,o),c=function(t,e,n){var r=n.children,i=t;if(!n.parent)for(;r[i]&&r[i].side!==e.side;)i--;for(;r[i]&&r[i].isPlaceholder;)i--;if(r[i]&&r[i].side===e.side)return r[i]}(a-1,n,o),h=e.find(n.id).getBBox(),l=o.children,f=2===n.hierarchy&&"right"===n.side,d=2===n.hierarchy&&"left"===n.side;if(c||t.push({minX:f?h.minX-90:h.minX,minY:function(){var t=c?h.minY:h.minY-16;l[a-1]&&l[a-1].isPlaceholder&&l[a-1].side===n.side&&(t=e.find(l[a-1].id).getBBox().minY);return t}(),maxX:d?h.maxX+90:h.maxX,maxY:(h.minY+h.maxY)/2,parent:o,id:(c?c.id:void 0)+n.id+o.id+i,side:n.side,color:"yellow",nth:a}),u){var p=e.find(u.id).getBBox();t.push({minX:"left"===n.side?Math.max(h.minX,p.minX):f?h.minX-90:h.minX,minY:(h.minY+h.maxY)/2,maxX:"right"===n.side?Math.min(h.maxX,p.maxX):d?h.maxX+90:h.maxX,maxY:(p.minY+p.maxY)/2,parent:o,id:n.id+(u?u.id:void 0)+o.id+i,side:n.side,color:"blue",nth:a+1})}else t.push({minX:f?h.minX-90:h.minX,minY:(h.minY+h.maxY)/2,maxX:d?h.maxX+90:h.maxX,maxY:function(){var t=h.maxY+16;l[a+1]&&l[a+1].isPlaceholder&&l[a+1].side===n.side&&(t=e.find(l[a+1].id).getBBox().maxY);return t}(),parent:o,id:n.id+void 0+o.id+i,color:"red",nth:a+1,addOrder:"push",side:n.side});if(!n.children||0===n.children.length||1===n.children.length&&n.children[0].isPlaceholder){var g=void 0;g=n.x>o.x?{minX:h.maxX,minY:h.minY-0,maxX:h.maxX+100,maxY:h.maxY+0}:{minX:h.minX-100,minY:h.minY-0,maxX:h.minX,maxY:h.maxY+0},t.push(r({},g,{parent:n,id:NaN+n.id+i,nth:0,color:"green",side:n.side,addOrder:"push"}))}}},function(t){return t.children}),this.set("hotAreas",t),o&&this._drawHotAreaShape()}},{key:"hideHotArea",value:function(){var t=this.get("_graph").getFrontCanvas();this.get("hotAreaGroup").clear(),t.draw(),this.set("showHotArea",!1)}},{key:"showHotArea",value:function(){this._drawHotAreaShape(),this.set("showHotArea",!0)}},{key:"getHotArea",value:function(t){var e=void 0;return this.get("hotAreas").forEach(function(n){if(t.x>n.minX&&t.x<n.maxX&&t.y>n.minY&&t.y<n.maxY)return e=n,!1}),e}},{key:"saveExpandImage",value:function(){var t=this,e=this.getGraph(),n=e.getBBox(),r=e.getFitViewPadding(),i=void 0,o=void 0,a=void 0;return u.graph2Canvas({graph:e,width:n.width+r[1]+r[3],height:n.height+r[0]+r[2],beforeTransform:function(){var n=e.getNodes();(i=n.filter(function(t){return t.getModel().collapsed}).map(function(t){return t.getModel().id})).forEach(function(t){e.update(t,{collapsed:!1})}),e.layout(),o=t.getSelected().map(function(t){return t.id}),a=t.getSelected().map(function(t){return t.id}),t.clearSelected(),t.clearActived()},afterTransform:function(){i.forEach(function(t){e.update(t,{collapsed:!0})}),t.setSelected(o,!0),t.setActived(a,!0)}})}},{key:"save",value:function(){var t=this.get("_graph").save();return t.roots.forEach(function(t){u.traverseTree(t,function(t){delete t.x,delete t.y,delete t.width,delete t.height,delete t.parent,delete t.nth,delete t.hierarchy,delete t.index,delete t.shape},function(t){return t.children},!0)}),t}}]),e}();u.each(h,function(t){u.mix(l.prototype,t.AUGMENT)}),t.exports=l},function(t,e,n){var r=n(177),i=n(148),o=n(38),a=n(98),s=n(21),u={Graph:n(147),Tree:n(351),Util:n(11),Layouts:n(144),G:s,Plugins:{},Global:o,Shape:r,registerNode:r.registerNode,registerEdge:r.registerEdge,registerGroup:r.registerGroup,registerGuide:r.registerGuide,registerBehaviour:i.registerBehaviour,version:a,getG:function(){return n(21)},track:function(t){o.trackable=t}};n(346),t.exports=u},,function(t,e,n){var r=(Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t})({},n(18),{getMindNodeSide:function(t){var e=t.getModel();if(e.side)return e.side;var n=t.getParent();return n?n.getModel().side?n.getModel().side:r.getMindNodeSide(n):void 0}});t.exports=r},function(t,e,n){var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var i=n(34).Util,o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=this.getDefaultCfg();i.mix(this,n,e),this.init()}return r(t,[{key:"getDefaultCfg",value:function(){return{}}}]),r(t,[{key:"init",value:function(){}},{key:"destroy",value:function(){}}]),t}();t.exports=o},function(t,e,n){var r=n(98);t.exports={trackable:!0,defaultNodeSize:40,labelStyle:{fill:"#595959",textAlign:"center",textBaseline:"middle"},groupStyle:{stroke:"#CED4D9",fill:"#F2F4F5",radius:2},groupBackgroundPadding:[40,10,10,10],updateDuration:450,enterDuration:450,leaveDuration:450,updateEasing:"easeQuadOut",enterEasing:"easeQuadOut",leaveEasing:"easeQuadOut",version:r}},function(t,e,n){var r=n(464),i=n(461);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},function(t,e){var n,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"===("undefined"==typeof window?"undefined":r(window))&&(n=window)}t.exports=n},,,,function(t,e,n){var r=n(54),i=n(483),o=n(482),a="[object Null]",s="[object Undefined]",u=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?s:a:u&&u in Object(t)?i(t):o(t)}},,function(t,e,n){var r=5,i=(Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t})({},n(21).CommonUtil,{lowerFirst:n(490),isPlainObject:n(204),indexOf:n(481),cloneDeep:n(476),round:n(421),filter:n(419),throttle:n(394),debounce:n(150),uniq:n(392),traverseTree:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=n(t);r&&e(t,null,null),o&&i.each(o,function(r,o){e(r,t,o),i.traverseTree(r,e,n)})},toAllPadding:function(t){var e=0,n=0,r=0,o=0;return i.isNumber(t)||i.isString(t)?e=n=r=o=t:i.isArray(t)&&(e=t[0],r=i.isNil(t[1])?t[0]:t[1],o=i.isNil(t[2])?t[0]:t[2],n=i.isNil(t[3])?r:t[3]),[e,r,o,n]},guid:function(){return"xxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},mix:function(){var t=i.toArray(arguments),e=t[0],n=void 0,r=void 0;if(!0===e)for(e=t[1],r=2;r<t.length;r++)o(e,n=t[r]);else for(r=1;r<t.length;r++)for(var a in n=t[r])n.hasOwnProperty(a)&&"constructor"!==a&&(e[a]=n[a]);return e},mixin:function(t,e){if(t&&e){t._mixins=e,t.ATTRS=t.ATTRS||{};i.each(e,function(e){i.augment(t,e)}),t.ATTRS=i.mix({},t.ATTRS)}}});function o(t,e,n){for(var a in n=n||0,e)if(e.hasOwnProperty(a)){var s=e[a];null!==s&&i.isPlainObject(s)?(i.isPlainObject(t[a])||(t[a]={}),n<r?o(t[a],e[a],n+1):t[a]=e[a]):i.isArray(s)?(t[a]=[],t[a]=t[a].concat(s)):void 0!==s&&(t[a]=e[a])}}i.Array={remove:function(t,e){var n=i.indexOf(t,e);-1!==n&&t.splice(n,1)}},t.exports=i},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){var r=n(11),i={},o={draw:function(){}},a={defaultShapeType:null,getShape:function(t,e){return this[t]||this[e]||this[this.defaultShapeType]||o},getExtendShape:function(t,e){var n=this;if(r.isArray(t)){var i={};return t.forEach(function(t){i=r.mix({},i,n.getShape(t,e))}),i}return this.getShape(t,e)}};i.registerShapeManager=function(t,e){var n=r.mix({},a,e),o=r.upperFirst(t);return i[o]=n,i["register"+o]=function(t,e,i,o){r.isNil(i)&&r.isNil(o)&&(i=t);var a=n.getExtendShape(i,o),s=r.mix(!0,{},a,e);return s.type=t,n[t]=s,s},n},t.exports=i},,,,,function(t,e,n){var r=n(169),i=n(442),o=n(64);t.exports=function(t){return o(t)?r(t):i(t)}},function(t,e,n){var r=n(24).Symbol;t.exports=r},,,,,,,,function(t,e,n){var r=n(77),i=1/0;t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-i?"-0":e}},function(t,e,n){var r=n(434),i=n(109),o=n(433),a=n(161),s=n(432),u=n(44),c=n(170),h=c(r),l=c(i),f=c(o),d=c(a),p=c(s),g=u;(r&&"[object DataView]"!=g(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=g(new i)||o&&"[object Promise]"!=g(o.resolve())||a&&"[object Set]"!=g(new a)||s&&"[object WeakMap]"!=g(new s))&&(g=function(t){var e=u(t),n="[object Object]"==e?t.constructor:void 0,r=n?c(n):"";if(r)switch(r){case h:return"[object DataView]";case l:return"[object Map]";case f:return"[object Promise]";case d:return"[object Set]";case p:return"[object WeakMap]"}return e}),t.exports=g},function(t,e,n){var r=n(130),i=n(106);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},function(t,e,n){var r=n(129),i=n(128);t.exports=function(t,e,n,o){var a=!n;n||(n={});for(var s=-1,u=e.length;++s<u;){var c=e[s],h=o?o(n[c],t[c],c,n,t):void 0;void 0===h&&(h=t[c]),a?i(n,c,h):r(n,c,h)}return n}},,function(t,e){t.exports={gridStyle:{stroke:"#A3B1BF",lineWidth:.5},cursor:{panningCanvas:"-webkit-grabbing",beforePanCanvas:"-webkit-grab"},wheelPanRatio:.3,alignLineStyle:{stroke:"#FA8C16",lineWidth:1}}},function(t,e,n){var r=n(96);n(342),n(341),t.exports=r},function(t,e,n){var r=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r.options=n,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.execute=function(){var t=this,e=this.options;this.roots.forEach(function(n){t.layout(n,e).eachNode(function(t){t.data.x=t.x+t.data.width/2+t.hgap,t.data.y=t.y+t.data.height/2+t.vgap})})},e}(n(143));t.exports=r},function(t,e,n){(function(t){var n,r,i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(a,s){"object"===o(e)&&"object"===o(t)?t.exports=s():(r=[],void 0===(i="function"==typeof(n=s)?n.apply(e,r):n)||(t.exports=i))}("undefined"!=typeof self&&self,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=4)}([function(t,e,n){var r=n(2),i=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.options=n,this.rootNode=r(e,n)}return t.prototype.execute=function(){throw new Error("please override this method")},t}();t.exports=i},function(t,e,n){var r=n(3),i=["LR","RL","TB","BT","H","V"],o=["LR","RL","H"],a=i[0];t.exports=function(t,e,n){var s=e.direction||a;if(e.isHorizontal=function(t){return o.indexOf(t)>-1}(s),s&&-1===i.indexOf(s))throw new TypeError("Invalid direction: "+s);if(s===i[0])n(t,e);else if(s===i[1])n(t,e),t.right2left();else if(s===i[2])n(t,e);else if(s===i[3])n(t,e),t.bottom2top();else if(s===i[4]||s===i[5]){var u=r(t,e),c=u.left,h=u.right;n(c,e),n(h,e),e.isHorizontal?c.right2left():c.bottom2top(),h.translate(c.x-h.x,c.y-h.y),t.x=c.x,t.y=h.y;var l=t.getBoundingBox();e.isHorizontal?l.top<0&&t.translate(0,-l.top):l.left<0&&t.translate(-l.left,0)}return t.translate(-(t.x+t.width/2+t.hgap),-(t.y+t.height/2+t.vgap)),t}},function(t,e){var n={getId:function(t){return t.id||t.name},getHGap:function(t){return t.hgap||18},getVGap:function(t){return t.vgap||18},getChildren:function(t){return t.children},getHeight:function(t){return t.height||36},getWidth:function(t){var e=t.name||" ";return t.width||18*e.split("").length}};function r(t,e){var n=this;if(n.vgap=n.hgap=0,t instanceof r)return t;n.data=t;var i=e.getHGap(t),o=e.getVGap(t);return n.width=e.getWidth(t),n.height=e.getHeight(t),n.id=e.getId(t),n.x=n.y=0,n.depth=0,n.children||(n.children=[]),n.addGap(i,o),n}Object.assign(r.prototype,{isRoot:function(){return 0===this.depth},isLeaf:function(){return 0===this.children.length},addGap:function(t,e){this.hgap+=t,this.vgap+=e,this.width+=2*t,this.height+=2*e},eachNode:function(t){for(var e=[this],n=void 0;n=e.pop();)t(n),e=e.concat(n.children)},DFTraverse:function(t){this.eachNode(t)},BFTraverse:function(t){for(var e=[this],n=void 0;n=e.shift();)t(n),e=e.concat(n.children)},getBoundingBox:function(){var t={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(e){t.left=Math.min(t.left,e.x),t.top=Math.min(t.top,e.y),t.width=Math.max(t.width,e.x+e.width),t.height=Math.max(t.height,e.y+e.height)}),t},translate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.eachNode(function(n){n.x+=t,n.y+=e})},right2left:function(){var t=this.getBoundingBox();this.eachNode(function(e){e.x=e.x-2*(e.x-t.left)-e.width}),this.translate(t.width,0)},bottom2top:function(){var t=this.getBoundingBox();this.eachNode(function(e){e.y=e.y-2*(e.y-t.top)-e.height}),this.translate(0,t.height)}}),t.exports=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments[2],o=new r(t,e=Object.assign({},n,e)),a=[o],s=void 0;if(!i&&!t.collapsed)for(;s=a.pop();)if(!s.data.collapsed){var u=e.getChildren(s.data),c=u?u.length:0;if(s.children=new Array(c),u&&c)for(var h=0;h<c;h++){var l=new r(u[h],e);s.children[h]=l,a.push(l),l.parent=s,l.depth=s.depth+1}}return o}},function(t,e,n){var r=n(2);t.exports=function(t,e){for(var n=r(t.data,e,!0),i=r(t.data,e,!0),o=t.children.length,a=Math.round(o/2),s=e.getSide||function(t,e){return e<a?"right":"left"},u=0;u<o;u++){var c=t.children[u];"right"===s(c,u)?i.children.push(c):n.children.push(c)}return n.eachNode(function(t){t.isRoot()||(t.side="left")}),i.eachNode(function(t){t.isRoot()||(t.side="right")}),{left:n,right:i}}},function(t,e,n){var r={compactBox:n(5),dendrogram:n(7),indented:n(9),mindmap:n(11)};t.exports=r},function(t,e,n){var r=n(0),i=n(6),a=n(1),s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":o(e))&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":o(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.execute=function(){return a(this.rootNode,this.options,i)},e}(r),u={};t.exports=function(t,e){return e=Object.assign({},u,e),new s(t,e).execute()}},function(t,e){function n(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=this;i.w=t||0,i.h=e||0,i.y=n||0,i.x=0,i.c=r||[],i.cs=r.length,i.prelim=0,i.mod=0,i.shift=0,i.change=0,i.tl=null,i.tr=null,i.el=null,i.er=null,i.msel=0,i.mser=0}function r(t,e){!function t(e,n,r){r?e.y+=n:e.x+=n,e.children.forEach(function(e){t(e,n,r)})}(t,-function t(e,n){var r=n?e.y:e.x;return e.children.forEach(function(e){r=Math.min(t(e,n),r)}),r}(t,e),e)}n.fromNode=function(t,e){if(!t)return null;var r=[];return t.children.forEach(function(t){r.push(n.fromNode(t,e))}),e?new n(t.height,t.width,t.x,r):new n(t.width,t.height,t.y,r)},t.exports=function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).isHorizontal;function i(t){0===t.cs?(t.el=t,t.er=t,t.msel=t.mser=0):(t.el=t.c[0].el,t.msel=t.c[0].msel,t.er=t.c[t.cs-1].er,t.mser=t.c[t.cs-1].mser)}function o(t,e,n){for(var r=t.c[e-1],i=r.mod,o=t.c[e],h=o.mod;null!==r&&null!==o;){c(r)>n.low&&(n=n.nxt);var l=i+r.prelim+r.w-(h+o.prelim);l>0&&(h+=l,a(t,e,n.index,l));var f=c(r),d=c(o);f<=d&&null!==(r=u(r))&&(i+=r.mod),f>=d&&null!==(o=s(o))&&(h+=o.mod)}!r&&o?function(t,e,n,r){var i=t.c[0].el;i.tl=n;var o=r-n.mod-t.c[0].msel;i.mod+=o,i.prelim-=o,t.c[0].el=t.c[e].el,t.c[0].msel=t.c[e].msel}(t,e,o,h):r&&!o&&function(t,e,n,r){var i=t.c[e].er;i.tr=n;var o=r-n.mod-t.c[e].mser;i.mod+=o,i.prelim-=o,t.c[e].er=t.c[e-1].er,t.c[e].mser=t.c[e-1].mser}(t,e,r,i)}function a(t,e,n,r){t.c[e].mod+=r,t.c[e].msel+=r,t.c[e].mser+=r,function(t,e,n,r){if(n!==e-1){var i=e-n;t.c[n+1].shift+=r/i,t.c[e].shift-=r/i,t.c[e].change-=r-r/i}}(t,e,n,r)}function s(t){return 0===t.cs?t.tl:t.c[0]}function u(t){return 0===t.cs?t.tr:t.c[t.cs-1]}function c(t){return t.y+t.h}function h(t,e,n){for(;null!==n&&t>=n.low;)n=n.nxt;return{low:t,index:e,nxt:n}}!function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;n?(e.x=r,r+=e.width):(e.y=r,r+=e.height),e.children.forEach(function(e){t(e,n,r)})}(t,e);var l=n.fromNode(t,e);return function t(e){if(0!==e.cs){t(e.c[0]);for(var n=h(c(e.c[0].el),0,null),r=1;r<e.cs;++r){t(e.c[r]);var a=c(e.c[r].er);o(e,r,n),n=h(a,r,n)}!function(t){t.prelim=(t.c[0].prelim+t.c[0].mod+t.c[t.cs-1].mod+t.c[t.cs-1].prelim+t.c[t.cs-1].w)/2-t.w/2}(e),i(e)}else i(e)}(l),function t(e,n){n+=e.mod,e.x=e.prelim+n,function(t){for(var e=0,n=0,r=0;r<t.cs;r++)e+=t.c[r].shift,n+=e+t.c[r].change,t.c[r].mod+=n}(e);for(var r=0;r<e.cs;r++)t(e.c[r],n)}(l,0),function t(e,n,r){r?n.y=e.x:n.x=e.x,e.c.forEach(function(e,i){t(e,n.children[i],r)})}(l,t,e),r(t,e),t}},function(t,e,n){var r=n(0),i=n(8),a=n(1),s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":o(e))&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":o(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.execute=function(){return this.rootNode.width=0,a(this.rootNode,this.options,i)},e}(r),u={};t.exports=function(t,e){return e=Object.assign({},u,e),new s(t,e).execute()}},function(t,e){var n={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};t.exports=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=Object.assign({},n,e);var r=0;var i=void 0;var o=function t(e){if(!e)return null;e.width=0,e.depth&&e.depth>r&&(r=e.depth);var n=e.children,i=n.length,o=new function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],e=this;e.x=e.y=0,e.leftChild=e.rightChild=null,e.height=0,e.children=t}(e.height,[]);return n.forEach(function(e,n){var r=t(e);o.children.push(r),0===n&&(o.leftChild=r),n===i-1&&(o.rightChild=r)}),o.originNode=e,o.isLeaf=e.isLeaf(),o}(t);return function t(e){if(e.isLeaf||0===e.children.length)e.drawingDepth=r;else{var n=e.children.map(function(e){return t(e)}),i=Math.min.apply(null,n);e.drawingDepth=i-1}return e.drawingDepth}(o),function t(n){n.x=n.drawingDepth*e.rankSep,n.isLeaf?(n.y=0,i&&(n.y=i.y+i.height+e.nodeSep,n.originNode.parent!==i.originNode.parent&&(n.y+=e.subTreeSep)),i=n):(n.children.forEach(function(e){t(e)}),n.y=(n.leftChild.y+n.rightChild.y)/2)}(o),function t(e,n,r){r?(n.x=e.x,n.y=e.y):(n.x=e.y,n.y=e.x),e.children.forEach(function(e,i){t(e,n.children[i],r)})}(o,t,e.isHorizontal),t}},function(t,e,n){var r=n(0),i=n(10),a=n(3),s=["LR","RL","H"],u=s[0],c=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":o(e))&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":o(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.execute=function(){var t=this.options,e=this.rootNode;t.isHorizontal=!0;var n=t.indent,r=t.direction||u;if(r&&-1===s.indexOf(r))throw new TypeError("Invalid direction: "+r);if(r===s[0])i(e,n);else if(r===s[1])i(e,n),e.right2left();else if(r===s[2]){var o=a(e,t),c=o.left,h=o.right;i(c,n),c.right2left(),i(h,n);var l=c.getBoundingBox();h.translate(l.width,0),e.x=h.x-e.width/2}return e},e}(r),h={};t.exports=function(t,e){return e=Object.assign({},h,e),new c(t,e).execute()}},function(t,e){t.exports=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=null;t.eachNode(function(t){!function(t,e,n){t.x+=n*t.depth,t.y=e?e.y+e.height:0}(t,n,e),n=t})}},function(t,e,n){var r=n(0),i=n(12),a=n(1),s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":o(e))&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":o(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.execute=function(){return a(this.rootNode,this.options,i)},e}(r),u={};t.exports=function(t,e){return e=Object.assign({},u,e),new s(t,e).execute()}},function(t,e){var n={getSubTreeSep:function(){return 0}};t.exports=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=Object.assign({},n,e),t.parent={x:0,width:0,height:0,y:0},t.BFTraverse(function(t){t.x=t.parent.x+t.parent.width}),t.parent=null,function t(e,n){var r=0;return e.children.length?e.children.forEach(function(e){r+=t(e,n)}):r=e.height,e._subTreeSep=n.getSubTreeSep(e.data),e.totalHeight=Math.max(e.height,r)+2*e._subTreeSep,e.totalHeight}(t,e),t.startY=0,t.y=t.totalHeight/2-t.height/2,t.eachNode(function(t){var e=t.children,n=e.length;if(n){var r=e[0];if(r.startY=t.startY+t._subTreeSep,1===n)r.y=t.y+t.height/2-r.height/2;else{r.y=r.startY+r.totalHeight/2-r.height/2;for(var i=1;i<n;i++){var o=e[i];o.startY=e[i-1].startY+e[i-1].totalHeight,o.y=o.startY+o.totalHeight/2-o.height/2}}}}),function t(e){var n=e.children,r=n.length;if(r){n.forEach(function(e){t(e)});var i=n[0],o=n[r-1],a=o.y-i.y+o.height,s=0;if(n.forEach(function(t){s+=t.totalHeight}),a>e.height)e.y=i.y+a/2-e.height/2;else if(1!==n.length||e.height>s){var u=e.y+(e.height-a)/2-i.y;n.forEach(function(t){t.translate(0,u)})}else e.y=(i.y+i.height/2+o.y+o.height/2)/2-e.height/2}}(t)}}])})}).call(this,n(47)(t))},function(t,e,n){var r=n(11),i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=this.getDefaultCfg();r.mix(this,n,e)}return t.prototype.getDefaultCfg=function(){return{}},t.prototype.destroy=function(){},t}();t.exports=i},function(t,e,n){var r=n(452);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e,n){var r=n(39)(Object,"create");t.exports=r},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){var r=n(74);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(474),i=n(473),o=n(472),a=n(471),s=n(470);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(44),o=n(29),a="[object Symbol]";t.exports=function(t){return"symbol"==(void 0===t?"undefined":r(t))||o(t)&&i(t)==a}},,,,,,,function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}},function(t,e,n){(function(t){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(24),o=n(444),a="object"==r(e)&&e&&!e.nodeType&&e,s=a&&"object"==r(t)&&t&&!t.nodeType&&t,u=s&&s.exports===a?i.Buffer:void 0,c=(u?u.isBuffer:void 0)||o;t.exports=c}).call(this,n(47)(t))},function(t,e,n){var r=n(76),i=n(469),o=n(468),a=n(467),s=n(466),u=n(465);function c(t){var e=this.__data__=new r(t);this.size=e.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,t.exports=c},,,,,,,,,,function(t,e,n){var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(30),o={};function a(t){return t.getCurrentPage().getSelected().length>0}function s(t){var e=t.getCurrentPage();this.snapShot=e.save(),this.selectedItems=e.getSelected().map(function(t){return t.id}),this.method&&(i.isString(this.method)?e[this.method]():this.method(t))}function u(t){var e=t.getCurrentPage();e.read(this.snapShot),e.setSelected(this.selectedItems,!0)}function c(t){return t.getCurrentPage().getMode()!==this.toMode}function h(t){var e=t.getCurrentPage();this.fromMode=e.getMode(),e.changeMode(this.toMode)}function l(t){t.getCurrentPage().changeMode(this.fromMode)}function f(t){var e={},n=[];return t.forEach(function(t){var o=t.model,a=i.mix(!0,{},r({},o,{id:i.guid()}));e[o.id]=a.id,n.push(r({},t,{model:a}))}),n.forEach(function(t){var n=t.model;if(n.parent){var r=e[n.parent];r?n.parent=r:delete n.parent}}),n.sort(function(t,e){return t.index-e.index}),n}o.list=[],o.registerCommand=function(t,e,n){if(o[t])i.mix(o[t],e);else{var a=r({enable:function(){return!0},init:function(){},execute:s,back:u,shortcutCodes:void 0,executeTimes:1,name:t,queue:!0},e);n&&o[n]&&(a=i.mix({},o[n],e)),o[t]=a,o.list.push(a)}},o.execute=function(t,e,n){var r=i.mix(!0,{},o[t],n),a=e.get("_command");if(r.enable(e))return r.init(),r.queue&&(a.queue.splice(a.current,a.queue.length-a.current,r),a.current+=1),e.emit("beforecommandexecute",{command:r}),r.execute(e),e.emit("aftercommandexecute",{command:r}),e.setCommandDOMenable(),r},o.enable=function(t,e){return o[t].enable(e)},o.registerCommand("common",{back:u}),o.registerCommand("update",{enable:function(){return this.itemId&&this.updateModel},execute:function(t){var e=t.getCurrentPage(),n=e.getGraph(),r=n.find(this.itemId);1===this.executeTimes&&(this.originModel=i.getContrast(r.getModel(),this.updateModel),this.page=e),n.update(r,this.updateModel)},back:function(){var t=this.page.getGraph(),e=t.find(this.itemId);t.update(e,this.originModel)}}),o.registerCommand("redo",{queue:!1,enable:function(t){var e=t.get("_command"),n=e.queue;return e.current<n.length},execute:function(t){var e=t.get("_command");e.queue[e.current].execute(t),e.current+=1},shortcutCodes:[["metaKey","shiftKey","z"],["ctrlKey","shiftKey","z"]]}),o.registerCommand("undo",{queue:!1,enable:function(t){return t.get("_command").current>0},execute:function(t){var e=t.get("_command"),n=e.queue[e.current-1];n.executeTimes++,n.back(t),e.current-=1},shortcutCodes:[["metaKey","z"],["ctrlKey","z"]]}),o.registerCommand("copy",{queue:!1,enable:a,method:function(t){var e=t.getCurrentPage().getSelected(),n=t.get("_command"),o=e.map(function(t){return t.getGraphicGroup()}),a=i.getChildrenBBox(o);n.clipboard=[],e.forEach(function(t){i.traverseTree(t,function(t){var e=t.getModel(),r=t.getGraphicGroup();n.clipboard.push({type:t.type,index:i.getIndex(r),model:e})},function(t){return t.getChildren&&t.getChildren()},!0)}),t.set("copyCenterBox",r({},a))}}),o.registerCommand("pasteHere",{enable:function(t){return t.get("_command").clipboard.length>0},method:function(t){var e=t.getCurrentPage(),n=t.get("_command"),r=this.pasteData?this.pasteData:f(n.clipboard),o=this.copyCenterBox?this.copyCenterBox:t.get("copyCenterBox"),a=this.contextmenuPoint?this.contextmenuPoint:t.get("contextmenuPoint");e.clearSelected(),this.copyCenterBox=i.cloneDeep(o),this.pasteData=i.cloneDeep(r),this.contextmenuPoint=i.cloneDeep(a),r.forEach(function(t){var n=t.model;n.x&&(n.x+=a.x-o.minX),n.y&&(n.y+=a.y-o.minY),e.add(t.type,n)})},back:u}),o.registerCommand("paste",{enable:function(t){return t.get("_command").clipboard.length>0},method:function(t){var e=t.getCurrentPage(),n=t.get("_command"),r=this.pasteData?this.pasteData:f(n.clipboard);e.clearSelected(),this.pasteData=i.cloneDeep(r),r.forEach(function(t){var n=t.model;n.x&&(n.x+=10),n.y&&(n.y+=10),e.add(t.type,n)})},back:u}),o.registerCommand("addGroup",{init:function(){this.addGroupId=i.guid()},enable:function(t){return t.getCurrentPage().getSelected().length>1},method:function(t){t.getCurrentPage().addGroup({id:this.addGroupId})},back:u}),o.registerCommand("unGroup",{enable:function(t){var e=t.getCurrentPage().getSelected();return 1===e.length&&e[0].isGroup},method:"unGroup",back:u}),o.registerCommand("delete",{getDeleteItems:function(t){var e=t.getCurrentPage(),n=e.getGraph(),r=this.itemIds?this.itemIds.map(function(t){return n.find(t)}):e.getSelected();return r=r.filter(function(t){return!1!==t.deleteable})},enable:function(t){return this.getDeleteItems(t).length>0},method:function(t){var e=t.getCurrentPage(),n=this.getDeleteItems(t),r=e.getGraph();e.emit("beforedelete",{items:n}),i.each(n,function(t){r.remove(t)}),e.emit("afterdelete",{items:n}),this.itemIds=n.map(function(t){return t.getModel().id})},back:u,shortcutCodes:["Delete","Backspace"]}),o.registerCommand("selectAll",{method:function(t){var e=t.getCurrentPage();e.getGraph().getItems().forEach(function(t){e.setSelected(t,!0)})},back:u,shortcutCodes:[["metaKey","a"]]}),o.registerCommand("toBack",{enable:a,method:"toBack",back:u}),o.registerCommand("toFront",{enable:a,method:"toFront",back:u}),o.registerCommand("clear",{enable:function(t){return t.getCurrentPage().getItems().length>0},method:"clear",back:u}),o.registerCommand("multiSelect",{enable:c,toMode:"multiSelect",execute:h,back:l}),o.registerCommand("move",{enable:c,toMode:"move",execute:h,back:l}),t.exports=o},function(t,e,n){var r=n(11);var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);r.mix(this,{id:"",type:null,model:{},group:null,animate:!1,modelCache:{}},e),this._init()}return t.prototype._init=function(){this._setIndex(),this._mapping(),this._setShapeObj(),this._initGroup(),this.draw()},t.prototype._setIndex=function(){var t=this.model;r.isNil(t.index)&&(t.index=this.zIndex)},t.prototype._mapping=function(){var t=this.mapper,e=this.model;t.mapping(e)},t.prototype._initGroup=function(){var t=this.group,e=this.model,n=this.type;t.isItemContainer=!0,t.id=e.id,t.itemType=n,t.model=e},t.prototype._calculateBBox=function(){var t=this.keyShape,e=this.group,n=r.getBBox(t,e);return n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2,n},t.prototype.getLabel=function(){return this.group.findByClass("label")[0]},t.prototype.getGraph=function(){return this.graph},t.prototype.getEnterAnimate=function(){var t=this.shapeObj,e=this.graph;return t.enterAnimate?t.enterAnimate:e.get("_enterAnimate")},t.prototype.getLeaveAnimate=function(){var t=this.shapeObj,e=this.graph;return t.leaveAnimate?t.leaveAnimate:e.get("_leaveAnimate")},t.prototype._setShapeObj=function(){var t=this.graph,e=this.type,n=this.getModel();this.shapeObj=t.getShapeObj(e,n)},t.prototype._afterDraw=function(){var t=this.graph;this._setGId(),this._cacheModel(),t.emit("afteritemdraw",{item:this})},t.prototype._cacheModel=function(){this.modelCache=r.mix({},this.model)},t.prototype._setGId=function(){var t=this.group,e=this.id,n=this.type;t.gid=e,t.deepEach(function(t,r,i){var o=r.gid;t.id=e,t.eventPreFix=n,t.gid=o+"-"+i})},t.prototype._beforeDraw=function(){this.graph.emit("beforeitemdraw",{item:this}),this.updateCollapsedParent(),this._setShapeObj()},t.prototype._shouldDraw=function(){return!0},t.prototype._getDiff=function(){var t=[],e=this.model,n=this.modelCache;return r.each(e,function(e,i){r.isEqual(e,n[i])||t.push(i)}),0!==t.length&&t},t.prototype._drawInner=function(){var t=this.animate;this.group.clear(!t);var e=this.shapeObj,n=e.draw(this);n&&(n.isKeyShape=!0,this.keyShape=n),e.afterDraw&&e.afterDraw(this)},t.prototype.deepEach=function(t,e){r.traverseTree(this,t,e||function(t){return t.getChildren()})},t.prototype.getShapeObj=function(){return this.shapeObj},t.prototype.updateCollapsedParent=function(){var t=this.dataMap;this.collapsedParent=function t(e,n){var r=n[e.parent];if(!r)return!1;if(r){var i=t(r,n);if(i)return i}return r.collapsed?r:void 0}(this.model,t)},t.prototype.isVisible=function(){return this.group.get("visible")},t.prototype.hide=function(){var t=this.group,e=this.graph;e.emit("beforeitemhide",{item:this}),t.hide(),e.emit("afteritemhide",{item:this})},t.prototype.show=function(){var t=this.group,e=this.graph;e.emit("beforeitemshow",{item:this}),t.show(),e.emit("afteritemshow",{item:this})},t.prototype.draw=function(){this._beforeDraw(),this._shouldDraw()&&this._drawInner(),this._afterDraw()},t.prototype.forceUpdate=function(){this._beforeDraw(),this._drawInner(),this._afterDraw()},t.prototype.getCenter=function(){var t=this.getBBox();return{x:t.centerX,y:t.centerY}},t.prototype.getBBox=function(){return this.bbox||this._calculateBBox()},t.prototype.layoutUpdate=function(){this.draw()},t.prototype.update=function(){this.draw()},t.prototype.getModel=function(){return this.model},t.prototype.getKeyShape=function(){return this.keyShape},t.prototype.getGraphicGroup=function(){return this.group},t.prototype.getHierarchy=function(){return this.graph.getHierarchy(this)},t.prototype.getParent=function(){var t=this.model;return this.itemMap[t.parent]},t.prototype.getAllParents=function(){for(var t=this.model,e=this.itemMap,n=[],r=t.parent;r&&e[r];)n.push(e[r]),r=r.parent;return n},t.prototype.getAllChildren=function(){var t=[];return this.deepEach(function(e){t.push(e)}),t},t.prototype.getChildren=function(){var t=this.id;return this.graph.getItems().filter(function(e){return e.model.parent===t})},t.prototype.destroy=function(){if(!this.destroyed){var t=this.animate,e=this.graph;e.emit("beforeitemdestroy",{item:this}),this.group.remove(!t),this.destroyed=!0,e.emit("afteritemdestroy",{item:this})}},t}();t.exports=i},function(t,e){t.exports="2.0.5"},function(t,e,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(23),o=n(77),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;t.exports=function(t,e){if(i(t))return!1;var n=void 0===t?"undefined":r(t);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!o(t))||s.test(t)||!a.test(t)||null!=e&&t in Object(e)}},function(t,e,n){var r=n(160);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},function(t,e,n){var r=n(167),i=n(166),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),r(a(t),function(e){return o.call(t,e)}))}:i;t.exports=s},function(t,e,n){var r=n(169),i=n(439),o=n(64);t.exports=function(t){return o(t)?r(t,!0):i(t)}},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e,n){(function(t){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(174),o="object"==r(e)&&e&&!e.nodeType&&e,a=o&&"object"==r(t)&&t&&!t.nodeType&&t,s=a&&a.exports===o&&i.process,u=function(){try{var t=a&&a.require&&a.require("util").types;return t||s&&s.binding&&s.binding("util")}catch(t){}}();t.exports=u}).call(this,n(47)(t))},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e){var n=9007199254740991;t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}},function(t,e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=9007199254740991,i=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var o=void 0===t?"undefined":n(t);return!!(e=null==e?r:e)&&("number"==o||"symbol"!=o&&i.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e,n){var r=n(460),i=n(453),o=n(451),a=n(450),s=n(449);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(39)(n(24),"Map");t.exports=r},function(t,e,n){var r=n(22),i=n(77),o=NaN,a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,h=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(i(t))return o;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var n=u.test(t);return n||c.test(t)?h(t.slice(2),n?2:8):s.test(t)?o:+t}},function(t,e,n){var r=n(173)(Object.getPrototypeOf,Object);t.exports=r},function(t,e,n){var r=n(484);t.exports=function(t){return null==t?"":r(t)}},,,,,,,,,,,,,function(t,e,n){var r=n(23),i=n(99),o=n(402),a=n(112);t.exports=function(t,e){return r(t)?t:i(t,e)?[t]:o(a(t))}},function(t,e,n){var r=n(443),i=n(105),o=n(104),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},function(t,e,n){var r=n(445),i=n(29),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=u},function(t,e,n){var r=n(203);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e,n){var r=n(128),i=n(74),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];o.call(t,e)&&i(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e,n){var r=n(44),i=n(22),o="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",u="[object Proxy]";t.exports=function(t){if(!i(t))return!1;var e=r(t);return e==a||e==s||e==o||e==u}},,,,,,,,,,,function(t,e){t.exports={nodeDefaultShape:"mind-node",edgeDefaultShape:"mind-edge"}},function(t,e,n){var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(15),o=n(18);t.exports=r({},o,{getNodeSize:function(t,e){if(t.size)return o.isNumber(t.size)?[t.size,t.size]:o.isString(t.size)?t.size.split("*"):t.size;if(t.html&&e){var n=o.createDOM(t.html,{position:"absolute",visibility:"hidden"});e.appendChild(n);var r=o.getWidth(n),a=o.getHeight(n);return n.remove(),[r,a]}return i.defaultNodeSize}})},function(t,e){var n=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.prototype.execute=function(){throw new Error("please override this method")},t}();t.exports=n},function(t,e,n){t.exports={CompactBoxTree:n(350),Dendrogram:n(349),IndentedTree:n(348),Mindmap:n(347),Base:n(143)}},function(t,e,n){var r=n(11),i=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i={type:"node",linkable:!0,isNode:!0,zIndex:3};return r.mix(i,n),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updatePosition=function(){var t=this.group,e=this.model;t.setMatrix([1,0,0,0,1,0,e.x?e.x:0,e.y?e.y:0,1]),this.bbox=this._calculateBBox()},e.prototype._shouldDraw=function(){var e=this._getDiff(),n=t.prototype._shouldDraw.call(this);return e&&!(2===e.length&&-1!==e.indexOf("x")&&-1!==e.indexOf("y"))&&!(1===e.length&&("x"===e[0]||"y"===e[0]))&&n},e.prototype._afterDraw=function(){this.updatePosition(),t.prototype._afterDraw.call(this)},e.prototype.layoutUpdate=function(){this._beforeDraw(),this._afterDraw()},e.prototype.getEdges=function(t){var e=this.id,n=this.itemMap._edges,i=[];return r.each(n,function(n){if(t)t(n)&&i.push(n);else{var r=n.getModel();e!==r.target&&e!==r.source||i.push(n)}}),i},e.prototype.getInEdges=function(){var t=this;return this.getEdges(function(e){return e.target===t})},e.prototype.getOutEdges=function(){var t=this;return this.getEdges(function(e){return e.source===t})},e.prototype.getLinkPoints=function(t){var e=this.getAnchorPoints();if(r.isNumber(t)&&e[t])return[e[t]];var n=t.x,i=t.y,o=this.getBBox(),a=o.centerX,s=o.centerY,u=n-a,c=i-s,h=this.shapeObj.anchor||{},l=this.defaultIntersectBox,f=[];if(r.isEmpty(e)){switch(h.intersectBox||h.type||l){case"rect":f=[r.getIntersectPointRect(o,t)];break;case"path":if(this.keyShape&&"path"===this.keyShape.get("type")){var d=r.parsePathArray(["M",n,i,"L",a,s]);f=[r.intersection(d,this.keyShape.get("path"))]}break;default:f=[r.getIntersectPointCircle(n,i,o.centerX,o.centerY,Math.max(o.width,o.height)/2)]}r.isEmpty(f[0])&&(f=[{x:a,y:s}])}else f=e.map(function(t){var e=t.x-a,n=t.y-s,i=r.getArcOfVectors({x:u,y:c},{x:e,y:n});return r.mix({},t,{arc:i})}).sort(function(t,e){return t.arc-e.arc});return f},e.prototype.getAnchorPoints=function(t){var e=this.shapeObj,n=this.getBBox(),i=[],o=e.anchor||{},a=void 0;return a=r.isArray(o)?o:r.isFunction(o)?o(this):r.isFunction(o.points)?o.points(this):o.points,r.each(a,function(t,e){var o=r.mix({x:n.minX+t[0]*n.width,y:n.minY+t[1]*n.height},t[2],{index:e});i.push(o)}),this._anchorPoints=i,r.isNumber(t)?this._anchorPoints[t]:this._anchorPoints},e}(n(97));t.exports=i},function(t,e,n){var r=n(11),i=n(21),o=function t(e){t.superclass.constructor.call(this,e)};r.extend(o,i.canvas.Shape),o.ATTRS={x:0,y:0,width:0,height:0},r.augment(o,{canFill:!0,type:"html",__isPointInFill:function(t,e){var n=this.getBBox(),r=n.minX,i=n.minY,o=n.maxX-n.minX,a=n.maxY-n.minY;return r<=t&&t<=r+o&&i<=e&&e<=i+a},__initHtml:function(t){var e=this.get("attrs"),n=this.get("canvas").get("htmlElementContaniner");e.html&&e.html.destroy&&e.html.destroy(),(t=r.createDOM(t)).css({position:"absolute",padding:"0px",margin:"0px",visibility:"hidden"}),e.html=t,n.appendChild(t)},isPointInPath:function(t,e){return this.__isPointInFill(t,e)},init:function(){var t=this.attr("html");this.get("canvas").on("beforedraw",function(){t.css({visibility:"hidden"})}),this.__initHtml(t)},getDefaultAttrs:function(){return o.ATTRS},attr:function(t,e){var n=this.get("attrs");return r.isObject(t)?(t.html&&(this.__initHtml(t.html),delete t.html),r.mix(n,t),void 0===t.x&&void 0===t.y&&void 0===t.width&&void 0===t.height||this.calculateBox(),n):r.isNil(e)?n[t]:("html"===t?this.__initHtml(e):(n[t]=e,"x"!==t&&"y"!==t&&"width"!==t&&"height"!==t||this.calculateBox()),this)},calculateBox:function(){var t=this.attr("x"),e=this.attr("y");return{minX:t,minY:e,maxX:t+this.attr("width"),maxY:e+this.attr("height")}},getDrawTotalMatrix:function(){for(var t=this.get("canvas"),e=r.clone(this.attr("matrix")),n=this.getParent();n!==t;)r.mat3.multiply(e,n.attr("matrix"),e),n=n.getParent();return e},getDOM:function(){return this.attr("html")},applyTransform:function(){var t=this.attr("html"),e=this.getDrawTotalMatrix(),n=this.attr("x"),r=this.attr("y"),i=this.attr("width")/2,o=this.attr("height")/2,a=e[0]*n+e[6]+e[0]*i-i,s=e[4]*r+e[7]+e[4]*o-o;t.css({transform:"matrix("+e[0]+","+e[1]+","+e[3]+","+e[4]+","+a+","+s+")"})},createPath:function(){var t=this.attr("html"),e=this.get("attrs");this.applyTransform(),t.css(r.mix({visibility:"visible"},e))},remove:function(t){this.attr("html").css({visibility:"hidden"}),o.superclass.remove.call(this,t)},destroy:function(){var t=this.attr("html");t&&t.destroy(),o.superclass.destroy.call(this)}}),i.canvas.Shape.Html=o,t.exports=o},function(t,e,n){n(146),n(373),n(372),n(371),n(370),n(146);var r=n(369),i=n(368),o=n(177),a=n(11),s=n(21),u=n(364),c=n(362),h=n(360),l=n(359),f=n(357),d=n(356),p=n(355),g=n(353),v=[d,c,h,p,n(352),u,g,l,f],m=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r={};v.forEach(function(t){a.mix(r,t.CFG,n)});var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return i._pluginInit(),i.emit("beforeinit"),i._init(),i.emit("afterinit"),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getDefaultCfg=function(){return{container:void 0,width:void 0,height:void 0,plugins:[],fontFamily:'"Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", SimSun, "sans-serif"',nodeDefaultShape:void 0,edgeDefaultShape:void 0,groupDefaultShape:void 0,defaultIntersectBox:"circle",render:"canvas",_controllers:{},_timers:{},_dataMap:{},_itemMap:{},_data:{},_delayRunObj:{}}},e.prototype._init=function(){var t=this;this._initData(),this._initContainer(),this._initCanvas(),v.forEach(function(e){e.INIT&&t[e.INIT]()}),this.initEvent()},e.prototype.initEvent=function(){},e.prototype._executeLayout=function(t,e,n,r){a.isFunction(t)?t(e,n,this):a.isObject(t)&&(t.nodes=e,t.edges=n,t.groups=r,t.graph=this,t.execute())},e.prototype._pluginInit=function(){var t=this;this.get("plugins").forEach(function(e){t._initPlugin(e)})},e.prototype._initPlugin=function(t){t.graph=this,t.init&&t.init()},e.prototype._getTimer=function(t){return this.get("_timers")[t]},e.prototype._setTimer=function(t,e){this.get("_timers")[t]=e},e.prototype._getController=function(t){return this.get("_controllers")[t]},e.prototype._initContainer=function(){var t=this.get("container");if(t||(t=this.get("id")),!t)throw new Error("please set the container for the graph !");a.isString(t)&&(t=document.getElementById(t));var e=a.createDOM('<div class="graph-container"></div>',{position:"relative"});t.appendChild(e),this.set("_containerDOM",t),this.set("_graphContainer",e)},e.prototype._initCanvas=function(){var t=this,e=this.get("_graphContainer"),n=this.get("width"),r=this.get("height"),i={width:n,height:r,fontFamily:this.get("fontFamily"),eventEnable:!1,containerDOM:e},o=this.getConstructor("Canvas"),s=new o(i),u=new o(i),c=u.get("el"),h=e.appendChild(a.createDOM('<div class="graph-container-html-Elements"></div>'));s.on("beforedraw",function(){t.emit("beforecanvasdraw")}),c.style.position="absolute",c.style.top=0,c.style.left=0,h.style.overflow="hidden",h.style.width=n+"px",h.style.height=r+"px",h.style.position="absolute",h.style.top=0,h.style.left=0,this.set("_canvas",s),this.set("_frontCanvas",u),this.set("_htmlElementContaniner",h);var l=this.getMouseEventWrapper();l.style.outline="none",l.style["user-select"]="none",l.setAttribute("tabindex",20),s.set("htmlElementContaniner",h);var f=this.getConstructor("RootGroup"),d=s.addGroup(f),p=u.addGroup(f),g=d.addGroup();this.set("_itemGroup",g),this.set("_rootGroup",d),this.set("_frontRootGroup",p)},e.prototype._initData=function(){this.set("_dataMap",{}),this.set("_itemMap",{_nodes:[],_edges:[],_groups:[],_guides:[]}),this.set("_data",{})},e.prototype._refresh=function(){},e.prototype.getKeyboardEventWrapper=function(){var t=this.get("keyboardEventWrapper");return t||this.getMouseEventWrapper()},e.prototype.getMouseEventWrapper=function(){return this.get("_htmlElementContaniner")},e.prototype.addPlugin=function(t){var e=this.get("plugins");this._initPlugin(t),e.push(t)},e.prototype.getGraphContainer=function(){return this.get("_graphContainer")},e.prototype.addItems=function(t,e){var n=this;this._addDatas(t,e);var r=a.upperFirst(t),o=i[r],s=this.get("_itemMap"),u=this.get("_itemGroup"),c=this.get("_dataMap"),h=this.get("animate"),l=this.get("defaultIntersectBox");if(!o)throw new Error("please set valid item type!");e.forEach(function(e){var r=new o({id:e.id,type:t,model:e,group:u.addGroup(),graph:n,mapper:n._getController(t+"Mapper"),itemMap:s,animate:h,dataMap:c,defaultIntersectBox:l});s[e.id]=r,s["_"+t+"s"].push(r)})},e.prototype.removeItems=function(t){var e=this.get("_dataMap"),n=this.get("_itemMap");t.forEach(function(t){delete e[t.id],delete n[t.id],a.Array.remove(n["_"+t.type+"s"],t),t.destroy()})},e.prototype.updateItem=function(t,e){a.mix(t.getModel(),e),t.update()},e.prototype._addDatas=function(t,e){var n=this.get("_dataMap");e.forEach(function(t){if(a.isNil(t.id)&&(t.id=a.guid()),n[t.id])throw new Error("id:"+t.id+" has already been set, please set new one");n[t.id]=t})},e.prototype._drawInner=function(){var t=this.get("_data"),e=this.get("_itemGroup"),n=this.get("_dataMap");t.nodes&&this.addItems("node",t.nodes),t.groups&&this.addItems("group",t.groups),t.edges&&this.addItems("edge",t.edges),t.guides&&this.addItems("guide",t.guides),e.sortBy(function(t){var e=t.id;return n[e].index})},e.prototype._clearInner=function(){this.getItems().forEach(function(t){t&&!t.destroyed&&t.destroy()})},e.prototype.getConstructor=function(t){return"svg"===this.get("render")?s.svg[t]:s.canvas[t]},e.prototype.getShapeObj=function(t,e){if(!a.isObject(t)){var n=a.upperFirst(t),r=o[n],i=this.get(t+"DefaultShape");return r.getShape(e.shape,i)}return t.getShapeObj()},e.prototype.getSource=function(){return this.get("_sourceData")},e.prototype.parseSource=function(t){return t},e.prototype.getCanvas=function(){return this.get("_canvas")},e.prototype.getRootGroup=function(){return this.get("_rootGroup")},e.prototype.getItemGroup=function(){return this.get("_itemGroup")},e.prototype.getFrontRootGroup=function(){return this.get("_frontRootGroup")},e.prototype.getFrontCanvas=function(){return this.get("_frontCanvas")},e.prototype.source=function(t){return this.emit("beforesource"),this.set("_data",t),this.set("_sourceData",t),this.emit("aftersource"),this},e.prototype.render=function(){return this.emit("beforerender"),this.emit("beforedrawinner"),this._drawInner(),this.emit("afterdrawinner"),this.draw(),this.emit("afterrender"),this},e.prototype.forcePreventAnimate=function(t){this.set("forcePreventAnimate",t)},e.prototype.reRender=function(){var t=this.get("_sourceData");return this.read(t),this},e.prototype.destroy=function(){var e=this.get("_canvas"),n=this.get("_frontCanvas"),r=this.get("_graphContainer"),i=this.get("_controllers"),o=this.get("_timers"),s=this.get("_windowForceResizeEvent"),u=this.get("plugins");return a.each(o,function(t){clearTimeout(t)}),a.each(i,function(t){t.destroy()}),u.forEach(function(t){t.destroy&&t.destroy()}),e&&e.destroy(),n&&n.destroy(),r.destroy(),window.removeEventListener("resize",s),t.prototype.destroy.call(this),this},e.prototype.save=function(){var t={nodes:[],edges:[],groups:[],guides:[]};return this.get("_itemGroup").get("children").forEach(function(e,n){var r=e.model;if(r){var i=e.itemType,o=a.cloneDeep(r);o.index=n,t[i+"s"].push(o)}}),0===t.nodes.length&&delete t.nodes,0===t.edges.length&&delete t.edges,0===t.groups.length&&delete t.groups,0===t.guides.length&&delete t.guides,t},e.prototype.add=function(t,e){var n={action:"add",model:e};this.emit("beforechange",n);var r=this.get("_itemMap");this.addItems(t,[e]);var i=r[e.id];return i.getAllParents().forEach(function(t){t.update()}),n.item=i,this.emit("afterchange",n),this.draw(),i},e.prototype.remove=function(t){var e=this;if((t=this.getItem(t))&&!t.destroyed){var n={action:"remove",item:t};if(this.emit("beforechange",n),t.isNode||t.isGroup)t.getEdges().forEach(function(t){e.remove(t)});if(t.isGroup)t.getChildren().forEach(function(t){e.remove(t)});return this.removeItems([t]),t.getAllParents().forEach(function(t){t.update()}),this.emit("afterchange",n),this.draw(),this}},e.prototype.simpleUpdate=function(t,e){return this.updateItem(t,e),this.draw(),this},e.prototype.update=function(t,e){var n=this.get("_itemMap");if((t=this.getItem(t))&&!t.destroyed){var r=t.getModel(),i=a.mix({},r),o={action:"update",item:t,originModel:i,updateModel:e},s=n[i.parent];if(s&&s!==parent&&a.isGroup(s)&&t.getAllParents().forEach(function(t){t.update()}),e&&this.emit("beforechange",o),this.updateItem(t,e),t.getAllParents().forEach(function(t){t.update()}),(t.isNode||t.isGroup)&&!t.collapsedParent)t.getEdges().forEach(function(t){t.update()});return t.isGroup&&e&&(t.deepEach(function(t){t.updateCollapsedParent(),t.collapsedParent?t.hide():t.show(),t.update()}),t.getInnerEdges().forEach(function(t){t.linkedItemVisible()?t.show():t.hide(),t.update()})),e&&this.emit("afterchange",o),this.draw(),this}},e.prototype.read=function(t){if(!t)throw new Error("please read valid data!");var e=this.get("fitView"),n={action:"changeData",data:t};return this.emit("beforechange",n),this.clear(),this.source(t),this.render(),this.emit("afterchange",n),e&&this.setFitView(e),this},e.prototype.clear=function(){return this.emit("beforeclear"),this._clearInner(),this._initData(),this.emit("afterclear"),this.draw(),this},e.prototype.hide=function(t){return(t=this.getItem(t)).hide(),t.isNode&&t.getEdges().forEach(function(t){t.hide()}),t.isGroup&&(t.getEdges().forEach(function(t){t.hide()}),t.deepEach(function(t){t.hide()})),this.draw(),this},e.prototype._tryShowEdge=function(t){var e=t.getSource(),n=t.getTarget();return(e.linkable&&e.isVisible()||!e.linkable)&&(n.linkable&&n.isVisible()||!n.linkable)&&t.show()},e.prototype.show=function(t){var e=this;return(t=this.getItem(t)).isEdge?this._tryShowEdge(t):t.show(),t.isNode&&t.getEdges().forEach(function(t){e._tryShowEdge(t)}),t.isGroup&&(t.getEdges().forEach(function(t){e._tryShowEdge(t)}),t.deepEach(function(t){t.show()})),this.draw(),this},e.prototype.getWidth=function(){return this.get("width")},e.prototype.getHeight=function(){return this.get("height")},e.prototype.changeSize=function(t,e){if(!(Math.abs(t)>=1/0||Math.abs(e)>=1/0)){var n=this.get("_canvas"),r=this.get("_frontCanvas"),i=this.get("_htmlElementContaniner");return t===this.get("width")&&e===this.get("height")||(this.emit("beforechangesize"),n.changeSize(t,e),r.changeSize(t,e),i.css({width:t+"px",height:e+"px"}),this.set("width",t),this.set("height",e),this.emit("afterchangesize"),this.draw()),this}console.warn("size parameter more than the maximum")},e.prototype.toFront=function(t){t=this.getItem(t);var e=this.get("_itemGroup"),n=t.getGraphicGroup();a.toFront(n,e),this.draw()},e.prototype.toBack=function(t){t=this.getItem(t);var e=this.get("_itemGroup"),n=t.getGraphicGroup();a.toBack(n,e),this.draw()},e.prototype.css=function(t){var e=this.getGraphContainer();a.modifyCSS(e,t)},e.prototype.saveImage=function(){var t=this.getBBox(),e=this.getFitViewPadding();return a.graph2Canvas({graph:this,width:t.width+e[1]+e[3],height:t.height+e[0]+e[2]})},e}(r);v.forEach(function(t){a.mix(m.prototype,t.AUGMENT)}),t.exports=m},function(t,e){var n={registerBehaviour:function(t,e,r){e.dependences=r,n[t]=e},resetMode:function(t,e){var r=[],i=void 0;e._off();for(var o=0;o<t.length;o++)(i=n[t[o]])&&(i.dependences&&i.dependences.forEach(function(t){t&&-1===r.indexOf(t)&&(n[t](e),r.push(t))}),i&&-1===r.indexOf(i)&&i(e))}};t.exports=n},function(t,e,n){var r=n(21),i=n(46),o={};i.mix(o,r.DomUtil,{addEventListener:function(t,e,n){return t.addEventListener?(t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}}):t.attachEvent?(t.attachEvent("on"+e,n),{remove:function(){t.detachEvent("on"+e,n)}}):void 0},createDOM:function(t,e){var n=void 0;return(n=i.isString(t)?r.DomUtil.createDom(t):t).bbox=n.getBoundingClientRect(),n.hide=function(){return n.style.visibility="hidden",n},n.show=function(){return n.style.visibility="visible",n},n.css=function(t){return r.DomUtil.modifyCSS(n,t),n},n.width=function(){return r.DomUtil.getWidth(n)},n.height=function(){return r.DomUtil.getHeight(n)},n.destroy=function(){n.parentNode&&n.parentNode.removeChild(n)},n.on=function(t,e){n.addEventListener(t,e)},n.off=function(t,e){n.removeEventListener(t,e)},n.attr=function(t){return n.getAttribute(t)},n.css(e),n}}),t.exports=o},function(t,e,n){var r=n(22),i=n(393),o=n(110),a="Expected a function",s=Math.max,u=Math.min;t.exports=function(t,e,n){var c,h,l,f,d,p,g=0,v=!1,m=!1,y=!0;if("function"!=typeof t)throw new TypeError(a);function x(e){var n=c,r=h;return c=h=void 0,g=e,f=t.apply(r,n)}function b(t){var n=t-p;return void 0===p||n>=e||n<0||m&&t-g>=l}function _(){var t=i();if(b(t))return w(t);d=setTimeout(_,function(t){var n=e-(t-p);return m?u(n,l-(t-g)):n}(t))}function w(t){return d=void 0,y&&c?x(t):(c=h=void 0,f)}function S(){var t=i(),n=b(t);if(c=arguments,h=this,p=t,n){if(void 0===d)return function(t){return g=t,d=setTimeout(_,e),v?x(t):f}(p);if(m)return d=setTimeout(_,e),x(p)}return void 0===d&&(d=setTimeout(_,e)),f}return e=o(e)||0,r(n)&&(v=!!n.leading,l=(m="maxWait"in n)?s(o(n.maxWait)||0,e):l,y="trailing"in n?!!n.trailing:y),S.cancel=function(){void 0!==d&&clearTimeout(d),g=0,c=p=h=d=void 0},S.flush=function(){return void 0===d?f:w(i())},S}},function(t,e){t.exports=function(t){return t}},function(t,e,n){var r=n(125),i=n(62);t.exports=function(t,e){for(var n=0,o=(e=r(e,t)).length;null!=t&&n<o;)t=t[i(e[n++])];return n&&n==o?t:void 0}},function(t,e,n){var r=n(152);t.exports=function(t,e,n){var i=null==t?void 0:r(t,e);return void 0===i?n:i}},function(t,e){t.exports=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}}},function(t,e,n){var r=n(22);t.exports=function(t){return t==t&&!r(t)}},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,n){var r=n(108),i=n(409),o=n(408);function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,t.exports=a},function(t,e,n){var r=n(157),i=n(407),o=n(156),a=1,s=2;t.exports=function(t,e,n,u,c,h){var l=n&a,f=t.length,d=e.length;if(f!=d&&!(l&&d>f))return!1;var p=h.get(t);if(p&&h.get(e))return p==e;var g=-1,v=!0,m=n&s?new r:void 0;for(h.set(t,e),h.set(e,t);++g<f;){var y=t[g],x=e[g];if(u)var b=l?u(x,y,g,e,t,h):u(y,x,g,t,e,h);if(void 0!==b){if(b)continue;v=!1;break}if(m){if(!i(e,function(t,e){if(!o(m,e)&&(y===t||c(y,t,n,u,h)))return m.push(e)})){v=!1;break}}else if(y!==x&&!c(y,x,n,u,h)){v=!1;break}}return h.delete(t),h.delete(e),v}},function(t,e,n){var r=n(410),i=n(29);t.exports=function t(e,n,o,a,s){return e===n||(null==e||null==n||!i(e)&&!i(n)?e!=e&&n!=n:r(e,n,o,a,t,s))}},function(t,e,n){var r=n(24).Uint8Array;t.exports=r},function(t,e,n){var r=n(39)(n(24),"Set");t.exports=r},function(t,e,n){var r=n(164),i=n(23);t.exports=function(t,e,n){var o=e(t);return i(t)?o:r(o,n(t))}},function(t,e,n){var r=n(162),i=n(101),o=n(53);t.exports=function(t){return r(t,o,i)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},function(t,e,n){var r=n(164),i=n(111),o=n(101),a=n(166),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,o(t)),t=i(t);return e}:a;t.exports=s},function(t,e){t.exports=function(){return[]}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}},function(t,e){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},function(t,e,n){var r=n(446),i=n(127),o=n(23),a=n(85),s=n(107),u=n(126),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),h=!n&&i(t),l=!n&&!h&&a(t),f=!n&&!h&&!l&&u(t),d=n||h||l||f,p=d?r(t.length,String):[],g=p.length;for(var v in t)!e&&!c.call(t,v)||d&&("length"==v||l&&("offset"==v||"parent"==v)||f&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,g))||p.push(v);return p}},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e,n){var r=n(477);t.exports=function(t){var e=r(t),n=e%1;return e==e?n?e-n:e:0}},function(t,e,n){var r=n(480),i=n(479),o=n(478);t.exports=function(t,e,n){return e==e?o(t,e,n):r(t,i,n)}},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){(function(e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r="object"==(void 0===e?"undefined":n(e))&&e&&e.Object===Object&&e;t.exports=r}).call(this,n(40))},function(t,e){var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.exports=function(t){return n.test(t)}},function(t,e,n){var r=n(21),i=n(46),o={isBetween:function(t,e,n){return t>=e&&t<=n},getLineIntersect:function(t,e,n,r){var i=n.x-t.x,a=n.y-t.y,s=e.x-t.x,u=e.y-t.y,c=r.x-n.x,h=r.y-n.y,l=s*h-u*c,f=null;if(l*l>.001*(s*s+u*u)*(c*c+h*h)){var d=(i*h-a*c)/l,p=(i*u-a*s)/l;o.isBetween(d,0,1)&&o.isBetween(p,0,1)&&(f={x:t.x+d*s,y:t.y+d*u})}return f},getIntersectPointRect:function(t,e){var n=t.minX,r=t.minY,i=t.maxX-t.minX,a=t.maxY-t.minY,s=[],u={x:n+i/2,y:r+a/2};s.push({x:n,y:r}),s.push({x:n+i,y:r}),s.push({x:n+i,y:r+a}),s.push({x:n,y:r+a}),s.push({x:n,y:r});for(var c=null,h=1;h<s.length&&!(c=o.getLineIntersect(s[h-1],s[h],u,e));h++);return c},getIntersectPointCircle:function(t,e,n,r,i){if(Math.sqrt(Math.pow(t-n,2)+Math.pow(e-r,2))<i)return null;var o=t-n,a=e-r,s=Math.sign(o),u=Math.sign(a),c=Math.atan(a/o);return{x:n+Math.abs(i*Math.cos(c))*s,y:r+Math.abs(i*Math.sin(c))*u}},applyMatrix:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=[t.x,t.y,n];return r.MatrixUtil.vec3.transformMat3(i,i,e),{x:i[0],y:i[1]}},invertMatrix:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=r.MatrixUtil.mat3.invert([],e),o=[t.x,t.y,n];return r.MatrixUtil.vec3.transformMat3(o,o,i),{x:o[0],y:o[1]}},radixSort:function(t,e){var n=10,r=1,i=[],o=1,a=void 0,s=void 0,u=void 0,c=void 0,h=void 0,l=void 0,f=void 0;for(u=0;u<t.length;u++)a=e(t[u]),s=(a=parseInt(a,10)).toString().length,a.toString().length>o&&(o=s);for(u=0;u<o;u++,r*=10,n*=10){for(c=0;c<t.length;c++)h=e(t[c]),void 0===i[h=parseInt(h%n/r,10)]&&(i[h]=[]),i[h].push(t[c]);for(l=0,c=0;c<i.length;c++)if(f=void 0,void 0!==i[c])for(f=i[c].shift();void 0!==f;)t[l++]=f,f=i[c].shift()}return t},getArcOfVectors:function(t,e){var n=t.x,r=t.y,i=e.x,o=e.y,a=Math.sqrt(n*n+r*r),s=Math.sqrt(i*i+o*o);return Math.acos((n*i+r*o)/(a*s))}};t.exports=i.mix({},r.MatrixUtil,o)},function(t,e,n){var r=n(48);r.registerShapeManager("node",{defaultShapeType:"common"}),r.registerShapeManager("edge",{defaultShapeType:"common"}),r.registerShapeManager("group",{defaultShapeType:"common"}),r.registerShapeManager("guide",{defaultShapeType:"common"}),n(382),n(379),n(377),n(375),t.exports=r},function(t,e,n){var r,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(e){"use strict";function o(){}var a=o.prototype,s=e.EventEmitter;function u(t,e){for(var n=t.length;n--;)if(t[n].listener===e)return n;return-1}function c(t){return function(){return this[t].apply(this,arguments)}}a.getListeners=function(t){var e,n,r=this._getEvents();if(t instanceof RegExp)for(n in e={},r)r.hasOwnProperty(n)&&t.test(n)&&(e[n]=r[n]);else e=r[t]||(r[t]=[]);return e},a.flattenListeners=function(t){var e,n=[];for(e=0;e<t.length;e+=1)n.push(t[e].listener);return n},a.getListenersAsObject=function(t){var e,n=this.getListeners(t);return n instanceof Array&&((e={})[t]=n),e||n},a.addListener=function(t,e){if(!function t(e){return"function"==typeof e||e instanceof RegExp||!(!e||"object"!==(void 0===e?"undefined":i(e)))&&t(e.listener)}(e))throw new TypeError("listener must be a function");var n,r=this.getListenersAsObject(t),o="object"===(void 0===e?"undefined":i(e));for(n in r)r.hasOwnProperty(n)&&-1===u(r[n],e)&&r[n].push(o?e:{listener:e,once:!1});return this},a.on=c("addListener"),a.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},a.once=c("addOnceListener"),a.defineEvent=function(t){return this.getListeners(t),this},a.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},a.removeListener=function(t,e){var n,r,i=this.getListenersAsObject(t);for(r in i)i.hasOwnProperty(r)&&-1!==(n=u(i[r],e))&&i[r].splice(n,1);return this},a.off=c("removeListener"),a.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},a.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},a.manipulateListeners=function(t,e,n){var r,o,a=t?this.removeListener:this.addListener,s=t?this.removeListeners:this.addListeners;if("object"!==(void 0===e?"undefined":i(e))||e instanceof RegExp)for(r=n.length;r--;)a.call(this,e,n[r]);else for(r in e)e.hasOwnProperty(r)&&(o=e[r])&&("function"==typeof o?a.call(this,r,o):s.call(this,r,o));return this},a.removeEvent=function(t){var e,n=void 0===t?"undefined":i(t),r=this._getEvents();if("string"===n)delete r[t];else if(t instanceof RegExp)for(e in r)r.hasOwnProperty(e)&&t.test(e)&&delete r[e];else delete this._events;return this},a.removeAllListeners=c("removeEvent"),a.emitEvent=function(t,e){var n,r,i,o,a=this.getListenersAsObject(t);for(o in a)if(a.hasOwnProperty(o))for(n=a[o].slice(0),i=0;i<n.length;i++)!0===(r=n[i]).once&&this.removeListener(t,r.listener),r.listener.apply(this,e||[])===this._getOnceReturnValue()&&this.removeListener(t,r.listener);return this},a.trigger=c("emitEvent"),a.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},a.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},a._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},a._getEvents=function(){return this._events||(this._events={})},o.noConflict=function(){return e.EventEmitter=s,o},void 0===(r=function(){return o}.call(e,n,e,t))||(t.exports=r)}("undefined"!=typeof window?window:{})},function(t,e,n){var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var i=n(178),o=n(30),a=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),r=n.getDefaultCfg();return n._cfg=o.mix(!0,{},n._cfg,r,t),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i),r(e,[{key:"getDefaultCfg",value:function(){return{}}}]),r(e,[{key:"get",value:function(t){return this._cfg[t]}},{key:"set",value:function(t,e){this._cfg[t]=e}},{key:"destroy",value:function(){this._cfg={},this.destroyed=!0}}]),e}();t.exports=a},,,,,,,,,,,,,,,,,,function(t,e,n){var r=n(125),i=n(127),o=n(23),a=n(107),s=n(106),u=n(62);t.exports=function(t,e,n){for(var c=-1,h=(e=r(e,t)).length,l=!1;++c<h;){var f=u(e[c]);if(!(l=null!=t&&n(t,f)))break;t=t[f]}return l||++c!=h?l:!!(h=null==t?0:t.length)&&s(h)&&a(f,h)&&(o(t)||i(t))}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}},function(t,e,n){var r=n(415)();t.exports=r},function(t,e,n){var r=n(426),i=n(111),o=n(103);t.exports=function(t){return"function"!=typeof t.constructor||o(t)?{}:r(i(t))}},function(t,e,n){var r=n(100);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},function(t,e,n){(function(t){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(24),o="object"==r(e)&&e&&!e.nodeType&&e,a=o&&"object"==r(t)&&t&&!t.nodeType&&t,s=a&&a.exports===o?i.Buffer:void 0,u=s?s.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=u?u(n):new t.constructor(n);return t.copy(r),r}}).call(this,n(47)(t))},function(t,e,n){var r=n(39),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},function(t,e,n){var r=n(44),i=n(111),o=n(29),a="[object Object]",s=Function.prototype,u=Object.prototype,c=s.toString,h=u.hasOwnProperty,l=c.call(Object);t.exports=function(t){if(!o(t)||r(t)!=a)return!1;var e=i(t);if(null===e)return!0;var n=h.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==l}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},function(t,e,n){var r=n(486),i=n(175),o=n(485);t.exports=function(t){return i(t)?o(t):r(t)}},function(t,e,n){var r,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(o){var a=/^\s+/,s=/\s+$/,u=0,c=o.round,h=o.min,l=o.max,f=o.random;function d(t,e){if(t=t||"",e=e||{},t instanceof d)return t;if(!(this instanceof d))return new d(t,e);var n=function(t){var e={r:0,g:0,b:0},n=1,r=null,u=null,c=null,f=!1,d=!1;"string"==typeof t&&(t=function(t){t=t.replace(a,"").replace(s,"").toLowerCase();var e,n=!1;if(I[t])t=I[t],n=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};if(e=X.rgb.exec(t))return{r:e[1],g:e[2],b:e[3]};if(e=X.rgba.exec(t))return{r:e[1],g:e[2],b:e[3],a:e[4]};if(e=X.hsl.exec(t))return{h:e[1],s:e[2],l:e[3]};if(e=X.hsla.exec(t))return{h:e[1],s:e[2],l:e[3],a:e[4]};if(e=X.hsv.exec(t))return{h:e[1],s:e[2],v:e[3]};if(e=X.hsva.exec(t))return{h:e[1],s:e[2],v:e[3],a:e[4]};if(e=X.hex8.exec(t))return{r:L(e[1]),g:L(e[2]),b:L(e[3]),a:G(e[4]),format:n?"name":"hex8"};if(e=X.hex6.exec(t))return{r:L(e[1]),g:L(e[2]),b:L(e[3]),format:n?"name":"hex"};if(e=X.hex4.exec(t))return{r:L(e[1]+""+e[1]),g:L(e[2]+""+e[2]),b:L(e[3]+""+e[3]),a:G(e[4]+""+e[4]),format:n?"name":"hex8"};if(e=X.hex3.exec(t))return{r:L(e[1]+""+e[1]),g:L(e[2]+""+e[2]),b:L(e[3]+""+e[3]),format:n?"name":"hex"};return!1}(t));"object"==(void 0===t?"undefined":i(t))&&(R(t.r)&&R(t.g)&&R(t.b)?(e=function(t,e,n){return{r:255*B(t,255),g:255*B(e,255),b:255*B(n,255)}}(t.r,t.g,t.b),f=!0,d="%"===String(t.r).substr(-1)?"prgb":"rgb"):R(t.h)&&R(t.s)&&R(t.v)?(r=N(t.s),u=N(t.v),e=function(t,e,n){t=6*B(t,360),e=B(e,100),n=B(n,100);var r=o.floor(t),i=t-r,a=n*(1-e),s=n*(1-i*e),u=n*(1-(1-i)*e),c=r%6;return{r:255*[n,s,a,a,u,n][c],g:255*[u,n,n,s,a,a][c],b:255*[a,a,u,n,n,s][c]}}(t.h,r,u),f=!0,d="hsv"):R(t.h)&&R(t.s)&&R(t.l)&&(r=N(t.s),c=N(t.l),e=function(t,e,n){var r,i,o;function a(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(t=B(t,360),e=B(e,100),n=B(n,100),0===e)r=i=o=n;else{var s=n<.5?n*(1+e):n+e-n*e,u=2*n-s;r=a(u,s,t+1/3),i=a(u,s,t),o=a(u,s,t-1/3)}return{r:255*r,g:255*i,b:255*o}}(t.h,r,c),f=!0,d="hsl"),t.hasOwnProperty("a")&&(n=t.a));return n=T(n),{ok:f,format:t.format||d,r:h(255,l(e.r,0)),g:h(255,l(e.g,0)),b:h(255,l(e.b,0)),a:n}}(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=c(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=c(this._r)),this._g<1&&(this._g=c(this._g)),this._b<1&&(this._b=c(this._b)),this._ok=n.ok,this._tc_id=u++}function p(t,e,n){t=B(t,255),e=B(e,255),n=B(n,255);var r,i,o=l(t,e,n),a=h(t,e,n),s=(o+a)/2;if(o==a)r=i=0;else{var u=o-a;switch(i=s>.5?u/(2-o-a):u/(o+a),o){case t:r=(e-n)/u+(e<n?6:0);break;case e:r=(n-t)/u+2;break;case n:r=(t-e)/u+4}r/=6}return{h:r,s:i,l:s}}function g(t,e,n){t=B(t,255),e=B(e,255),n=B(n,255);var r,i,o=l(t,e,n),a=h(t,e,n),s=o,u=o-a;if(i=0===o?0:u/o,o==a)r=0;else{switch(o){case t:r=(e-n)/u+(e<n?6:0);break;case e:r=(n-t)/u+2;break;case n:r=(t-e)/u+4}r/=6}return{h:r,s:i,v:s}}function v(t,e,n,r){var i=[D(c(t).toString(16)),D(c(e).toString(16)),D(c(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function m(t,e,n,r){return[D(Y(r)),D(c(t).toString(16)),D(c(e).toString(16)),D(c(n).toString(16))].join("")}function y(t,e){e=0===e?0:e||10;var n=d(t).toHsl();return n.s-=e/100,n.s=F(n.s),d(n)}function x(t,e){e=0===e?0:e||10;var n=d(t).toHsl();return n.s+=e/100,n.s=F(n.s),d(n)}function b(t){return d(t).desaturate(100)}function _(t,e){e=0===e?0:e||10;var n=d(t).toHsl();return n.l+=e/100,n.l=F(n.l),d(n)}function w(t,e){e=0===e?0:e||10;var n=d(t).toRgb();return n.r=l(0,h(255,n.r-c(-e/100*255))),n.g=l(0,h(255,n.g-c(-e/100*255))),n.b=l(0,h(255,n.b-c(-e/100*255))),d(n)}function S(t,e){e=0===e?0:e||10;var n=d(t).toHsl();return n.l-=e/100,n.l=F(n.l),d(n)}function M(t,e){var n=d(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,d(n)}function A(t){var e=d(t).toHsl();return e.h=(e.h+180)%360,d(e)}function P(t){var e=d(t).toHsl(),n=e.h;return[d(t),d({h:(n+120)%360,s:e.s,l:e.l}),d({h:(n+240)%360,s:e.s,l:e.l})]}function E(t){var e=d(t).toHsl(),n=e.h;return[d(t),d({h:(n+90)%360,s:e.s,l:e.l}),d({h:(n+180)%360,s:e.s,l:e.l}),d({h:(n+270)%360,s:e.s,l:e.l})]}function O(t){var e=d(t).toHsl(),n=e.h;return[d(t),d({h:(n+72)%360,s:e.s,l:e.l}),d({h:(n+216)%360,s:e.s,l:e.l})]}function C(t,e,n){e=e||6,n=n||30;var r=d(t).toHsl(),i=360/n,o=[d(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(d(r));return o}function k(t,e){e=e||6;for(var n=d(t).toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/e;e--;)a.push(d({h:r,s:i,v:o})),o=(o+s)%1;return a}d.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,n,r=this.toRgb();return t=r.r/255,e=r.g/255,n=r.b/255,.2126*(t<=.03928?t/12.92:o.pow((t+.055)/1.055,2.4))+.7152*(e<=.03928?e/12.92:o.pow((e+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:o.pow((n+.055)/1.055,2.4))},setAlpha:function(t){return this._a=T(t),this._roundA=c(100*this._a)/100,this},toHsv:function(){var t=g(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=g(this._r,this._g,this._b),e=c(360*t.h),n=c(100*t.s),r=c(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+r+"%)":"hsva("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=p(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=p(this._r,this._g,this._b),e=c(360*t.h),n=c(100*t.s),r=c(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return v(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function(t,e,n,r,i){var o=[D(c(t).toString(16)),D(c(e).toString(16)),D(c(n).toString(16)),D(Y(r))];if(i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0);return o.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:c(this._r),g:c(this._g),b:c(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+c(this._r)+", "+c(this._g)+", "+c(this._b)+")":"rgba("+c(this._r)+", "+c(this._g)+", "+c(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:c(100*B(this._r,255))+"%",g:c(100*B(this._g,255))+"%",b:c(100*B(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+c(100*B(this._r,255))+"%, "+c(100*B(this._g,255))+"%, "+c(100*B(this._b,255))+"%)":"rgba("+c(100*B(this._r,255))+"%, "+c(100*B(this._g,255))+"%, "+c(100*B(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(j[v(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+m(this._r,this._g,this._b,this._a),n=e,r=this._gradientType?"GradientType = 1, ":"";if(t){var i=d(t);n="#"+m(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,r=this._a<1&&this._a>=0;return e||!r||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return d(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(_,arguments)},brighten:function(){return this._applyModification(w,arguments)},darken:function(){return this._applyModification(S,arguments)},desaturate:function(){return this._applyModification(y,arguments)},saturate:function(){return this._applyModification(x,arguments)},greyscale:function(){return this._applyModification(b,arguments)},spin:function(){return this._applyModification(M,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(C,arguments)},complement:function(){return this._applyCombination(A,arguments)},monochromatic:function(){return this._applyCombination(k,arguments)},splitcomplement:function(){return this._applyCombination(O,arguments)},triad:function(){return this._applyCombination(P,arguments)},tetrad:function(){return this._applyCombination(E,arguments)}},d.fromRatio=function(t,e){if("object"==(void 0===t?"undefined":i(t))){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]="a"===r?t[r]:N(t[r]));t=n}return d(t,e)},d.equals=function(t,e){return!(!t||!e)&&d(t).toRgbString()==d(e).toRgbString()},d.random=function(){return d.fromRatio({r:f(),g:f(),b:f()})},d.mix=function(t,e,n){n=0===n?0:n||50;var r=d(t).toRgb(),i=d(e).toRgb(),o=n/100;return d({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},d.readability=function(t,e){var n=d(t),r=d(e);return(o.max(n.getLuminance(),r.getLuminance())+.05)/(o.min(n.getLuminance(),r.getLuminance())+.05)},d.isReadable=function(t,e,n){var r,i,o=d.readability(t,e);switch(i=!1,(r=function(t){var e,n;e=((t=t||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA");"small"!==n&&"large"!==n&&(n="small");return{level:e,size:n}}(n)).level+r.size){case"AAsmall":case"AAAlarge":i=o>=4.5;break;case"AAlarge":i=o>=3;break;case"AAAsmall":i=o>=7}return i},d.mostReadable=function(t,e,n){var r,i,o,a,s=null,u=0;i=(n=n||{}).includeFallbackColors,o=n.level,a=n.size;for(var c=0;c<e.length;c++)(r=d.readability(t,e[c]))>u&&(u=r,s=d(e[c]));return d.isReadable(t,s,{level:o,size:a})||!i?s:(n.includeFallbackColors=!1,d.mostReadable(t,["#fff","#000"],n))};var I=d.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},j=d.hexNames=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}(I);function T(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function B(t,e){(function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var n=function(t){return"string"==typeof t&&-1!=t.indexOf("%")}(t);return t=h(e,l(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),o.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function F(t){return h(1,l(0,t))}function L(t){return parseInt(t,16)}function D(t){return 1==t.length?"0"+t:""+t}function N(t){return t<=1&&(t=100*t+"%"),t}function Y(t){return o.round(255*parseFloat(t)).toString(16)}function G(t){return L(t)/255}var X=function(){var t="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",e="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",n="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?";return{CSS_UNIT:new RegExp(t),rgb:new RegExp("rgb"+e),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+e),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+e),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function R(t){return!!X.CSS_UNIT.exec(t)}void 0!==t&&t.exports?t.exports=d:void 0===(r=function(){return d}.call(e,n,e,t))||(t.exports=r)}(Math)},function(t,e,n){var r=n(491),i=n(68),o=n(340);r.Editor=r,r.Page=n(12),r.Flow=n(311),r.Mind=n(283),r.Util=n(30),r.Minimap=n(268),r.Toolbar=n(266),r.Contextmenu=n(265),r.Itempannel=n(264),r.Detailpannel=n(263),r.Command=n(68),r.registerBehaviour=r.Page.registerBehaviour,r.registerNode=r.Page.registerNode,r.registerEdge=r.Page.registerEdge,r.registerGroup=r.Page.registerGroup,r.registerGuide=r.Page.registerGuide,r.registerCommand=i.registerCommand,r.version=o,t.exports=r},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var i=n(30),o=n(37),a=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o),r(e,[{key:"getDefaultCfg",value:function(){return{type:"detailpannel",container:null}}},{key:"init",value:function(){this._initContainer()}},{key:"_initContainer",value:function(){var t=this.container;if(!t)throw new Error("please set the container for the detailpannel !");i.isString(t)&&(t=document.getElementById(t)),this.containerDom=t,this.switch("canvas-selected")}},{key:"switch",value:function(t){var e=this.containerDom.getElementsByClassName("pannel");i.each(e,function(e){e.dataset.status===t?e.style.display="block":e.style.display="none"})}},{key:"bindEvent",value:function(){var t=this.editor,e=this.getItems;i.each(e,function(e){i.addEventListener(e,"mousedown",function(){var n=e.dataset;t.getCurrentPage().beginAdd(n.type,{shape:n.shape})})}),i.addEventListener(window,"mouseup",function(){t.getCurrentPage().cancelAdd()})}}]),e}();t.exports=a},function(t,e,n){var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var i=n(30),o=n(37),a=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o),r(e,[{key:"getDefaultCfg",value:function(){return{type:"itempannel",container:null}}},{key:"init",value:function(){this._initContainer()}},{key:"_initContainer",value:function(){var t=this.container;if(!t)throw new Error("please set the container for the itempannel !");i.isString(t)&&(t=document.getElementById(t)),this.containerDom=t}},{key:"bindEvent",value:function(){var t=this.editor;i.delegateEvent(this.containerDom,"mousedown",".getItem",function(){var e=this.dataset;t.getCurrentPage().beginAdd(e.type,e)}),i.addEventListener(window,"mouseup",function(){t.getCurrentPage().cancelAdd()})}}]),e}();t.exports=a},function(t,e,n){var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var i=n(30),o=n(37),a=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o),r(e,[{key:"getDefaultCfg",value:function(){return{type:"contextmenu",container:null}}},{key:"init",value:function(){this._initContainer()}},{key:"_initContainer",value:function(){var t=this.container;if(!t)throw new Error("please set the container for the tontextmenu !");i.isString(t)&&(t=document.getElementById(t));var e=t.getElementsByClassName("command");t.style.position="absolute",t.style["z-index"]=2,t.style.top="0px",t.style.left="0px",this.commands=e,this.containerDom=t}},{key:"bindEvent",value:function(){var t=this,e=this.commands;i.each(e,function(e){i.addEventListener(e,"click",function(){-1===e.className.indexOf("disable")&&t.hide()})})}},{key:"switch",value:function(t){var e=this.containerDom.getElementsByClassName("menu");i.each(e,function(e){e.dataset.status===t?e.style.display="block":e.style.display="none"})}},{key:"getCommandDoms",value:function(){return this.commands}},{key:"show",value:function(){var t=this.containerDom;this.editor.getCurrentPage().setSignal("preventWheelPan",!0),t.style.display="block"}},{key:"hide",value:function(){var t=this.containerDom;this.editor.getCurrentPage().setSignal("preventWheelPan",!1),t.style.display="none"}},{key:"move",value:function(t,e){var n=this.containerDom,r=i.getBoundingClientRect(n),o=parseFloat(i.getStyle(n,"top")),a=parseFloat(i.getStyle(n,"left"));n.style.left=a+(t-r.left)+"px",n.style.top=o+(e-r.top)+"px"}}]),e}();t.exports=a},function(t,e,n){var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var i=n(30),o=n(37),a=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o),r(e,[{key:"getDefaultCfg",value:function(){return{type:"toolbar",container:null}}},{key:"init",value:function(){this._initContainer()}},{key:"_initContainer",value:function(){var t=this.container;if(!t)throw new Error("please set the container for the toolbar !");i.isString(t)&&(t=document.getElementById(t));var e=t.getElementsByClassName("command");this.commands=e}},{key:"getCommandDoms",value:function(){return this.commands}}]),e}();t.exports=a},function(t,e,n){var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};var i=n(34),o=i.Util,a=i.G.canvas.Canvas,s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o.mix(this,r({type:"minimap",container:null,isMinimap:!0,backgroundCSS:{height:"100%",position:"absolute",margin:"auto",left:0,right:0,"z-index":0},minimapContainerCSS:{background:"#fff",position:"relative",overflow:"hidden"},viewportCSS:{height:"100%",position:"absolute",margin:"auto",left:0,right:0,"z-index":1},controlLayerCSS:{width:"100%",height:"100%",cursor:"move",position:"absolute","z-index":2},viewportWindowStyle:{stroke:"#91D5FF"},viewportBackStyle:{fill:"#EBEEF2",fillOpacity:.65},getGraph:function(){}},e)),this._initContainer(),this._initMiniMap(),this._bindEvent()}return t.prototype._bindEvent=function(){var t=this,e=this.controlLayer,n=!1,r=void 0,i=void 0,a=void 0,s=void 0,u=void 0;function c(){n=!1,i=void 0,s=void 0,r=void 0,a=void 0,u=void 0}e.on("mousedown",function(e){t.miniMapMatrix&&(u=t.getGraph(),n=!0,r=o.cloneDeep(u.getMatrix()),i=t.miniMapMatrix[0],a=r[0],s={clientX:e.clientX,clientY:e.clientY})}),e.on("mouseup",function(){c()}),e.on("mouseleave",function(){c()}),e.on("mousemove",function(t){if(n&&u){var e=s.clientX-t.clientX,c=s.clientY-t.clientY,h=o.cloneDeep(r);o.mat3.translate(h,h,[a*e/i,a*c/i]),u.updateMatrix(h)}})},t.prototype._initMiniMap=function(){var t=this.background,e=this.viewPort,n=this.width,i=this.height,o=this.viewportWindowStyle,s=this.viewportBackStyle,u=new a({containerDOM:t,width:n,height:i}),c=new a({containerDOM:e,width:n,height:i}),h=c.addShape("rect",{attrs:r({x:0,y:0,width:n,height:i},o)}),l=c.addShape("path",{attrs:r({path:"M0,0 L1,1"},s)});t.css({width:n+"px",height:i+"px"}),e.css({position:"absolute"}),this.miniMapCanvas=u,this.viewportCanvas=c,this.viewportWindow=h,this.viewportBack=l},t.prototype._initContainer=function(){var t=this.container,e=this.width,n=this.height;if(!t)throw new Error("please set the container for the minimap !");o.isString(t)&&(t=document.getElementById(t)),e||(e=o.getWidth(t)),n||(n=o.getHeight(t));var r=this.minimapContainerCSS;r.width=e+"px",r.height=n+"px";var i=this.backgroundCSS,a=this.viewportCSS,s=this.controlLayerCSS,u=o.createDOM('<div class="g6-editor-minimap-container"></div>',r),c=o.createDOM('<div class="g6-editor-minimap-background"></div>',i),h=o.createDOM('<div class="g6-editor-minimap-viewport">',a),l=o.createDOM('<div class="g6-editor-minimap-control-layer">',s);t.appendChild(u),u.appendChild(l),u.appendChild(h),u.appendChild(c),this.minimapContainer=u,this.background=c,this.viewPort=h,this.controlLayer=l},t.prototype.renderBackground=function(t){t||(t=this.getGraph());var e=this.miniMapCanvas,n=this.width,r=this.height;o.graph2Canvas({graph:t,width:n,height:r,canvas:e}),this.miniMapMatrix=e.matrix},t.prototype.renderViewPort=function(t){if(t||(t=this.getGraph()),0!==t.getItems().length){var e=this.viewportWindow,n=this.viewportCanvas,r=this.viewportBack,i=this.miniMapMatrix,a=t.getWidth(),s=t.getHeight(),u=this.width,c=this.height,h=t.getMatrix();if(i){var l=o.invertMatrix({x:0,y:0},h),f=o.invertMatrix({x:a,y:s},h),d=o.applyMatrix(l,i),p=o.applyMatrix(f,i),g=p.x-d.x,v=p.y-d.y;r.attr({path:[["M",0,0],["L",u,0],["L",u,c],["L",0,c],["L",0,0],["M",d.x,d.y],["L",d.x,p.y],["L",p.x,p.y],["L",p.x,d.y],["L",d.x,d.y]]}),e.attr({x:d.x,y:d.y,width:g,height:v}),n.draw()}}},t.prototype.destroy=function(){this.minimapContainer.destroy()},t}();t.exports=s},function(t,e,n){var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var i=n(267),o=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i),r(e,[{key:"bindPage",value:function(t){var e=this,n=t.getGraph();n.on("afterchange",function(){e.renderBackground(n),e.renderViewPort(n)}),n.on("afterlayout",function(){e.renderBackground(n),e.renderViewPort(n)}),n.on("afterviewportchange",function(){e.renderViewPort(n)}),this.renderBackground(n),this.getGraph=function(){return t.editor.getCurrentPage().getGraph()}}}]),e}();t.exports=o},function(t,e,n){var r=n(68),i=n(36);function o(t,e,n){var r=t.getGraph(),i=e.getModel(),o=t.getFirstChildrenBySide("left"),a=o[0]&&r.find(o[0].id);return r.add("node",{id:n,parent:e.id,label:"新建节点",side:i.children.length>2?"left":"right",nth:a?r.getNth(a):void 0})}r.registerCommand("append",{enable:function(t){var e=t.getCurrentPage(),n=e.getSelected();return e.isMind&&1===n.length},getItem:function(t){var e=t.getCurrentPage(),n=e.getGraph();return this.selectedItemId?n.find(this.selectedItemId):e.getSelected()[0]},execute:function(t){var e=t.getCurrentPage(),n=e.getGraph(),r=e.getRoot(),i=this.getItem(t),a=i.getModel(),s=a.hierarchy,u=i.getParent(),c=void 0;if(i.isRoot)c=o(e,i,this.addItemId);else{var h=n.getNth(i);c=n.add("node",{id:this.addItemId,parent:u.id,side:2===s&&3===r.children.length?"left":a.side,label:"新建节点",nth:"left"===a.side&&2===s?h:h+1})}e.clearSelected(),e.clearActived(),e.setSelected(c,!0),1===this.executeTimes&&(this.selectedItemId=i.id,this.addItemId=c.id,e.beginEditLabel(c))},back:function(t){var e=t.getCurrentPage();e.getGraph().remove(this.addItemId),e.clearSelected(),e.clearActived(),e.setSelected(this.selectedItemId,!0)},shortcutCodes:["Enter"]}),r.registerCommand("appendChild",{enable:function(t){var e=t.getCurrentPage(),n=e.getSelected();return e.isMind&&n.length>0},getItem:function(t){var e=t.getCurrentPage(),n=e.getGraph();return this.selectedItemId?n.find(this.selectedItemId):e.getSelected()[0]},execute:function(t){var e=t.getCurrentPage(),n=e.getGraph(),r=this.getItem(t),i=void 0;i=r.isRoot?o(e,r,this.addItemId):n.add("node",{id:this.addItemId,parent:r.id,label:"新建节点"}),e.clearSelected(),e.clearActived(),e.setSelected(i,!0),1===this.executeTimes&&(this.selectedItemId=r.id,this.addItemId=i.id,e.beginEditLabel(i))},back:function(t){var e=t.getCurrentPage();e.getGraph().remove(this.addItemId),e.clearSelected(),e.clearActived(),e.setSelected(this.selectedItemId,!0)},shortcutCodes:["Tab"]}),r.registerCommand("moveMindNode",{enable:function(t){var e=t.getCurrentPage(),n=e.get("panItems");return e.isMind&&n&&n.length>0},execute:function(t){var e=t.getCurrentPage(),n=e.getGraph(),r=this.newParentId,o=this.newNth,a=this.newSide,s=i.cloneDeep(this.model);delete s.shape,delete s.side,n.remove(s.id),i.mix(s,{parent:r,nth:o,side:a});var u=n.add("node",s);e.clearSelected(),e.setSelected(u,!0)},back:function(t){var e=t.getCurrentPage(),n=e.getGraph(),r=this.originParentId,o=this.originNth,a=this.originSide,s=i.cloneDeep(this.model);delete s.shape,delete s.side,n.remove(s.id),i.mix(s,{parent:r,nth:o,side:a});var u=n.add("node",s);e.clearSelected(),e.setSelected(u,!0)}})},function(t,e,n){var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};n(33).registerEdge("mind-placeholder-edge",{getOriginShapeObject:function(t){return t.getGraph().getShapeObj("edge",{shape:"mind-edge"})},getPath:function(t){return this.getOriginShapeObject(t).getPath(t)},getStyle:function(t){var e=this.getOriginShapeObject(t).getStyle(t);return r({},e,{stroke:"#91D5FF"})}})},function(t,e,n){n(33).registerEdge("mind-edge",{getEdetal:function(t){return t.children&&t.children.length>0&&!t.collapsed?2===t.hierarchy?24:18:0},getPath:function(t){var e=t.getPoints(),n=t.getSource(),r=t.getTarget(),i=n.getBBox(),o=r.getBBox(),a=r.getModel(),s=14,u=4;if(2===a.hierarchy&&(s=66,u=30),e[0].y===e[1].y){var c=3===a.hierarchy?24:18,h=this.getEdetal(a);return i.centerX<o.centerX?[["M",e[0].x+c,e[0].y],["L",o.maxX+h,o.maxY]]:[["M",e[0].x+2,e[0].y],["L",o.minX-h,o.maxY]]}if(a.hierarchy>=3){var l=3===a.hierarchy?24:18,f=this.getEdetal(a);if(i.centerX<o.centerX){var d=e[0].x+l;return[["M",e[0].x,e[0].y],["M",d,e[0].y],["C",d+u,e[0].y,o.minX-s,o.maxY,o.minX,o.maxY],["L",o.maxX+f,o.maxY]]}var p=e[0].x-l;return[["M",e[0].x,e[0].y],["M",p,e[0].y],["C",p-u,e[0].y,o.maxX+s,o.maxY,o.maxX,o.maxY],["L",o.minX-f,o.maxY]]}var g=this.getEdetal(a);return i.centerX<o.centerX?[["M",e[0].x,e[0].y],["C",e[0].x+u,e[0].y,o.minX-s,o.maxY,o.minX,o.maxY],["L",o.maxX+g,o.maxY]]:[["M",e[0].x,e[0].y],["C",e[0].x-u,e[0].y,o.maxX+s,o.maxY,o.maxX,o.maxY],["L",o.minX-g,o.maxY]]},getStyle:function(t){var e=t.getTarget().getModel();return{stroke:"#959EA6",lineWidth:e.hierarchy<=3?3:e.hierarchy<=5?2:1}}})},function(t,e,n){var r=n(33),i=n(36);r.registerNode("mind-placeholder",{afterDraw:function(t){t.getKeyShape().isPlaceholder=!0},getPath:function(t){var e=t.getModel().parentModel,n=this.getStyle(t),r=void 0,o=0;return e.hierarchy<=2?r=28:(r=20,o=4),i.getRectPath(-27.5,-r/2+o,55,r,n.radius)},getStyle:function(){return{fill:"#91D5FF",radius:4,lineWidth:3}},drawExpandedButton:function(){},drawCollapsedButton:function(){},anchor:function(){return[[0,1],[1,1]]}})},function(t,e,n){var r=n(33),i=n(36);r.registerNode("mind-root",{adjustLabelPosition:function(t,e){var n=e.getBBox();e.attr({x:-n.width/2,y:-n.height/2-1})},getPath:function(t){var e=this.getSize(t),n=this.getStyle(t);return i.getRectPath(-e[0]/2,-e[1]/2,e[0],e[1],n.radius)},getButtonPositon:function(t,e,n){return"right"===n?{x:t.maxX+2,y:(t.maxY+t.minY)/2-(e.maxY-e.minY)/2}:{x:t.minX-(e.maxX-e.minX)-2,y:(t.maxY+t.minY)/2-(e.maxY-e.minY)/2}},getPadding:function(){return i.toAllPadding([12,24])},getStyle:function(){return{fill:"#587EF7",stroke:"#587EF7",fillOpacity:1,radius:4}},getLabelStyle:function(){return{fontSize:20,fill:"white",lineHeight:28}},drawExpandedButton:function(){},drawCollapsedButton:function(){},panAble:!1,anchor:[[.45,.5],[.55,.5]]},"mind-first-sub")},function(t,e,n){n(33).registerNode("mind-second-sub",{dy:0,getPadding:function(){return[8,4,8,4]},getLabelStyle:function(){return{fill:"rgba(38,38,38,0.85)",fontSize:12,lineHeight:20}}},"mind-node")},function(t,e,n){n(33).registerNode("mind-first-sub",{dy:0,getPadding:function(){return[6,12,8,12]},getLabelStyle:function(){return{fill:"rgba(38,38,38,0.85)",fontWeight:500,fontSize:14,lineHeight:20}}},"mind-node")},function(t,e,n){var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(33),o=n(36),a={fill:"#000",textAlign:"left",textBaseline:"top"},s={stroke:"#959EA6",strokeOpacity:0,fill:"#959EA6",cursor:"pointer"},u={stroke:"#434B54",fill:"#fff",cursor:"pointer"};i.registerNode("mind-node",{dy:4,afterDraw:function(t){var e=t.getModel();e.children&&e.children.length>0&&e.collapsed&&this.drawExpandedButton(t)},debugDrawLayoutPoint:function(t){var e=t.getModel();t.getGraphicGroup().addShape("circle",{attrs:{x:e.x,y:e.y,r:5,fill:"red"}})},drawExpandedButton:function(t){var e=t.getKeyShape().getBBox(),n=t.getGraphicGroup().addGroup(),i=n.addShape("path",{attrs:r({path:o.getRectPath(0,0,16,7,3)},s)}),a=i.getBBox(),u=o.getMindNodeSide(t),c=this.getButtonPositon(e,a,u),h={fill:"white",r:1};n.addShape("circle",{attrs:r({},h,{x:4,y:3.5}),capture:!1}),n.addShape("circle",{attrs:r({},h,{x:8,y:3.5}),capture:!1}),n.addShape("circle",{attrs:r({},h,{x:12,y:3.5}),capture:!1}),i.attr("lineAppendWidth",20),n.translate(c.x,c.y),i.isExpandedButton=!0,i.isButton=!0},drawCollapsedButton:function(t){var e=t.getKeyShape().getBBox(),n=t.getGraphicGroup().addShape("path",{attrs:r({path:o.getCollapsedButtonPath()},u)}),i=n.getBBox(),a=o.getMindNodeSide(t),s=this.getButtonPositon(e,i,a);n.translate(s.x,s.y),n.isCollapsedButton=!0,n.isButton=!0},getButtonPositon:function(t,e,n){return"right"===n?{x:t.maxX+2,y:t.maxY-(e.maxY-e.minY)/2}:{x:t.minX-(e.maxX-e.minX)-2,y:t.maxY-(e.maxY-e.minY)/2}},getLabel:function(t){return t.getModel().label},getPadding:function(){return[4,8,4,8]},getSize:function(t){var e=t.getModel(),n=t.getGraphicGroup(),r=e.size;if(e.size){if(o.isArray(r))return r;if(o.isNumber(r))return[r,r]}var i=n.findByClass("label")[0],a=this.getPadding(t),s=i.getBBox();return[s.width+a[1]+a[3],s.height+a[0]+a[2]]},getPath:function(t){var e=this.getSize(t),n=this.getStyle(t);return o.getRectPath(-e[0]/2,-e[1]/2+this.dy,e[0],e[1],n.radius)},drawLabel:function(t){var e=t.getGraphicGroup(),n=this.getLabel(t),r=this.getLabelStyle(t);n||(n=" ");var i=o.mix(!0,{},a,r,{x:0,y:0});o.isObject(n)?o.mix(i,n):i.text=n;var s=e.addShape("text",{class:"label",attrs:i});return this.adjustLabelText(s),this.adjustLabelPosition(t,s),s},adjustLabelText:function(t){var e=t.attr("text"),n=t.getBBox();if(n.maxX-n.minX>400){var r=t.get("context");r.font=t.attr("font"),e=o.getLabelTextByTextLineWidth(e,r),t.attr("text",e)}},adjustLabelPosition:function(t,e){var n=this.getSize(t),r=this.getPadding(),i=n[0],o=e.getBBox();e.attr({x:-i/2+r[3],y:-o.height/2+this.dy})},getLabelStyle:function(){return{fill:"rgba(38,38,38,0.85)",lineHeight:18,fontSize:12}},getStyle:function(){return{fill:"#ccc",fillOpacity:0,radius:4,lineWidth:2}},getActivedStyle:function(){return{stroke:"#44C0FF",lineWidth:2}},getSelectedStyle:function(){return{stroke:"#1AA7EE",lineWidth:2}},anchor:[[0,1],[1,1]]})},function(t,e,n){n(276),n(275),n(274),n(273),n(272),n(271),n(270)},function(t,e,n){n(12).registerBehaviour("keydownEditLabel",function(t){t.getGraph().on("keydown",function(e){t.showLabelEditor(e)})})},function(t,e,n){n(12).registerBehaviour("keydownMoveSelection",function(t){t.getGraph().on("keydown",function(e){t._moveItemSelection(e)})})},function(t,e,n){n(12).registerBehaviour("hoverMindExpandButton",function(t){var e=t.getGraph();e.behaviourOn("mouseenter",function(t){var n=t.shape;n&&n.isExpandedButton&&(n.attr("fillOpacity",.8),e.draw())}),e.behaviourOn("mouseleave",function(t){var n=t.shape;n&&n.isExpandedButton&&(n.attr("fillOpacity",1),e.draw())})})},function(t,e,n){var r=n(12),i=n(36);r.registerBehaviour("panMindNode",function(t){var e=t.getGraph(),n=void 0,r=void 0,o=void 0;function a(){n.nth=r;var i=e.add("node",n);t.setSelected(i,!0),o&&e.remove(o.id)}function s(){e.emit("panitemend"),n=void 0,o=void 0,r=void 0}e.behaviourOn("beforeshowdelegation",function(e){e.items.forEach(function(e){t.clearItemActived(e),t.clearItemSelected(e)})}),e.behaviourOn("node:dragstart",function(t){if(2!==t.button){var i=t.item;!(n=i.getModel()).parent||t.shape.isCollapsedButton||t.shape.isExpandedButton?s():(r=e.getNth(i),e.remove(i))}}),e.behaviourOn("itempanning",function(n){if(!n.shape||!n.shape.isPlaceholder){var r=t.getHotArea(n),i=t.getRoot();if(o&&(r?o.id!==r.id&&e.remove(e.find(o.id)):e.remove(e.find(o.id))),o=r,r){var a=r.parent;if(!e.find(r.id)){var s={id:r.id,parent:a.id,isPlaceholder:!0,parentModel:a,baseline:o.parent.id===i.id?"center":void 0,shape:"mind-placeholder",nth:r.nth};r.side&&(s.side=r.side),e.add("node",s)}}}}),e.behaviourOn("drop",function(){if(n)if(o){var u=i.cloneDeep(n);e.remove(o.id),t.executeCommand("moveMindNode",{model:u,newParentId:o.parent.id,newNth:o.nth,newSide:o.side,originParentId:n.parent,originNth:r,originSide:n.side})}else a();s()}),e.behaviourOn("canvas:mouseleave",function(){n&&(a(),s())})},["startPanItem","processPanItem","endPanItem"])},function(t,e,n){n(281),n(280),n(279),n(278)},function(t,e,n){var r=n(33),i=n(12),o=n(141);r.Util=n(36),r.Global=o,i.setRegister(r,o.nodeDefaultShape,o.edgeDefaultShape,o.groupDefaultShape),n(282),n(277),n(269),t.exports=r},function(t,e,n){var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(12),o=n(15),a=n(14),s=a.getGroupIconPath(),u=a.getCollapsedButtonPath(),c=a.getExpandedButtonPath(),h={fill:"#CED4D9"},l={stroke:"#697B8C",fill:"#fff",fillOpacity:0},f={stroke:"#697B8C",fill:"#fff",fillOpacity:0},d={fill:"#000000",textBaseline:"top",textAlign:"left"},p={stroke:"#CED4D9",fill:"#F2F4F5",radius:4},g=o.groupBackgroundPadding,v=40,m=13,y=12,x=12,b=8,_=12,w=184-g[1]-g[3],S=40-g[0]-g[2];i.registerGroup("flow-group",{draw:function(t){var e=t.getModel(),n=t.getGraphicGroup(),i=t.getChildrenBBox(),o=e.collapsed,M=e.padding?e.padding:g;if(i.minX===1/0&&(i.minX=e.x,i.maxX=e.x+w,i.minY=e.y,i.maxY=e.y+S),o&&(i.minX=i.maxX-w,i.maxY=i.minY+S),i.maxX-i.minX<w){var A=w-i.maxX+i.minX;i.minX-=A/2,i.maxX+=A/2}var P=function(t,e){return t.minX-e[3]}(i,M),E=function(t,e){return t.minY-e[0]}(i,M),O=function(t,e){return t.maxX-t.minX+e[3]+e[1]}(i,M),C=function(t,e){return t.maxY-t.minY+e[0]+e[2]}(i,M),k=function(t){return a.mix(!0,{},p,{fill:t.color,stroke:t.color},t.style)}(e),I=function(t,e,n,i){var o=e.addShape("path",{attrs:r({},i,{path:n})});return o.isGroupKeyShape=!0,o}(0,n,a.getRectPath(P,E,O,C,k.radius),k);return function(t,e,n,r){var i=a.mix(!0,{},d,{x:n+v,y:r+m});a.isString(t)?i.text=t:a.mix(i,t),e.addShape("text",{attrs:i})}(a.isNil(e.label)?"新建分组":e.label,n,P,E),function(t,e,n,i){var o=e.addShape("path",{attrs:r({path:t},h)}),a=o.getBBox();o.translate(n-a.minX+b,i-a.minY+_)}(a.isNil(e.icon)?s:e.icon,n,P,E),(function(t,e,n,i,o){var a=void 0;if(t){var s=(a=e.addShape("path",{attrs:r({path:c},f)})).getBBox(),h=s.maxX-s.minX;a.isExpandedButton=!0,a.translate(n+o-s.minX-h-x,i-s.minY+y)}else{var d=(a=e.addShape("path",{attrs:r({path:u},l)})).getBBox(),p=d.maxX-d.minX;a.isCollapsedButton=!0,a.translate(n+o-d.minX-p-x,i-d.minY+y)}return a.isButton=!0,a}(o,n,P,E,O)).item=t,e.x=i.minX,e.y=i.minY,I},getActivedStyle:function(){return o.groupActivedStyle},getSelectedStyle:function(){return o.groupSelectedStyle},getSelectedOutterStyle:function(){return o.groupSelectedOutterStyle},getActivedOutterStyle:function(){}})},function(t,e,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=n(14),a=n(12),s={offset:10,borderRadius:5};function u(t,e){var n=Math.min(t.minX,e.minX),r=Math.min(t.minY,e.minY),i=Math.max(t.maxX,e.maxX),o=Math.max(t.maxY,e.maxY);return{centerX:(n+i)/2,centerY:(r+o)/2,minX:n,minY:r,maxX:i,maxY:o,height:o-r,width:i-n}}function c(t,e){return 2*Math.abs(t.centerX-e.centerX)<t.width+e.width&&2*Math.abs(t.centerY-e.centerY)<t.height+e.height}function h(t){var e=t.x,n=t.y;return{centerX:e,centerY:n,minX:e,minY:n,maxX:e,maxY:n,height:0,width:0}}function l(t,e){return 0===t.width&&0===t.height?t:{centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}}function f(t,e){return function(t,e){var n=Math.abs(t.x-e.centerX),r=Math.abs(t.y-e.centerY);return n/e.width>r/e.height}(e,t)?{x:e.x>t.centerX?t.maxX:t.minX,y:e.y}:{x:e.x,y:e.y>t.centerY?t.maxY:t.minY}}function d(t){var e=t.minX,n=t.minY,r=t.maxX,i=t.maxY;return[{x:e,y:n},{x:r,y:n},{x:r,y:i},{x:e,y:i}]}function p(t,e){var n=t.x,r=t.y;return n<e.minX||n>e.maxX||r<e.minY||r>e.maxY}function g(t,e,n,r){var i=e.x-t.x,o=e.y-t.y,a=r.x-n.x,s=r.y-n.y,u=(-o*(t.x-n.x)+i*(t.y-n.y))/(-a*o+i*s),c=(a*(t.y-n.y)-s*(t.x-n.x))/(-a*o+i*s);return u>=0&&u<=1&&c>=0&&c<=1}function v(t,e,n){if(n.width===n.height===0)return!1;var r=d(n),o=i(r,4),a=o[0],s=o[1],u=o[2],c=o[3];return g(t,e,a,s)||g(t,e,a,c)||g(t,e,s,u)||g(t,e,u,c)}function m(t){return t=x(t)}function y(t,e){return[t,{x:t.x,y:e.y},e]}function x(t){var e=[],n={};return t.forEach(function(t){var e=t.id=t.x+"-"+t.y;n[e]=t}),o.each(n,function(t){e.push(t)}),e}function b(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)}function _(t,e,n,r,i){return b(t,e)+b(t,n)+function(t,e){var n=0;return e.forEach(function(e){e&&(t.x===e.x&&(n+=-2),t.y===e.y&&(n+=-2))}),n}(t,[e,n,r,i])}function w(t,e,n,i,o,a,s){var u=[],c=[e],h={},l={},f={};l[e.id]=0,f[e.id]=_(e,n,e);var d={};t.forEach(function(t){d[t.id]=t});for(var p=function(){var r=void 0,p=1/0;if(c.forEach(function(t){f[t.id]<p&&(p=f[t.id],r=t)}),r===n){var g=[];return function t(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;e.unshift(n[i]),r[i]&&r[i]!==i&&o<=100&&t(e,n,r,r[i],o+1)}(g,d,h,n.id),{v:g}}!function(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}(c,r),u.push(r),function(t,e,n,r){var i=[];return t.forEach(function(t){t!==e&&(t.x!==e.x&&t.y!==e.y||v(t,e,n)||v(t,e,r)||i.push(t))}),x(i)}(t,r,i,o).forEach(function(t){if(-1===u.indexOf(t)){-1===c.indexOf(t)&&c.push(t);var i=f[r.id]+b(r,t);l[t.id]&&i>=l[t.id]||(h[t.id]=r.id,l[t.id]=i,f[t.id]=l[t.id]+_(t,n,e,a,s))}})};c.length;){var g=p();if("object"===(void 0===g?"undefined":r(g)))return g.v}return console.error("cannot find path: ",t,e,n),[e,n]}function S(t,e,n,r,i){var o=n&&n.bbox?n.bbox:h(t),a=r&&r.bbox?r.bbox:h(e);if(c(o,a))return m(y(t,e));var s=l(o,i),g=l(a,i);if(c(s,g))return m(y(t,e));var v=f(s,t),b=f(g,e),_=function(){var t=[],e=[];(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(n){t.push(n.x),e.push(n.y)});var n=Math.min.apply(Math,t),r=Math.max.apply(Math,t),i=Math.min.apply(Math,e),o=Math.max.apply(Math,e);return{centerX:(n+r)/2,centerY:(i+o)/2,maxX:r,maxY:o,minX:n,minY:i,height:o-i,width:r-n}}([v,b]),S=(u(s,g),u(s,_)),M=u(g,_),A=[];A=(A=A.concat(d(S))).concat(d(M));var P={x:(t.x+e.x)/2,y:(t.y+e.y)/2};[_,S,M].forEach(function(t){A=A.concat(function(t,e){return function(t,e){return e<t.minX||e>t.maxX?[]:[{x:e,y:t.minY},{x:e,y:t.maxY}]}(t,e.x).concat(function(t,e){return e<t.minY||e>t.maxY?[]:[{x:t.minX,y:e},{x:t.maxX,y:e}]}(t,e.y))}(t,P).filter(function(t){return p(t,s)&&p(t,g)}))}),[{x:v.x,y:b.y},{x:b.x,y:v.y}].forEach(function(t){p(t,s)&&p(t,g)&&A.push(t)}),A.unshift(v),A.push(b);var E=w(A=x(A),v,b,o,a,t,e);return E.unshift(t),E.push(e),m(E)}function M(t,e){var n=[],r=t[0];return n.push("M"+r.x+" "+r.y),t.forEach(function(r,o){var a=t[o+1],s=t[o+2];if(a&&s)if(function(t,e,n){return!(t.x===e.x===n.x||t.y===e.y===n.y)}(r,a,s)){var u=function(t,e,n,r){var i=b(t,e),o=b(n,e);return i<r&&(r=i),o<r&&(r=o),[{x:e.x-r/i*(e.x-t.x),y:e.y-r/i*(e.y-t.y)},{x:e.x-r/o*(e.x-n.x),y:e.y-r/o*(e.y-n.y)}]}(r,a,s,e),c=i(u,2),h=c[0],l=c[1];n.push("L"+h.x+" "+h.y),n.push("Q"+a.x+" "+a.y+" "+l.x+" "+l.y),n.push("L"+l.x+" "+l.y)}else n.push("L"+a.x+" "+a.y);else a&&n.push("L"+a.x+" "+a.y)}),n.join("")}a.registerEdge("flow-polyline",{getPathByPoints:function(t,e,n){var r=o.merge({},s).offset,i=S(t[0],t[t.length-1],e,n,r);return o.pointsToPolygon(i)}},"flow-edge"),a.registerEdge("flow-polyline-round",{getPathByPoints:function(t,e,n){var r=o.merge({},s),i=r.offset,a=r.borderRadius;return M(m(S(t[0],t[t.length-1],e,n,i)),a)}},"flow-edge")},function(t,e,n){var r=n(14);function i(t,e,n,r){var i=r?r/2:30,o=r;if(t<=e&&e<=n||t>=e&&e>=n){var a=(n-e)/2,s=Math.abs(a);if(0===a)return t===e?0:(e-t)/Math.abs(e-t)*i;if(s>o){var u=a/s*o;return Math.abs(u)<i?a/s*i:u}return s<i?a/s*i:a}var c=i;return(c=Math.abs(e-n)<2*Math.abs(e-t)?r*Math.abs(e-n)/(2*Math.abs(e-t)):r)>o&&(c=o),c<i&&(c=i),e>t?c:-c}function o(t,e,n,r){var o=t.bbox,a=function(t,e){var n=Math.abs(t.x-e.centerX),r=Math.abs(t.y-e.centerY);return n/e.width>r/e.height}(e,o),s=void 0,u=void 0;s=u=0;var c=Math.min(o.height,o.width);return r&&r.bbox&&(c=Math.min(c,r.bbox.height,r.bbox.width)),a?s=i(o.centerX,e.x,n.x,c):u=i(o.centerY,e.y,n.y,c),{x:e.x+s,y:e.y+u}}var a=.1;function s(t,e){var n=t.x,r=t.y,i=e.x,o=e.y;return{x:n+(i-n)*a,y:r+(o-r)*a}}function u(t,e,n){var i=t[0],a=t[t.length-1],u=["M",i.x,i.y],c=function(t,e,n,r){return[n&&n.bbox?o(n,t,e,r):s(t,e),r&&r.bbox?o(r,e,t,n):s(e,t)]}(i,a,e,n),h=["C"],l=[u];return r.each(c,function(t){h.push(t.x,t.y)}),h.push(a.x,a.y),l.push(h),l}n(12).registerEdge("flow-smooth",{getPathByPoints:function(t,e,n){return u(t,e,n)}},"flow-edge")},function(t,e,n){var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(12),o=n(14),a=n(15);function s(t,e,n){return t.addShape("marker",{attrs:{symbol:function(t,e,r){var i=r/1.6;return[["M",t,e-i],["L",t+n,e],["L",t,e+i],["z"]]},x:0,y:0,radius:n,fill:e.stroke},capture:!1})}i.registerEdge("flow-edge",{draw:function(t){var e=t.getModel(),n=t.getGraphicGroup(),i=t.getPoints(),u=function(t,e,n,i,u){var c=void 0,h=void 0;i.endArrow&&(c=!0,delete i.endArrow),i.startArrow&&(h=!0,delete i.startArrow);var l=e.addShape("path",{attrs:r({},i,{path:n})});if(c){var f=l.get("segments"),d=u[u.length-1],p=a.arrowRadius;if(d){var g=f[f.length-1];if(!g||!g.endTangent)return;var v=g.endTangent();if(0===v[0]&&0===v[1])return;var m=o.vec2.normalize([],v),y=p*m[0],x=p*m[1],b=(n=o.parsePathString(n))[n.length-1];b[b.length-2]-=y,b[b.length-1]-=x,l.attr("path",n),d.x-=y,d.y-=x;var _=s(e,i,p);l.endArrow=_,_.isArrow=!0,o.arrowTo(_,d.x,d.y,0,0,v[0],v[1])}}if(h){var w=l.get("segments"),S=u[0],M=a.arrowRadius;if(S){var A=w[1];if(!A||!A.endTangent)return;var P=A.startTangent();if(0===P[0]&&0===P[1])return;var E=o.vec2.normalize([],P),O=M*E[0],C=M*E[1],k=(n=o.parsePathString(n))[0];k[k.length-2]-=O,k[k.length-1]-=C,l.attr("path",n),S.x-=O,S.y-=C;var I=s(e,i,M);l.startArrow=I,I.isArrow=!0,o.arrowTo(I,S.x,S.y,0,0,P[0],P[1])}}return l}(0,n,this.getPath(t),this.getStyle(t),i);if(e.label&&u){var c=function(t,e,n){var r=n.getPoint(.5),i=o.mix(!0,{},a.edgeLabelStyle,r);if(r)return o.isString(t)?i.text=t:o.mix(i,t),e.addShape("text",{attrs:i})}(e.label,n,u);c&&(!function(t,e,n){var i=o.toAllPadding(a.edgeLabelRectPadding),s=t.getBBox();n=n||a.edgeLabelRectStyle,e.addShape("rect",{attrs:r({},n,{x:s.minX-i[3],y:s.minY-i[0],width:s.maxX-s.minX+i[1]+i[3],height:s.maxY-s.minY+i[0]+i[2]})})}(c,n,e.labelRectStyle),o.toFront(c,n))}return u},getPath:function(t){var e=t.getPoints(),n=t.getSource(),r=t.getTarget();return this.getPathByPoints(e,n,r)},getPathByPoints:function(t){return o.pointsToPolygon(t)},getStyle:function(t){var e=t.getModel();return o.mix(!0,{},a.edgeStyle,{stroke:e.color},e.style)},getActivedStyle:function(){return a.edgeActivedStyle},getSelectedStyle:function(){return a.edgeSelectedStyle},getActivedOutterStyle:function(){},getSelectedOutterStyle:function(){}})},function(t,e,n){var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(12),o=n(14),a=n(15);i.registerNode("flow-node",{draw:function(t){var e=t.getModel(),n=t.getGraphicGroup(),i=o.getNodeSize(e),s=this.getColor(t),u=this.getStyle(e,s),c=function(t,e,n,i){return e.addShape("path",{attrs:r({},i,{path:n})})}(0,n,this.getPath(i,u),u);return e.label&&function(t,e){var n=o.mix(!0,{},a.nodeLabelStyle,{x:0,y:0});o.isString(t)?n.text=t:o.mix(n,t),e.addShape("text",{attrs:n})}(e.label,n),c},getStyle:function(t,e){var n=void 0,r=void 0;if(e){var i=o.Palettes.generate(e);n=i[0],r=i[3]}return o.mix(!0,{},a.nodeStyle,{fill:n,stroke:r},t.style)},color:null,getColor:function(t){var e=t.getModel();return e.color?e.color:this.color},getPath:function(t,e){return o.getRectPath(-t[0]/2,-t[1]/2,t[0],t[1],e.radius)},getActivedOutterStyle:function(){return a.nodeActivedOutterStyle},getActivedStyle:function(t){var e=this.getColor(t);if(e){var n=o.Palettes.generate(e);return{fill:n[0],stroke:n[5]}}return a.nodeActivedStyle},getSelectedStyle:function(t){var e=this.getColor(t);if(e){var n=o.Palettes.generate(e);return{fill:n[2],stroke:n[5]}}return a.nodeSelectedStyle},getSelectedOutterStyle:function(t){var e=this.getColor(t);if(e){var n=o.Palettes.generate(e);return{stroke:n[1],fill:n[1]}}return a.nodeSelectedOutterStyle},anchor:[[.5,0],[1,.5],[.5,1],[0,.5]]}),i.registerNode("flow-html",{},["flow-node","html"]),i.registerNode("flow-rect",{},"flow-node"),i.registerNode("flow-capsule",{getPath:function(t){return o.getRectPath(-t[0]/2,-t[1]/2,t[0],t[1],t[1]/2)}},"flow-node"),i.registerNode("flow-circle",{getPath:function(t){var e=t[0],n=t[1];return o.getEllipsePath(0,0,e/2,n/2)}},"flow-node"),i.registerNode("flow-rhombus",{getPath:function(t){var e=t[0],n=t[1],r=[{x:0,y:0-n/2},{x:0+e/2,y:0},{x:0,y:0+n/2},{x:0-e/2,y:0},{x:0,y:0-n/2}];return o.pointsToPolygon(r)}},"flow-node")},function(t,e,n){n(288),n(287),n(286),n(285),n(284)},function(t,e,n){var r=n(12),i=n(15),o=n(14);r.registerBehaviour("dragOutFromGroup",function(t){var e=t.getGraph(),n=void 0,r=void 0,a=void 0,s=!1;function u(){clearTimeout(a),r&&e.update(r,{padding:void 0,style:void 0}),s=!1,n=void 0,r=void 0}e.behaviourOn("drag",function(u){t.getSignal("panningItem")&&!s&&(clearTimeout(a),a=setTimeout(function(){var a=t.get("panItems");if(a){if(n=a[0],r=a[0].getParent(),n&&1===a.length&&r&&!u.shape){var c=t.get("panItemDelegation").getBBox(),h=r.getBBox();o.rectRectCrossAlgorithm(c,h)&&(e.update(r,{padding:i.groupBackgroundPadding.map(function(t){return t-8}),style:i.dragNodeLeaveFromGroupStyle}),s=!0)}s||(n=void 0,r=void 0)}},i.outFromGroupDelayTime))}),e.behaviourOn("dragenter",function(t){n&&r&&(r===t.item&&e.update(r,{padding:i.groupBackgroundPadding.map(function(t){return t+4}),style:i.dragNodeHoverToGroupStyle}),s=!1)}),e.on("drop",function(t){r&&n&&!t.shape&&(e.update(n,{parent:void 0}),e.update(r,{style:void 0}),u())}),e.on("dragend",function(){u()}),e.behaviourOn("canvas:mouseleave",function(){u()})})},function(t,e,n){var r=n(12),i=n(15);r.registerBehaviour("dragNodeAddToGroup",function(t){var e=t.getGraph(),n=void 0,r=void 0;function o(){t.setSignal("dragaddnodetogroup",!1),n=void 0,r=void 0}e.behaviourOn("dragenter",function(o){if(t.getSignal("panningItem")){var a=t.get("panItems");a[0]&&a[0].isNode&&1===a.length&&o.item&&o.item.isGroup&&a[0].getParent()!==o.item&&(n=a[0],r=o.item,e.update(r,{padding:i.groupBackgroundPadding.map(function(t){return t+4}),style:i.dragNodeHoverToGroupStyle}))}}),e.behaviourOn("dragleave",function(){r&&n&&e.update(r,{padding:void 0,style:void 0})}),e.behaviourOn("drop",function(i){if(r&&n&&r===i.item){t.setSignal("dragaddnodetogroup",!0);var o=n.id,a=r.id;e.update(a,{padding:void 0,style:void 0,collapsed:!1});var s=t.editor;s?s.executeCommand(u):u()}function u(){e.update(o,{parent:a})}}),e.behaviourOn("dragend",function(){o()}),e.behaviourOn("canvas:mouseleave",function(){r&&(e.update(r,{padding:void 0,style:void 0}),o())})})},function(t,e,n){n(12).registerBehaviour("keydownShiftMultiSelected",function(t){var e=t.getGraph();e.behaviourOn("keydown",function(e){e.domEvent.shiftKey&&t.setSignal("shiftKeyDown",!0)}),e.behaviourOn("keyup",function(e){e.domEvent.shiftKey||t.setSignal("shiftKeyDown",!1)})})},function(t,e,n){n(12).registerBehaviour("keydownCmdWheelZoom",function(t){var e=t.getGraph();e.behaviourOn("keydown",function(e){91===e.domEvent.keyCode&&t.setSignal("wheelZoom",!0)}),e.behaviourOn("keyup",function(e){91===e.domEvent.keyCode&&t.setSignal("wheelZoom",!1)})})},function(t,e,n){var r=n(12),i=n(15);r.registerBehaviour("dragMultiSelect",function(t){var e=t.getGraph(),n=e.getFrontRootGroup(),r=e.getFrontCanvas(),o=void 0,a=void 0;function s(){t.css({cursor:i.cursor.beforePanCanvas}),o=void 0,a=void 0}t.css({cursor:i.cursor.multiSelect}),e.behaviourOn("dragstart",function(t){2!==t.button&&(o={x:t.x,y:t.y},a=n.addShape("rect",{attrs:i.multiSelectRectStyle}))}),e.behaviourOn("drag",function(t){a&&(a.attr({x:Math.min(o.x,t.x),y:Math.min(o.y,t.y),width:Math.abs(t.x-o.x),height:Math.abs(t.y-o.y)}),r.draw())}),e.behaviourOn("dragend",function(){if(a){var n=e.getNodes().map(function(t){return t.id}),i=a.getBBox(),o=t.editor;o?o.executeCommand(u):u(),a.remove(),t.changeMode("default"),t.updateStatus(),r.draw(),s()}function u(){t.clearSelected(),n.forEach(function(n){var r=e.find(n),o=r.getBBox();o.minX>i.minX&&o.minY>i.minY&&o.maxX<i.maxX&&o.maxY<i.maxY&&t.setSelected(r,!0)})}}),e.behaviourOn("canvas:mouseleave",function(){a&&(a.remove(),r.draw(),s())})})},function(t,e,n){var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(12),o=n(15),a=n(14);i.registerBehaviour("dragAnchorAddEdge",function(t){var e=t.getGraph(),n=e.getFrontCanvas(),i=e.getFrontRootGroup(),s=t.get("noEndEdge"),u=void 0,c=void 0,h=void 0,l=void 0,f=void 0;function d(){t.setSignal("dragEdge",!1),c=void 0,h=void 0,l=void 0,f=void 0}e.behaviourOn("anchor:dragstart",function(e){if(2!==e.button){var n=e.shape,a=n.get("freezePoint");l=n.getItem(),u=t.get("addModel"),f=n.getIndex(),u.source=l.id,u.sourceAnchor=f,h={x:a.x,y:a.y},c=i.addShape("path",{attrs:r({},o.edgeDelegationStyle),capture:!1}),t.setSignal("dragEdge",!0),t.dragEdgeBeforeShowAnchor(l,f,"target")}}),e.behaviourOn("anchor:drag",function(t){c&&a.dragingEdgeEndPoint("target",u,e,c,h,t,l)}),e.behaviourOn("anchor:dragend",function(n){if(c){if(n.shape){if(n.shape.isAnchor&&n.shape.hasHotspot){var r=n.shape.getItem();u.target=r.id,u.targetAnchor=n.shape.getIndex();var i=t.editor;i?i.executeCommand(h):h()}}else if(s){u.target={x:n.x,y:n.y};var a=t.editor;a?a.executeCommand(h):h()}e.getNodes().forEach(function(e){t.clearAnchor(e)}),t.clearAnchor(l),t.setActived(l,!1),t.setSelected(l,!1),t.css({cursor:o.cursor.beforePanCanvas}),c.remove(),e.draw(),t.endAdd(),d()}else d();function h(){e.add("edge",u)}}),e.behaviourOn("canvas:mouseleave",function(){c?(e.getNodes().forEach(function(e){t.clearAnchor(e)}),t.setActived(l,!1),t.clearAnchor(l),c.remove(),t.cancelAdd(),n.draw(),d()):d()})},["dragHoverAnchorHotspot","hoverAnchorActived"])},function(t,e,n){n(12).registerBehaviour("dragHoverAnchorHotspot",function(t){var e=t.getGraph();e.behaviourOn("anchor:dragenter",function(e){if(t.getSignal("dragEdge")){var n=e.shape;t.setHotspotActived(n,!0)}}),e.behaviourOn("anchor:dragleave",function(e){if(t.getSignal("dragEdge")){var n=e.shape;t.setHotspotActived(n,!1)}})})},function(t,e,n){var r=n(12),i=n(14),o=n(15);r.registerBehaviour("dragPanelItemAddNode",function(t){var e=t.getGraph(),n=e.getFrontRootGroup(),r=e.getFrontCanvas(),a=e.getCanvas().get("htmlElementContaniner"),s=void 0,u=void 0,c=void 0,h=void 0,l=void 0;function f(){t.setSignal("panningItem",!1),t.set("panItemDelegation",void 0),t.set("panItemStartBox",void 0),t.set("panItemStartPoint",void 0),u=void 0,c=void 0,h=void 0,l=void 0}e.behaviourOn("canvas:mouseenter",function(e){if(!u&&(h=t.get("addType"),l=t.get("addModel"),"node"===h)){var r=(c=i.getNodeSize(l,a))[0]/2,f=c[1]/2;s={minX:e.x-r,minY:e.y-f,maxX:e.x+r,maxY:e.y+f,width:c[0],height:c[1]},u=i.getRectByBox(s,n,o.nodeDelegationStyle),t.setSignal("panningItem",!0),t.set("panItemDelegation",u),t.set("panItemStartBox",s),t.set("panItemStartPoint",{x:e.x,y:e.y})}}),e.behaviourOn("mouseup",function(n){if(u){var r=i.mix({},l,{x:n.x,y:n.y}),o=h;i.setId(r);var a=t.editor;a?a.executeCommand(s):s(),u.remove(),t.endAdd(),t.clearAlignLine(),f()}function s(){e.add(o,i.cloneDeep(r)),t.clearSelected(),t.setSelected(e.find(r.id),!0),t.focusGraphWrapper()}}),e.behaviourOn("canvas:mouseleave",function(){u&&(t.clearAlignLine(),u.remove(),r.draw(),t.cancelAdd(),f())})},["processPanItem"])},function(t,e,n){var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(12),o=n(15),a=n(14);i.registerBehaviour("dragEdgeControlPoint",function(t){var e=t.getGraph(),n=e.getFrontRootGroup(),i=t.get("noEndEdge"),s=void 0,u=void 0,c=void 0,h=void 0,l=void 0,f=void 0,d=void 0,p=void 0,g=void 0,v=void 0;function m(n){if(c){var r=void 0;if(e.getNodes().forEach(function(e){t.clearAnchor(e)}),t.css({cursor:o.cursor.beforePanCanvas}),c.remove(),n.shape){if(n.shape.isAnchor){var a=n.shape,m=a.getItem();s?r={target:m.id,targetAnchor:a.getIndex()}:u&&(r={source:m.id,sourceAnchor:a.getIndex()})}}else i&&(s?r={target:{x:n.x,y:n.y}}:u&&(r={source:{x:n.x,y:n.y}})),e.show(g);e.show(g);var y=g.id;if(r){var x=t.editor;x?x.executeCommand(b):b()}t.changeMode("default"),t.setSignal("dragEdge",!1),s=void 0,u=void 0,c=void 0,h=void 0,l=void 0,f=void 0,d=void 0,p=void 0,g=void 0,v=void 0}function b(){e.update(y,r)}}e.behaviourOn("edgeControlPoint:dragstart",function(i){if(2!==i.button){var a=i.shape;a.isTargetEndPoint()?(g=a.getItem(),v=g.getModel(),s=a,h=a.getSourcePoint(),l=g.getSource(),d=v.sourceAnchor):a.isSourceEndPoint()&&(g=a.getItem(),v=g.getModel(),u=a,h=a.getTargetPoint(),f=g.getTarget(),p=v.targetAnchor),g&&(c=n.addShape("path",{attrs:r({path:"M0 0L 1 1"},o.edgeDelegationStyle),capture:!1}),l?t.dragEdgeBeforeShowAnchor(l,d,"target"):f&&t.dragEdgeBeforeShowAnchor(f,p,"source"),e.hide(g),t.setSignal("dragEdge",!0))}}),e.behaviourOn("edgeControlPoint:drag",function(t){c&&a.dragingEdgeEndPoint(l?"target":"source",v,e,c,h,t,l,f)}),e.behaviourOn("edgeControlPoint:mouseleave",function(e){s||u||(t.changeMode("default"),e.toShape||t.css({cursor:o.cursor.beforePanCanvas}))}),e.behaviourOn("edgeControlPoint:dragend",m),e.behaviourOn("canvas:mouseleave",m)},["dragHoverAnchorHotspot"])},function(t,e,n){var r=n(12),i=n(15);r.registerBehaviour("hoverEdgeControlPoint",function(t){t.getGraph().behaviourOn("edgeControlPoint:mouseenter",function(e){if(!t.getSignal("dragEdge")&&!t.getSignal("panningItem")){var n=e.shape;(n.isTargetEndPoint()||n.isSourceEndPoint())&&(t.css({cursor:i.cursor.hoverEdgeControllPoint}),t.changeMode("resize"))}})})},function(t,e,n){var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(12),o=n(15);i.registerBehaviour("hoverAnchorActived",function(t){var e=t.getGraph(),n=e.getFrontCanvas();e.behaviourOn("anchor:mouseenter",function(e){if(!t.getSignal("panningItem")&&!t.getSignal("dragEdge")){var i=e.shape,a=i.getItem(),s=a.getModel(),u=t.get("addEdgeModel"),c=r({},u,{source:s.id}),h={anchor:i.getPoint(),item:a};t.emit("hoveranchor:beforeaddedge",h),h.cancel?t.css({cursor:o.cursor.hoverUnEffectiveAnchor}):(t.css({cursor:o.cursor.hoverEffectiveAnchor}),!i.get("destroyed")&&i.setActived(),t.beginAdd("edge",c),n.draw())}}),e.behaviourOn("anchor:mouseleave",function(e){if(!t.getSignal("dragEdge")&&!t.getSignal("panningItem")){var r=e.shape,i=r.getItem();t.css({cursor:o.cursor.beforePanCanvas}),i.isSelected||(t.clearAnchor(i),t.setActived(i,!1)),!r.get("destroyed")&&r.clearActived(),t.cancelAdd(),n.draw()}})})},function(t,e,n){var r=n(12),i=n(14);r.registerBehaviour("panItem",function(t){var e=t.getGraph();e.behaviourOn("drop",function(){var n=t.get("panItems");if(n){var r=n[0],o=n.map(function(t){return t.id}),a=t.get("panItemDelegation"),s=t.get("panItemStartBox"),u=r.id,c=a.attr("x")-s.minX,h=a.attr("y")-s.minY;e.emit("afterpanitemdrop",{panItems:n}),t.clearAlignLine();var l=t.editor;!l||t.getSignal("dragaddnodetogroup")?f():l.executeCommand(f),e.emit("panitemend")}function f(){o.forEach(function(t){var n=e.find(t),r=n.getModel();n.isGroup?i.panGroup(n,c,h,e):(e.update(n,{x:r.x+c,y:r.y+h}),e.toFront(n))}),1===o.length&&(t.clearSelected(),t.setSelected(u,!0))}})},["startPanItem","processPanItem","endPanItem"])},function(t,e,n){n(301),n(300),n(299),n(298),n(297),n(296),n(295),n(294),n(293),n(292),n(291),n(290)},function(t,e,n){var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(14),o={};o.AUGMENT={addOutterShape:function(t,e,n){this.clearOutterShape(t);var o=t.getKeyShape(),a=t.getGraphicGroup(),s=o.get("attrs"),u=o.get("type"),c=o.attr("lineWidth"),h=a.addShape(u,{attrs:r({},s,{lineWidth:e,fill:null},n)});i.toBack(h,a);var l=h.getBBox(),f=l.maxX-l.minX,d=l.maxY-l.minY,p=(l.minX+l.maxX)/2,g=(l.minY+l.maxY)/2;h.transform([["t",-p,-g],["s",(e+f+2*c)/f,(e+d+2*c)/d],["t",p,g]]),h.isOutter=!0,t.outterShape=h},clearOutterShape:function(t){t.outterShape&&t.outterShape.remove()}},t.exports=o},function(t,e,n){var r=n(14),i=n(15),o={};function a(t){t.controlPointShapes&&r.each(t.controlPointShapes,function(t){t.remove()}),t.controlPointShapes=[],t.isControlPointShow=!1}o.INIT="_initResize",o.CFG={nodeResizeable:!1,edgeResizeable:!0},o.AUGMENT={_initResize:function(){var t=this,e=this.get("_graph"),n=this.get("nodeResizeable"),i=this.get("edgeResizeable");n&&e.on("afteritemdraw",function(e){"node"===e.item.type&&e.item.isVisible()&&t.drawControlPoints(e.item)}),i&&e.on("afteritemdraw",function(e){"edge"===e.item.type&&e.item.isVisible()&&t.drawControlPoints(e.item)}),e.on("afteritemhide",function(t){t.item.isControlPointShow&&function(t){t.controlPointShapes&&r.each(t.controlPointShapes,function(t){t.hide()}),t.isControlPointShow=!1}(t.item)}),e.on("afteritemshow",function(t){!t.item.isControlPointShow&&function(t){t.controlPointShapes&&r.each(t.controlPointShapes,function(t){t.show()}),t.isControlPointShow=!0}(t.item)}),e.on("beforeitemdestroy",function(t){t.item.isControlPointShow&&a(t.item)})},drawControlPoints:function(t){var e=this.get("_graph").getFrontRootGroup(),n=this.get("nodeResizeable"),o=this.get("edgeResizeable");"node"===t.type?n&&function(t,e){var n=t.getBBox(),o=[{x:n.minX,y:n.minY},{x:n.maxX,y:n.minY},{x:n.minX,y:n.maxY},{x:n.maxX,y:n.maxY}];a(t);var s=e.addShape("rect",{attrs:r.mix({},i.nodeSelectedBoxStyle,{symbol:"square",x:n.minX,y:n.minY,width:n.maxX-n.minX,height:n.maxY-n.minY})});t.controlPointShapes.push(s),r.each(o,function(n){var o=e.addShape("marker",{attrs:r.mix({},i.nodeControlPointStyle,{symbol:"square",x:n.x,y:n.y}),freezePoint:{x:n.x,y:n.y},item:t});t.controlPointShapes.push(o)})}(t,e):"edge"===t.type&&o&&function(t,e){var n=t.getPoints(),o=t.getModel();a(t),r.each(n,function(a,s){var u=e.addShape("marker",{attrs:r.mix({},i.edgeControlPointStyle,{x:a.x,y:a.y}),freezePoint:{x:a.x,y:a.y},item:t});u.eventPreFix="edgeControlPoint",u.getSourcePoint=function(){return n[0]},u.getTargetPoint=function(){return n[n.length-1]},u.getItem=function(){return t},u.isSourceEndPoint=function(){return o.source&&0===s},u.isTargetEndPoint=function(){return o.target&&s===n.length-1},t.controlPointShapes.push(u)})}(t,e),t.isControlPointShow=!0}},t.exports=o},function(t,e,n){var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var o=n(37),a=n(15),s=n(14),u=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o),i(e,[{key:"getDefaultCfg",value:function(){return{_anchorItemCache:{}}}},{key:"init",value:function(){var t=this,e=this.graph;e.on("afteritemdraw",function(e){e.item.isAnchorShow&&t.showAnchor(e.item)}),e.on("beforeitemdestroy",function(e){t._clearAnchor(e.item)}),e.on("afteritemhide",function(e){e.item.isNode&&t._clearAnchor(e.item)})}},{key:"_updateAnchor",value:function(t){var e=this.graph.getFrontCanvas();t.anchorShapes.forEach(function(t){t.updatePosition()}),e.draw()}},{key:"_drawAnchor",value:function(t,e,n,i){var o=t.getAnchorPoints();this._clearAnchor(t),s.each(o,function(o,u){if(!n||-1!==n.indexOf(u)){var c=void 0,h=e.addShape("marker",{attrs:r({symbol:"circle"},a.anchorPointStyle,{x:o.x,y:o.y}),freezePoint:o,item:t,index:u,eventPreFix:"anchor",isItemChange:function(){},zIndex:a.zIndex.anchorPoint});h.eventPreFix="anchor",h.showHotspot=function(){c=e.addShape("marker",{attrs:r({symbol:"circle"},a.anchorHotsoptStyle,{x:o.x,y:o.y}),freezePoint:o,capture:!1,zIndex:a.zIndex.anchorHotsopt}),t.anchorShapes.push(c),h.hasHotspot=!0,s.toBack(c,e)},h.getIndex=function(){return u},h.getItem=function(){return t},h.getPoint=function(){return o},h.updatePosition=function(){var e=t.getAnchorPoints()[u];h.attr(e)},h.setActived=function(){h.attr(a.anchorPointHoverStyle)},h.clearActived=function(){h.attr(a.anchorPointStyle)},h.isAnchor=!0,h.setHotspotActived=function(t){c&&(t?c.attr(a.anchorHotsoptActivedStyle):c.attr(a.anchorHotsoptStyle))},i&&h.showHotspot(),t.anchorShapes.push(h),t.getAllAnchors=function(){return t.anchorShapes.filter(function(t){return t.isAnchor})},t.getAnchor=function(e){return t.anchorShapes.find(function(t){return t.get("index")===e})}}})}},{key:"_clearAnchor",value:function(t){t.anchorShapes&&t.anchorShapes.forEach(function(t){t.remove()}),t.anchorShapes=[]}},{key:"setHotspotActived",value:function(t,e){var n=this.flow.getGraph().getFrontCanvas();t.setHotspotActived(e),n.draw()}},{key:"showAnchor",value:function(t,e,n){if(t.isVisible()){var r=this.graph,i=this._anchorItemCache,o=r.getFrontRootGroup(),a=r.getFrontCanvas();this._drawAnchor(t,o,e,n),t.isAnchorShow=!0,i[t.id]=t,a.draw()}}},{key:"clearAnchor",value:function(t){var e=this,n=this.graph,r=n.getFrontCanvas(),i=n.get("itemCache"),o=this._anchorItemCache,a=t;a=s.isObject(t)?[t]:s.isString(t)?[i[t]]:o,s.each(a,function(t){e._clearAnchor(t),t.isAnchorShow=!1,delete o[t.id]}),r.draw()}}]),e}();t.exports=u},function(t,e,n){var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(305),o=n(14),a={CFG:{anchor:{}},INIT:"_initAnchor"};a.AUGMENT={_initAnchor:function(){var t=this.get("anchor"),e=this.get("_graph");if(t){var n=new i(r({flow:this,graph:e},t));this.setController("anchor",n)}},showAnchor:function(t,e,n){this.getController("anchor").showAnchor(t,e,n)},clearAnchor:function(t){this.getController("anchor").clearAnchor(t)},setHotspotActived:function(t,e){this.getController("anchor").setHotspotActived(t,e)},hoverShowAnchor:function(t){var e=this,n=[];t.getAnchorPoints().forEach(function(r,i){var o={anchor:r,item:t};e.emit("hovernode:beforeshowanchor",o),o.cancel||n.push(i)}),this.showAnchor(t,n)},anchorHasBeenLinked:function(t,e){var n=[];return t.getEdges().forEach(function(e){var r=e.getModel();r.source!==t.id||o.isNil(r.sourceAnchor)||n.push(r.sourceAnchor),r.target!==t.id||o.isNil(r.targetAnchor)||n.push(r.targetAnchor)}),o.isObject(e)?-1!==n.indexOf(e.index):-1!==n.indexOf(e)},dragEdgeBeforeShowAnchor:function(t,e,n){var r=this;this.getGraph().getNodes().forEach(function(i){var o=[],a=i.getAnchorPoints(),s=void 0;if(t.isNode){var u=t.getAnchorPoints();a.forEach(function(a,c){s="target"===n?{source:t,sourceAnchor:u[e],target:i,targetAnchor:a,dragEndPointType:n}:{target:t,targetAnchor:u[e],source:i,sourceAnchor:a,dragEndPointType:n},r.emit("dragedge:beforeshowanchor",s),s.cancel||o.push(c)})}else a.forEach(function(t,e){o.push(e)});i===t&&i.isAnchorShow?o.forEach(function(t){var n=i.getAnchor(t);e!==t&&n&&n.showHotspot()}):r.showAnchor(i,o,!0)})}},t.exports=a},function(t,e,n){var r={},i=n(14);r.AUGMENT={changeAddEdgeModel:function(t){this.set("addEdgeModel",t)},cancelAdd:function(){var t=this.get("_graph");this.set("addType",void 0),this.set("addModel",void 0),t.changeMode("default")},beginAdd:function(t,e){var n=this.get("_graph");this.set("addType",t),this.set("addModel",e),n.changeMode("add")},endAdd:function(){var t=this.get("_graph");this.set("addType",void 0),this.set("addModel",void 0),t.changeMode("default")},delete:function(){var t=this.getSelected(),e=this.get("_graph");i.each(t,function(t){e.remove(t)})},toBack:function(){var t=this.getSelected(),e=this.get("_graph");t.sort(function(t,e){var n=t.getGraphicGroup(),r=e.getGraphicGroup();return i.getIndex(r)-i.getIndex(n)}),t.forEach(function(t){e.toBack(t)})},toFront:function(){var t=this.getSelected(),e=this.get("_graph");t.sort(function(t,e){var n=t.getGraphicGroup(),r=e.getGraphicGroup();return i.getIndex(n)-i.getIndex(r)}),t.forEach(function(t){e.toFront(t)})},addGroup:function(t){var e=this.get("_graph"),n=this.getSelected(),r=!0,o=void 0;if(0!==n.length){t||(t={label:"新建分组"}),i.setId(t),e.add("group",t),e.toFront(t.id);var a=e.find(t.id);if(n.forEach(function(t){var e=t.getParent();e&&(o?o!==e&&(r=!1):o=e)}),r){o&&(t.parent=o.getModel().id),n.forEach(function(n){e.update(n,{parent:t.id})});var s=a.getInnerEdges();a.deepEach(function(t){e.toFront(t)}),s.forEach(function(t){e.toFront(t)})}else console.warn("add group elements must have the same parent")}},unGroup:function(){var t=this.get("_graph"),e=this.getSelected(),n=e[0];1===e.length&&i.isGroup(n)&&(n.getChildren().forEach(function(e){t.update(e,{parent:void 0})}),t.remove(n))},newGroup:function(t){this.addGroup(t)}},t.exports=r},function(t,e){t.exports={rectRectCrossAlgorithm:function(t,e){var n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),i=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return n>i||r>o}}},function(t,e,n){var r=n(142);t.exports={dragingEdgeEndPoint:function(t,e,n,r,i,o,a,s){var u=n.getShapeObj("edge",e),c="source"===t?[o,i]:[i,o],h=u.getPathByPoints(c,a,s);r.attr("path",h),n.drawFrontCanvas()},panGroup:function(t,e,n,i){var o=t.getModel();r.traverseTree(t,function(t){if("node"===t.type){var r=t.getModel();i.update(t,{x:r.x+e,y:r.y+n})}},function(t){return"group"===t.type?t.getChildren():[]}),i.update(t,{x:o.x+e,y:o.y+n})}}},function(t,e,n){var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0};var o=n(34),a=n(12),s=n(14),u=n(15),c=n(307),h=n(306),l=n(304),f=[c,n(303),l,h],d=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n={shortcut:{copy:!0,paste:!0,selectAll:!0,addGroup:!0,unGroup:!0},graph:{modes:{default:["panBlank","hoverGroupActived","keydownCmdWheelZoom","clickEdgeSelected","clickNodeSelected","clickCanvasSelected","clickGroupSelected","hoverNodeActived","hoverEdgeActived","hoverAnchorActived","hoverButton","clickCollapsedButton","clickExpandedButton","wheelPanCanvas","keydownShiftMultiSelected","dragNodeAddToGroup","dragOutFromGroup","panItem","hoverEdgeControlPoint"],add:["dragPanelItemAddNode","dragAnchorAddEdge"],resize:["dragEdgeControlPoint","hoverEdgeControlPoint"],readOnly:["panCanvas"],move:["panCanvas"],multiSelect:["dragMultiSelect"]},mode:"default",defaultIntersectBox:"rect",nodeDefaultShape:u.nodeDefaultShape,edgeDefaultShape:u.edgeDefaultShape,groupDefaultShape:u.groupDefaultShape,minZoom:.2,maxZoom:2},graphConstructor:o.Graph,noEndEdge:!0},r={};s.each(f,function(t){s.mix(r,t.CFG)}),s.mix(!0,n,r,t);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return i.isFlow=!0,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a),r(e,[{key:"_init",value:function(){var t=this;i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_init",this).call(this),s.each(f,function(e){e.INIT&&t[e.INIT]()})}},{key:"getDelegation",value:function(t,e){var n=s.getTotalBBox(t.map(function(t){return t.getBBox()}));return s.getRectByBox(n,e,u.nodeDelegationStyle)}},{key:"bindEvent",value:function(){var t=this;i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"bindEvent",this).call(this),this.on("beforeitemactived",function(e){var n=e.item,r=t.get("_graph").getShapeObj(n).getActivedOutterStyle(n);n.isNode&&(t.addOutterShape(n,u.nodeActivedOutterLineWidth,r),t.hoverShowAnchor(n))}),this.on("beforeitemunactived",function(e){var n=e.item;(n.isNode||n.isGroup)&&(t.clearOutterShape(n),t.clearAnchor(n))}),this.on("beforeitemselected",function(e){var n=e.item,r=t.get("_graph").getShapeObj(n).getSelectedOutterStyle(n);n.isNode?(t.addOutterShape(n,u.nodeSelectedOutterLineWidth,r),t.hoverShowAnchor(n)):n.isGroup&&(t.addOutterShape(n,u.groupSelectedOutterLineWidth,r),t.hoverShowAnchor(n))}),this.on("beforeitemunselected",function(e){var n=e.item;(n.isNode||n.isGroup)&&(t.clearOutterShape(n),t.clearAnchor(n))})}}]),e}();s.each(f,function(t){s.mix(d.prototype,t.AUGMENT)}),t.exports=d},function(t,e,n){var r=n(310),i=n(12),o=n(15);r.Util=n(14),r.Global=o,i.setRegister(r,o.nodeDefaultShape,o.edgeDefaultShape,o.groupDefaultShape),n(302),n(289),t.exports=r},function(t,e,n){n(13).registerBehaviour("hoverEdgeActived",function(t){var e=t.getGraph();e.behaviourOn("edge:mouseenter",function(e){t.getSignal("panningItem")||e.item&&e.item.isSelected||t.setActived(e.item,!0)}),e.behaviourOn("edge:mouseleave",function(e){t.setActived(e.item,!1)})})},function(t,e,n){n(13).registerBehaviour("hoverGroupActived",function(t){var e=t.getGraph();e.behaviourOn("mouseenter",function(e){t.getSignal("panningItem")||e.item&&e.item.isSelected||e.shape&&e.shape.isGroupKeyShape&&(t.css({cursor:"move"}),t.setActived(e.item,!0))}),e.behaviourOn("group:mouseleave",function(e){e.item.isActived&&!e.item.isSelected&&t.setActived(e.item,!1)})})},function(t,e,n){n(13).registerBehaviour("hoverNodeActived",function(t){var e=t.getGraph(),n=void 0;e.behaviourOn("node:mouseenter",function(e){!1!==e.item.getShapeObj().panAble&&t.css({cursor:"move"}),t.getSignal("panningItem")||e.item&&e.item.isSelected||(n=e.item,t.setActived(n,!0))}),e.behaviourOn("node:mouseleave",function(e){var r=e.toShape;n&&(r&&r.isAnchor&&r.getItem()===n||(n.isSelected||t.setActived(n,!1),n=void 0))})})},function(t,e,n){n(13).registerBehaviour("clickNodeSelected",function(t){t.getGraph().behaviourOn("node:click",function(e){t.get("multiSelectable")&&!0===t.getSignal("shiftKeyDown")?t.setSelected(e.item.id,!0):(t.clearActived(),t.clearSelected(),t.setSelected(e.item.id,!0))})})},function(t,e,n){n(13).registerBehaviour("clickGroupSelected",function(t){t.getGraph().behaviourOn("group:click",function(e){t.get("multiSelectable")&&!0===t.getSignal("shiftKeyDown")?t.setSelected(e.item.id,!0):(t.clearActived(),t.clearSelected(),t.setSelected(e.item.id,!0))})})},function(t,e,n){n(13).registerBehaviour("clickExpandedButton",function(t){var e=t.getGraph();e.behaviourOn("click",function(n){var r=n.item,i=n.shape;if(r&&i&&i.isExpandedButton){var o=t.editor;o?o.executeCommand("collapseExpand",{itemId:r.id}):e.update(r,{collapsed:!1})}})})},function(t,e,n){n(13).registerBehaviour("clickEdgeSelected",function(t){t.getGraph().behaviourOn("edge:click",function(e){t.get("multiSelectable")&&!0===t.getSignal("shiftKeyDown")?t.setSelected(e.item.id,!0):(t.clearActived(),t.clearSelected(),t.setSelected(e.item.id,!0))})})},function(t,e,n){n(13).registerBehaviour("clickCollapsedButton",function(t){var e=t.getGraph();e.behaviourOn("click",function(n){var r=n.item,i=n.shape;if(r&&i&&i.isCollapsedButton){var o=t.editor;o?o.executeCommand("collapseExpand",{itemId:r.id}):e.update(r,{collapsed:!0})}})})},function(t,e,n){n(13).registerBehaviour("clickCanvasSelected",function(t){var e=t.getGraph();e.behaviourOn("click",function(e){e.shape||(t.clearSelected(),t.clearActived(),t.updateStatus())}),e.behaviourOn("contextmenu",function(e){e.shape||(t.clearSelected(),t.clearActived(),t.updateStatus())})})},function(t,e,n){n(13).registerBehaviour("dblclickItemEditLabel",function(t){t.getGraph().behaviourOn("node:dblclick",function(e){e.shape&&!e.shape.isButton&&t.beginEditLabel(e.item)})})},function(t,e,n){n(13).registerBehaviour("endPanItem",function(t){var e=t.getGraph(),n=e.getFrontCanvas(),r=e.getFrontRootGroup();e.behaviourOn("panitemend",function(){var e=t.get("panItemDelegation");e&&(e.remove(),n.draw()),r.set("capture",!0),t.setSignal("panningItem",!1),t.set("panItemDelegation",void 0),t.set("panItemStartPoint",void 0),t.set("panItemStartBox",void 0),t.set("panItems",void 0)}),e.behaviourOn("canvas:mouseleave",function(){t.get("panItems")&&(t.clearAlignLine(),e.emit("panitemend"))})})},function(t,e,n){n(13).registerBehaviour("startPanItem",function(t){var e=t.getGraph(),n=e.getFrontCanvas(),r=e.getFrontRootGroup();e.behaviourOn("dragstart",function(i){if(2!==i.button&&i.item&&(i.item.isNode||i.item.isGroup)){var o=i.item,a=void 0;if((a=(a=o.isSelected?t.getSelected():[o]).filter(function(t){return t.isNode||t.isGroup}))[0]&&!1!==a[0].dragable){e.emit("beforeshowdelegation",{items:a});var s=t.getDelegation(a,r),u=s.getBBox();t.setSignal("panningItem",!0),t.set("panItems",a),t.set("panItemDelegation",s),t.set("panItemStartBox",u),t.set("panItemStartPoint",{x:i.x,y:i.y}),r.set("capture",!1),n.draw()}}})})},function(t,e,n){n(13).registerBehaviour("processPanItem",function(t){var e=t.getGraph(),n=e.getFrontCanvas();e.behaviourOn("mousemove",function(r){var i=t.get("panItemDelegation");if(i){var o=t.get("panItemStartPoint"),a=t.get("panItemStartBox"),s=r.x-o.x,u=r.y-o.y,c=t.align({x:a.minX+s,y:a.minY+u},{width:a.width,height:a.height});i.attr({x:c.x,y:c.y}),e.emit("itempanning",r),n.draw()}})})},function(t,e,n){var r=n(13),i=n(67),o=n(18);r.registerBehaviour("wheelPanCanvas",function(t){var e=t.getGraph(),n=void 0;e.behaviourOn("mousewheel",function(t){t.domEvent.preventDefault()}),e.behaviourOn("mousewheel",o.throttle(function(r){if(t.getSignal("preventWheelPan"))return;var a=r.domEvent,s=t.getSignal("wheelZoom");n||t.setCapture(!1);if(s){var u=a.wheelDelta;if(Math.abs(u)>10){var c=e.getMatrix()[0];u>0?e.zoom({x:r.x,y:r.y},1.05*c):e.zoom({x:r.x,y:r.y},c*(1/1.05))}}else{var h=[],l=e.getMatrix();o.mat3.translate(h,l,[a.wheelDeltaX*i.wheelPanRatio,a.wheelDeltaY*i.wheelPanRatio]),t.translateLimt(h)&&e.updateMatrix(h)}n&&clearTimeout(n),n=setTimeout(function(){t.setCapture(!0),n=void 0},50)},16))})},function(t,e,n){var r=n(13),i=n(18);r.registerBehaviour("panCanvas",i.getPanCanvasBehaviour())},function(t,e,n){n(13).registerBehaviour("hoverButton",function(t){t.getGraph().behaviourOn("mouseenter",function(e){t.getSignal("panningItem")||e.shape&&e.shape.isButton&&t.css({cursor:"pointer"})})})},function(t,e,n){var r=n(13),i=n(18);r.registerBehaviour("panBlank",i.getPanCanvasBehaviour(!0))},function(t,e,n){n(328),n(327),n(326),n(325),n(324),n(323),n(322),n(321),n(320),n(319),n(318),n(317),n(316),n(315),n(314),n(313),n(312)},function(t,e){var n={AUGMENT:{updateStatus:function(){var t=this.getSelected(),e=void 0;0===t.length?e="canvas-selected":1===t.length?t[0].isNode?e="node-selected":t[0].isEdge?e="edge-selected":t[0].isGroup&&(e="group-selected"):e="multi-selected",this.emit("statuschange",{status:e})}}};t.exports=n},function(t,e,n){var r=n(18),i={CFG:{labelEditable:!1},INIT:"_initLabelEditor"};i.AUGMENT={_initLabelEditor:function(){var t=this;if(this.get("labelEditable")){var e=this.getGraph(),n=r.createDOM('<div contenteditable="true" role="textbox" tabindex="1" class="g6-label-editor"></div>',{position:"absolute",visibility:"hidden","z-index":"2",padding:"0px 2px 0px 0px",resize:"none",width:"auto",height:"auto",outline:"none",border:"1px solid #1890FF","transform-origin":"left top","max-width":"320px",background:"white","box-sizing":"content-box"});e.getGraphContainer().appendChild(n),n.on("blur",function(n){n.stopPropagation(),e.getFrontCanvas().get("el")&&t.endEditLabel()}),n.on("keydown",function(e){e.stopPropagation();var n=r.getKeyboradKey(e);(e.metaKey&&"s"===n||e.ctrlKey&&"s"===n)&&e.preventDefault(),"Enter"!==n&&"Escape"!==n||t.endEditLabel()}),this.set("labelTextArea",n),e.on("beforeviewportchange",function(){n.focusItem&&t.setLabelEditorBeginPosition(n.focusItem)})}},_getLabelTextAreaBox:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0];e&&t.attr("text",e);var i=this.getGraph().getRootGroup(),o=r.getBBox(t,i);return{minX:o.minX-n[1],minY:o.minY-n[0],maxX:o.maxX+n[1],maxY:o.maxY+n[0]}},setLabelEditorBeginPosition:function(t){var e=this.get("labelTextArea"),n=t.getLabel();if(n){var i=this._getLabelTextAreaBox(n),o=n.attr("lineHeight"),a=n.attr("fontSize"),s={x:i.minX,y:i.minY-o/4+a/4-1,width:i.maxX-i.minX,height:i.maxY-i.minY};e.css({top:s.y+"px",left:s.x+"px"}),e.labelPoint=s}else{var u=this.getGraph().getRootGroup(),c=t.getKeyShape(),h=r.getBBox(c,u),l={x:h.minY+(h.maxY-h.minY-e.height())/2,y:(h.minX+h.maxX)/2};e.css({top:l.x+"px",left:l.y+"px"}),e.labelPoint=l}},beginEditLabel:function(t){var e=this.get("labelTextArea"),n=this.getGraph();if(r.isString(t)&&(t=n.find(t)),t&&!t.destroyed&&e){this.setSignal("preventWheelPan",!0);var i=t.getModel(),o=t.getLabel(),a=n.getZoom();if(e.focusItem=t,o){var s=o.attr("lineHeight"),u=this._getLabelTextAreaBox(o),c=(u.maxX-u.minX)/a,h=(u.maxY-u.minY+s/4)/a;e.innerHTML=i.label,e.innerHTML=i.label,e.css({"min-width":c+"px","min-height":h+"px",visibility:"visible","font-family":o.attr("fontFamily"),"line-height":s+"px","font-size":o.attr("fontSize")+"px",transform:"scale("+a+")"})}else e.innerHTML="",e.css({"min-width":"auto","min-height":"auto"});this.setLabelEditorBeginPosition(t),e.css({visibility:"visible"}),e.focus(),document.execCommand("selectAll",!1,null)}},endEditLabel:function(){var t=this.get("labelTextArea");if(this.setSignal("preventWheelPan",!1),t){var e=t.focusItem;if(e)e.getModel().label!==t.textContent&&this.executeCommand("update",{action:"updateLabel",itemId:e.id,updateModel:{label:t.textContent}}),t.hide(),t.focusItem=void 0,this.focusGraphWrapper()}}},t.exports=i},function(t,e,n){var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var i=n(37),o=n(67),a=n(18);function s(t,e){return{line:t,point:e,dis:a.pointLineDistance(t[0],t[1],t[2],t[3],e.x,e.y)}}var u=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i),r(e,[{key:"getDefaultCfg",value:function(){return{line:o.alignLineStyle,item:!0,grid:!1,tolerance:5,_horizontalLines:{},_verticalLines:{},_alignLines:[]}}},{key:"init",value:function(){this.item&&this._cacheBoxLine()}},{key:"_cacheBoxLine",value:function(){var t=this.graph,e=this._horizontalLines,n=this._verticalLines,r=this.item;t.on("afteritemdraw",function(t){var i=t.item;if(!a.isEdge(i)){var o=i.getBBox();!0===r||"horizontal"===r?(e[i.id+"tltr"]=[o.minX,o.minY,o.maxX,o.minY,i],e[i.id+"lcrc"]=[o.minX,o.centerY,o.maxX,o.centerY,i],e[i.id+"blbr"]=[o.minX,o.maxY,o.maxX,o.maxY,i]):"center"===r&&(e[i.id+"lcrc"]=[o.minX,o.centerY,o.maxX,o.centerY,i]),!0===r||"vertical"===r?(n[i.id+"tlbl"]=[o.minX,o.minY,o.minX,o.maxY,i],n[i.id+"tcbc"]=[o.centerX,o.minY,o.centerX,o.maxY,i],n[i.id+"trbr"]=[o.maxX,o.minY,o.maxX,o.maxY,i]):"center"===r&&(n[i.id+"tcbc"]=[o.centerX,o.minY,o.centerX,o.maxY,i])}}),t.on("beforeitemdestroy",function(t){var r=t.item;delete e[r.id+"tltr"],delete e[r.id+"lcrc"],delete e[r.id+"blbr"],delete n[r.id+"tlbl"],delete n[r.id+"tcbc"],delete n[r.id+"trbr"]})}},{key:"align",value:function(t,e){var n=a.mix({},t),r=this.flow.getController("grid");return this.grid&&r&&r.visible&&this._gridAlign(t,e),this.item&&this._itemAlign(t,e,n),t}},{key:"_gridAlign",value:function(t,e){var n=this.flow,r=this.grid,i=n.getGridCell();if("cc"===r){var o=Math.round((t.x+e.width/2)/i)*i,a=Math.round((t.y+e.height/2)/i)*i;t.x=o-e.width/2,t.y=a-e.height/2}else t.x=Math.round(t.x/i)*i,t.y=Math.round(t.y/i)*i}},{key:"_itemAlign",value:function(t,e,n){var r=this._horizontalLines,i=this._verticalLines,o=this.tolerance,u={x:n.x+e.width/2,y:n.y},c={x:n.x+e.width/2,y:n.y+e.height/2},h={x:n.x+e.width/2,y:n.y+e.height},l={x:n.x,y:n.y+e.height/2},f={x:n.x+e.width,y:n.y+e.height/2},d=[],p=[],g=null;if(this.clearAlignLine(),a.each(r,function(t){t[4].isVisible()&&(d.push(s(t,u)),d.push(s(t,c)),d.push(s(t,h)))}),a.each(i,function(t){t[4].isVisible()&&(p.push(s(t,l)),p.push(s(t,c)),p.push(s(t,f)))}),d.sort(function(t,e){return t.dis-e.dis}),p.sort(function(t,e){return t.dis-e.dis}),0!==d.length&&d[0].dis<o){t.y=d[0].line[1]-d[0].point.y+n.y,g={type:"item",horizontals:[d[0]]};for(var v=1;v<3;v++)d[0].dis===d[v].dis&&g.horizontals.push(d[v])}if(0!==p.length&&p[0].dis<o){t.x=p[0].line[0]-p[0].point.x+n.x,g?g.verticals=[p[0]]:g={type:"item",verticals:[p[0]]};for(var m=1;m<3;m++)p[0].dis===p[m].dis&&g.verticals.push(p[m])}g&&(g.bbox=e,this._addAlignLine(g))}},{key:"clearAlignLine",value:function(){var t=this._alignLines;a.each(t,function(t){t.remove()}),this._alignLines=[]}},{key:"_addAlignLine",value:function(t){var e=t.bbox,n=this.graph.getFrontRootGroup(),r=this.line,i=this._alignLines;"item"===t.type&&(t.horizontals&&a.each(t.horizontals,function(t){var o=t.line,s=t.point,u=(o[0]+o[2])/2,c=void 0,h=void 0;s.x<u?(c=s.x-e.width/2,h=Math.max(o[0],o[2])):(c=s.x+e.width/2,h=Math.min(o[0],o[2]));var l=n.addShape("line",{attrs:a.mix({x1:c,y1:o[1],x2:h,y2:o[1]},r),capture:!1});i.push(l)}),t.verticals&&a.each(t.verticals,function(t){var o=t.line,s=t.point,u=(o[1]+o[3])/2,c=void 0,h=void 0;s.y<u?(c=s.y-e.height/2,h=Math.max(o[1],o[3])):(c=s.y+e.height/2,h=Math.min(o[1],o[3]));var l=n.addShape("line",{attrs:a.mix({x1:o[0],y1:c,x2:o[0],y2:h},r),capture:!1});i.push(l)}))}}]),e}();t.exports=u},function(t,e,n){var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(332),o={CFG:{align:{}},INIT:"_initAlign"};o.AUGMENT={_initAlign:function(){var t=this.get("align"),e=this.get("_graph"),n=new i(r({flow:this,graph:e},t));this.setController("align",n)},align:function(t,e,n){return this.getController("align").align(t,e,n)},clearAlignLine:function(){return this.getController("align").clearAlignLine()}},t.exports=o},function(t,e,n){var r=n(18),i={CFG:{activeable:!0,_activedCache:{}},INIT:"_initActived"};i.AUGMENT={_initActived:function(){var t=this,e=this.get("_graph");e.on("afteritemdraw",function(e){var n=e.item;n.isActived&&t.setItemActived(n)}),e.on("beforeitemdestroy",function(e){t.clearItemActived(e.item)})},setItemActived:function(t){var e=this.get("_graph").getShapeObj(t),n=this.get("_activedCache"),r=e.getActivedStyle(t),i=t.getKeyShape();n[t.id]=t,r&&i.attr(r),t.isEdge&&(i.startArrow&&i.startArrow.attr({fill:r.stroke}),i.endArrow&&i.endArrow.attr({fill:r.stroke}))},clearItemActived:function(t){var e=this.get("_graph"),n=t.getKeyShape(),i=e.getShapeObj(t),o=n.get("attrs"),a=this.get("_activedCache"),s=i.getActivedStyle(t),u=r.getContrast(o,s);n.attr(u),t.isEdge&&(n.startArrow&&n.startArrow.attr({fill:u.stroke}),n.endArrow&&n.endArrow.attr({fill:u.stroke})),delete a[t.id]},setActived:function(t,e){var n=this,i=this.get("activeable"),o=this.get("_graph");if(i){var a=void 0;a=r.isArray(t)?t:[t],r.each(a,function(t){r.isString(t)&&(t=o.find(t)),t&&!t.destroyed&&(e?(n.emit("beforeitemactived",{item:t}),n.setItemActived(t),n.emit("afteritemactived",{item:t})):(n.emit("beforeitemunactived",{item:t}),n.clearItemActived(t),n.emit("afteritemunactived",{item:t})),t.isActived=e)}),o.draw()}},getActived:function(){var t=this.get("_activedCache");return r.objectToValues(t)},clearActived:function(){var t=this,e=this.get("_graph").getFrontCanvas(),n=this.get("_activedCache");r.each(n,function(e){e.isActived&&t.setActived(e,!1)}),e.draw()}},t.exports=i},function(t,e,n){var r=n(18),i={CFG:{selectable:!0,multiSelectable:!0,_selectedCache:{}},INIT:"_initSelected"};i.AUGMENT={_initSelected:function(){var t=this,e=this.get("_graph");e.on("afteritemdraw",function(e){var n=e.item;n.isSelected&&t.setItemSelected(n)}),e.on("beforeitemdestroy",function(e){t.clearItemSelected(e.item)})},setItemSelected:function(t){var e=this.get("_graph").getShapeObj(t).getSelectedStyle(t),n=t.getKeyShape();this.get("_selectedCache")[t.id]=t,e&&n.attr(e),t.isEdge&&(n.startArrow&&n.startArrow.attr({fill:e.stroke}),n.endArrow&&n.endArrow.attr({fill:e.stroke}))},clearItemSelected:function(t){var e=this.get("_graph"),n=t.getKeyShape(),i=e.getShapeObj(t),o=n.get("attrs"),a=i.getSelectedStyle(t),s=this.get("_selectedCache"),u=r.getContrast(o,a);n.attr(u),t.isEdge&&(n.startArrow&&n.startArrow.attr({fill:u.stroke}),n.endArrow&&n.endArrow.attr({fill:u.stroke})),delete s[t.id]},setSelected:function(t,e){var n=this,i=this.get("selectable"),o=this.get("_graph");if(i){var a=void 0;a=r.isArray(t)?t:[t],r.each(a,function(t){r.isString(t)&&(t=o.find(t)),t&&!t.destroyed&&(e?(n.emit("beforeitemselected",{item:t}),n.setItemSelected(t),n.emit("afteritemselected",{item:t})):(n.emit("beforeitemunselected",{item:t}),n.clearItemSelected(t),n.emit("afteritemunselected",{item:t})),t.isSelected=e,n.updateStatus(),o.draw())})}},getSelected:function(){var t=this.get("_selectedCache");return r.objectToValues(t)},clearSelected:function(){var t=this,e=this.get("_graph").getFrontCanvas(),n=this.get("_selectedCache");r.each(n,function(e){e.isSelected&&t.setSelected(e,!1)}),e.draw()}},t.exports=i},function(t,e){var n={};function r(t,e,n){t.on(n,function(t){e.emit(n,t)}),t.on("node:"+n,function(t){e.emit("node:"+n,t)}),t.on("edge:"+n,function(t){e.emit("edge:"+n,t)}),t.on("group:"+n,function(t){e.emit("group:"+n,t)}),t.on("anchor:"+n,function(t){e.emit("anchor:"+n,t)})}n.INIT="_initEvent",n.AUGMENT={_initEvent:function(){var t=this,e=this.get("_graph");r(e,this,"click"),r(e,this,"dblclick"),r(e,this,"mouseenter"),r(e,this,"mouseleave"),r(e,this,"mousedown"),r(e,this,"mouseup"),r(e,this,"contextmenu"),e.on("keydown",function(e){t.emit("keydown",e)}),e.on("keyup",function(e){t.emit("keyup",e)}),e.on("beforechange",function(e){t.emit("beforechange",e)}),e.on("afterchange",function(e){t.emit("afterchange",e)}),e.on("afterviewportchange",function(e){t.emit("afterviewportchange",e),e.updateMatrix[0]!==e.originMatrix[0]&&t.emit("afterzoom",e)}),e.on("beforeviewportchange",function(e){t.emit("beforeviewportchange",e),e.updateMatrix[0]!==e.originMatrix[0]&&t.emit("beforezoom",e)})}},t.exports=n},function(t,e,n){var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var i=n(37),o=n(67),a=n(18),s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i),r(e,[{key:"getDefaultCfg",value:function(){return{cell:16,line:o.gridStyle,type:"point",visible:!0}}},{key:"init",value:function(){this._draw(),this._onViewPortChange(),!this.visible&&this.hide()}},{key:"_onViewPortChange",value:function(){var t=this,e=this.graph;e.on("afterviewportchange",function(){t.update()}),e.on("beforechangesize",function(){t.update()})}},{key:"_draw",value:function(){var t=this.graph,e=this._getPath(),n=t.getRootGroup(),r=a.mix({},this.line),i=t.getMatrix(),o=this.type,s="line"===o?1/i[0]:2/i[0];"point"===o&&(r.lineDash=null),r.lineWidth=s,r.path=e;var u=n.addShape("path",{attrs:r,capture:!1,zIndex:0});a.toBack(u,n),this.gridEl=u}},{key:"show",value:function(){this.gridEl.show(),this.visible=!0}},{key:"hide",value:function(){this.gridEl.hide(),this.visible=!1}},{key:"_getLinePath",value:function(){for(var t=this.graph,e=t.get("width"),n=t.get("height"),r=t.getPoint({x:0,y:0}),i=t.getPoint({x:e,y:n}),o=this.cell,a=Math.ceil(r.x/o)*o,s=Math.ceil(r.y/o)*o,u=[],c=0;c<=i.x-r.x;c+=o){var h=a+c;u.push(["M",h,r.y]),u.push(["L",h,i.y])}for(var l=0;l<=i.y-r.y;l+=o){var f=s+l;u.push(["M",r.x,f]),u.push(["L",i.x,f])}return u}},{key:"_getPointPath",value:function(){for(var t=this.graph,e=t.get("width"),n=t.get("height"),r=t.getPoint({x:0,y:0}),i=2/t.getMatrix()[0],o=t.getPoint({x:e,y:n}),a=this.getCell(),s=Math.ceil(r.x/a)*a,u=Math.ceil(r.y/a)*a,c=[],h=0;h<=o.x-r.x;h+=a)for(var l=s+h,f=0;f<=o.y-r.y;f+=a){var d=u+f;c.push(["M",l,d]),c.push(["L",l+i,d])}return c}},{key:"getCell",value:function(){var t=this.cell,e=this.graph.getMatrix()[0];return t*e<9.6?9.6/e:t}},{key:"_getPath",value:function(){var t=this.type;return this["_get"+a.upperFirst(t)+"Path"]()}},{key:"update",value:function(t){a.mix(this,t);var e=this._getPath(),n=this.gridEl,r=this.graph.getMatrix(),i="line"===this.type?1/r[0]:2/r[0];n.attr("lineWidth",i),n.attr("path",e)}},{key:"destroy",value:function(){var t=this.gridEl;t&&t.remove()}}]),e}();t.exports=s},function(t,e,n){var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(337),o=n(18),a={CFG:{grid:void 0},INIT:"_initGrid"};a.AUGMENT={_initGrid:function(){var t=this.get("grid"),e=this.get("_graph");if(t){var n=new i(r({flow:this,graph:e},t));this.setController("grid",n)}},showGrid:function(t){var e=this.get("_graph"),n=this.getController("grid");n||(t?o.isObject(t)&&this.set("grid",t):this.set("grid",!0),this._initGrid()),(n=this.getController("grid")).show(),e.draw()},hideGrid:function(){var t=this.get("_graph"),e=this.getController("grid");e&&e.hide(),t.draw()},getGridCell:function(){return this.getController("grid").getCell()}},t.exports=a},function(t,e,n){var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(18),o={INIT:"_initGraph"};o.AUGMENT={_initGraph:function(){var t=this.get("graph"),e=new(this.get("graphConstructor"))(r({page:this},t));e.draw(),this.set("_graph",e)},changeMode:function(t){this.get("_graph").changeMode(t)},updateMatrix:function(t){this.get("_graph").updateMatrix(t)},getMode:function(){return this.get("_graph").get("mode")},getMatrix:function(){return this.get("_graph").getMatrix()},getZoom:function(){return this.get("_graph").getMatrix()[0]},getMaxZoom:function(){return this.get("_graph").get("maxZoom")},getMinZoom:function(){return this.get("_graph").get("minZoom")},getGraph:function(){return this.get("_graph")},getItems:function(){return this.get("_graph").getItems()},getNodes:function(){return this.get("_graph").getNodes()},translate:function(t,e){return this.get("_graph").translate(t,e)},getEdges:function(){return this.get("_graph").getEdges()},getGroups:function(){return this.get("_graph").getGroups()},render:function(){return this.get("_graph").render(),this},add:function(t,e){return this.get("_graph").add(t,e),this},focusPointByDom:function(t){return this.get("_graph").focusPointByDom(t),this},focusPoint:function(t){return this.get("_graph").focusPoint(t),this},find:function(t){return this.get("_graph").find(t)},focus:function(t){var e=this.get("_graph"),n=e.find(t);if(n){var r=n.getCenter();e.focusPoint(r)}return this},save:function(){return this.get("_graph").save()},read:function(t){this.get("_graph").read(t)},clear:function(){this.get("_graph").clear()},remove:function(t){return this.get("_graph").remove(t),this},update:function(t,e){return this.get("_graph").update(t,e),this},zoom:function(t,e){return this.get("_graph").zoom(t,e),this},getDomPoint:function(t){return this.get("_graph").getDomPoint(t)},getPoint:function(t){return this.get("_graph").getPoint(t)},zoomByDom:function(t,e){var n=this.get("_graph"),r=n.getPoint(t);return n.zoom(r,e),this},autoZoom:function(){return this.get("_graph").autoZoom(),this},resetZoom:function(){var t=this.get("_graph"),e=t.getWidth(),n=t.getHeight();return t.zoomByDom({x:e/2,y:n/2},1),this},css:function(t){var e=this.get("_graph").getMouseEventWrapper();i.modifyCSS(e,t)},setCapture:function(t){this.get("_graph").getRootGroup().set("capture",t)},destroy:function(){this.get("_graph").destroy()},forceDraw:function(){var t=this.get("_graph").getCanvas(),e=t.get("context");t.constructor.superclass.draw.call(t,e)},delete:function(){var t=this.getSelected(),e=this.get("_graph");i.each(t,function(t){e.remove(t)})}},t.exports=o},function(t,e){t.exports="1.0.7"},function(t,e,n){var r=n(96);r.registerCommand("collapseExpand",{getItem:function(t){var e=t.getCurrentPage(),n=e.getGraph();return this.itemId?n.find(this.itemId):e.getSelected()[0]},enable:function(t){var e=this.getItem(t);return e&&!1!==e.collapseExpand&&e.getChildren().length>0},execute:function(t){var e=t.getCurrentPage(),n=e.getGraph(),r=this.getItem(t);r.getModel().collapsed?(n.update(r,{collapsed:!1}),this.toCollapsed=!1):(n.update(r,{collapsed:!0}),this.toCollapsed=!0),e.clearSelected(),e.setSelected(r,!0),1===this.executeTimes&&(this.itemId=r.id)},back:function(t){var e=t.getCurrentPage(),n=e.getGraph(),r=this.getItem(t);this.toCollapsed?n.update(r,{collapsed:!1}):n.update(r,{collapsed:!0}),e.clearSelected(),e.setSelected(r,!0)},shortcutCodes:[["metaKey","/"],["ctrlKey","/"]]}),r.registerCommand("collapse",{enable:function(t){var e=this.getItem(t);return e&&!1!==e.collapseExpand&&e.getChildren().length>0&&!e.getModel().collapsed}},"collapseExpand"),r.registerCommand("expand",{enable:function(t){var e=this.getItem(t);return e&&!1!==e.collapseExpand&&e.getChildren().length>0&&e.getModel().collapsed}},"collapseExpand")},function(t,e,n){var r=n(96);function i(t){var e=t.getCurrentPage();this.matrixCache=e.getMatrix().slice(0),this._zoom(t),e.updateStatus()}function o(t){t.getCurrentPage().updateMatrix(this.matrixCache)}r.registerCommand("zoomTo",{_zoom:function(t){t.getCurrentPage().zoom(Number(this.zoom))},queue:!1,execute:i,back:o}),r.registerCommand("zoomIn",{enable:function(t){var e=t.getCurrentPage(),n=e.getMaxZoom(),r=e.getMinZoom(),i=e.getZoom();return i<n||i===r},_zoom:function(t){var e=t.getCurrentPage(),n=t.get("_command"),r=e.getZoom(),i=e.getMaxZoom(),o=r+n.zoomDelta;o>=i&&(o=i),e.zoom(o)},queue:!1,execute:i,back:o,shortcutCodes:[["metaKey","="],["ctrlKey","="]]}),r.registerCommand("zoomOut",{enable:function(t){var e=t.getCurrentPage(),n=e.getMaxZoom(),r=e.getMinZoom(),i=e.getZoom();return i>r||i===n},_zoom:function(t){var e=t.getCurrentPage(),n=e.getZoom(),r=e.getMinZoom(),i=n-t.get("_command").zoomDelta;i<=r&&(i=r),e.zoom(i)},queue:!1,execute:i,back:o,shortcutCodes:[["metaKey","-"],["ctrlKey","-"]]}),r.registerCommand("autoZoom",{enable:function(){return!0},_zoom:function(t){t.getCurrentPage().autoZoom()},queue:!1,execute:i,back:o}),r.registerCommand("resetZoom",{enable:function(){return!0},_zoom:function(t){t.getCurrentPage().resetZoom()},queue:!1,execute:i,back:o,shortcutCodes:[["metaKey","0"],["ctrlKey","0"]]})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){for(var e=[],n=(0,r.default)(t),i=c;i>0;i-=1){var o=n.toHsv(),a=(0,r.default)({h:l(o,i,!0),s:f(o,i,!0),v:d(o,i,!0)}).toHexString();e.push(a)}e.push(n.toHexString());for(var s=1;s<=h;s+=1){var u=n.toHsv(),p=(0,r.default)({h:l(u,s),s:f(u,s),v:d(u,s)}).toHexString();e.push(p)}return e};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(207));var i=2,o=16,a=5,s=5,u=15,c=5,h=4;function l(t,e,n){var r=void 0;return(r=Math.round(t.h)>=60&&Math.round(t.h)<=240?n?Math.round(t.h)-i*e:Math.round(t.h)+i*e:n?Math.round(t.h)+i*e:Math.round(t.h)-i*e)<0?r+=360:r>=360&&(r-=360),r}function f(t,e,n){var r=void 0;return(r=n?Math.round(100*t.s)-o*e:e===h?Math.round(100*t.s)+o:Math.round(100*t.s)+a*e)>100&&(r=100),n&&e===c&&r>10&&(r=10),r<6&&(r=6),r}function d(t,e,n){return n?Math.round(100*t.v)+s*e:Math.round(100*t.v)-u*e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.presetPrimaryColors=e.presetPalettes=e.generate=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(343));var i={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96"},o={};Object.keys(i).forEach(function(t){o[t]=(0,r.default)(i[t])}),e.generate=r.default,e.presetPalettes=o,e.presetPrimaryColors=i},function(t,e,n){var r=n(34).Util;t.exports={getGroupIconPath:function(){return"M9.75,9.60000014 L3.75,9.60000014 C3.33578644,9.60000014 3,9.2865995 3,8.90000022 C3,8.51340093 3.33578644,8.20000029 3.75,8.20000029 L9.75,8.20000029 C10.1642136,8.20000029 10.5,8.51340093 10.5,8.90000022 C10.5,9.2865995 10.1642136,9.60000014 9.75,9.60000014 M3,11.6999999 C3,11.3134006 3.33578644,11 3.75,11 L6.75,11 C7.16421356,11 7.5,11.3134006 7.5,11.6999999 C7.5,12.0865992 7.16421356,12.3999999 6.75,12.3999999 L3.75,12.3999999 C3.33578644,12.3999999 3,12.0865992 3,11.6999999 M3.75,13.7999997 L6.75,13.7999997 C7.16421356,13.7999997 7.5,14.1134004 7.5,14.4999996 C7.5,14.8865989 7.16421356,15.1999996 6.75,15.1999996 L3.75,15.1999996 C3.33578644,15.1999996 3,14.8865989 3,14.4999996 C3,14.1134004 3.33578644,13.7999997 3.75,13.7999997 M16.4985,4.00000072 L1.5015,4.00000072 C0.674533504,3.99922416 0.00289396564,4.6232696 0,5.39510058 L0,16.6048994 C0.00289396564,17.3767304 0.674533504,18.0007758 1.5015,17.9999993 L16.4985,17.9999993 C17.3254665,18.0007758 17.997106,17.3767304 18,16.6048994 L18,5.39510058 C17.997106,4.6232696 17.3254665,3.99922416 16.4985,4.00000072M19,13.9999993 L19,3 L5,3 L5,1.39510058 C5.00289397,0.623269599 5.6745335,-0.00077583787 6.5015,7.23978642e-07 L21.4985,7.23978642e-07 C22.3254665,-0.00077583787 22.997106,0.623269599 23,1.39510058 L23,12.6048994 C22.997106,13.3767304 22.3254665,14.0007758 21.4985,13.9999993 L19,13.9999993 Z"},getCollapsedButtonPath:function(){return r.getRectPath(0,0,14,14,2)+"M3,7L11,7"},getExpandedButtonPath:function(){return r.getRectPath(0,0,14,14,2)+"M3,7L11,7M7,3L7,11"}}},function(t,e,n){var r=n(38),i=n(98);setTimeout(function(){if(r.trackable){var t=new Image,e={pg:document.URL,r:(new Date).getTime(),g6:!0,version:i,page_type:"syslog"},n=encodeURIComponent(JSON.stringify([e]));t.src="https://kcart.alipay.com/web/bi.do?BIProfile=merge&d="+n}},3e3)},function(t,e,n){var r=n(70),i=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return i.layout=r.mindmap,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(n(69));t.exports=i},function(t,e,n){var r=n(70),i=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return i.layout=r.indented,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(n(69));t.exports=i},function(t,e,n){var r=n(70),i=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return i.layout=r.dendrogram,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(n(69));t.exports=i},function(t,e,n){var r=n(70),i=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return i.layout=r.compactBox,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(n(69));t.exports=i},function(t,e,n){var r=n(11),i=n(147),o=n(144),a=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=r.mix({layout:new o.CompactBoxTree({getHGap:function(){return 10},getVGap:function(){return 10}})},n);return function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.initEvent=function(){var t=this;this.on("afterdrawinner",function(){t.get("_sourceData").roots.forEach(function(e){var n=t.find(e.id);t._setVisibleByCollapsed(n)})})},e.prototype._executeLayout=function(t){var e=this.get("_sourceData");r.isFunction(t)?t(e.roots,this):r.isObject(t)&&(t.roots=e.roots,t.graph=this,t.execute())},e.prototype.getHierarchy=function(t){t=this.getItem(t);for(var e=this.get("_dataMap"),n=t.getModel().parent,r=1;n;)n=e[n].parent,r++;return r},e.prototype.parseSource=function(t){var e=t.roots,n=this.get("_dataMap"),i=[],o=[];return e.forEach(function(t){r.traverseTree(t,function(t,e){t.id||(t.id=r.guid()),e||(e=n[t.parent]),e&&(t.parent=e.id,e.id||(e.id=r.guid()),o.push({source:e.id,target:t.id,id:e.id+"-"+t.id})),i.push(t)},function(t){return t.children},!0)}),{nodes:i,edges:o}},e.prototype._setVisibleByCollapsed=function(t){t.getModel().collapsed?t.deepEach(function(t){t.hide(),t.getEdges().forEach(function(t){t.hide()})}):t.deepEach(function(t){t.collapsedParent&&(t.hide(),t.getEdges().forEach(function(t){t.hide()}))})},e.prototype.source=function(t){var e=this.parseSource(t);this.emit("beforesource"),this.set("_sourceData",t),this.set("_data",e),this.emit("aftersource")},e.prototype.setNodeNth=function(t,e){var n=t.getModel(),i=t.getParent().getModel().children;r.Array.remove(i,n),i.splice(e,0,n)},e.prototype.getNth=function(t){var e=t.getModel();return t.getParent().getModel().children.indexOf(e)},e.prototype.add=function(t,e){var n=this.get("_dataMap")[e.parent],i={action:"add",model:e},o=void 0;if("node"===t||"guide"===t){if(this.emit("beforechange",i),"node"===t){if(!n)throw new Error("please set available parent Id !");r.isArray(n.children)?n.children.push(e):n.children=[e];var a=this.parseSource({roots:[e]});this.addItems("node",a.nodes),this.addItems("edge",a.edges),o=this.find(e.id),this._setVisibleByCollapsed(o),r.isNil(e.nth)||this.setNodeNth(o,e.nth),this.find(n.id).forceUpdate()}else this.addItems(t,[e]),o=this.find(e.id);return i.item=o,this.emit("afterchange",i),this.draw(),o}console.warn("Tree do not support add type "+t+"!")},e.prototype.update=function(t,e){var n=this;if(e){var i=(t=this.getItem(t)).getModel(),o=r.mix({},i),a={action:"update",item:t,originModel:o,updateModel:e};if(e&&this.emit("beforechange",a),this.updateItem(t,e),t.isNode){if("collapsed"in e&&(e.collapsed?t.deepEach(function(t){t.hide(),t.getEdges().forEach(function(t){t.hide()})}):t.deepEach(function(t){t.show(),t.getEdges(function(e){return e.getModel().target===t.id}).forEach(function(t){t.show()})},function(t){return t.model.collapsed?null:t.getChildren()})),e.parent){var s=this.find(o.id).getModel(),u=this.find(e.parent).getModel();r.Array.remove(s.children,i),u.children?u.children.push(i):u.children=[i],this.find(u.id).forceUpdate()}r.isArray(e.children)&&(o.children&&r.each(o.children,function(t){var e=[n.find(t)];t.getEdges().forEach(function(t){e.push(t)}),n.removeItems(e)}),r.each(e.children,function(t){var e=n.parseSource({roots:[t]});n.addItems("node",e.nodes),n.addItems("edge",e.edges)})),r.isNil(e.nth)||this.setNodeNth(t,e.nth);var c=this.find(i.parent);c&&c.forceUpdate()}return this.emit("afterchange",a),this.draw(),this}},e.prototype.remove=function(t){var e=this.get("_dataMap"),n=[];if((t=this.getItem(t))&&!t.destroyed){var i={action:"remove",item:t};if(this.emit("beforechange",i),n.push(t),t.getEdges().forEach(function(t){n.push(t)}),"node"===t.type){var o=t.getModel(),a=e[o.parent];t.deepEach(function(t){n.push(t),t.getEdges().forEach(function(t){n.push(t)})}),r.Array.remove(a.children,o),this.find(a.id).forceUpdate()}return this.removeItems(r.uniq(n)),this.emit("afterchange",i),this.draw(),this}},e.prototype.getRoots=function(){var t=this;return this.getSource().roots.map(function(e){return t.find(e.id)})},e.prototype.save=function(){var t={roots:r.cloneDeep(this.getSource().roots),guides:this.getGuides().map(function(t){return t.getModel()})};return 0===t.roots.length&&delete t.roots,0===t.guides.length&&delete t.guides,t},e}(i);t.exports=a},function(t,e,n){var r=n(11),i={INIT:"_initForceFit"};i.AUGMENT={_initForceFit:function(){var t=this.get("width"),e=this.get("height");return t||e?t?e?void 0:(this.forceFit("height"),void this._bindForceEvent("height")):(this.forceFit("width"),void this._bindForceEvent("width")):(this.forceFit(),void this._bindForceEvent())},_bindForceEvent:function(t){var e=this,n=this._getTimer("forceFit"),r=function(){var r=setTimeout(function(){e.forceFit(t)},200);n&&clearTimeout(n),e._setTimer("forceFit",r)};window.addEventListener("resize",r),this.set("_windowForceResizeEvent",r)},forceFit:function(t){var e=this.get("_containerDOM"),n=this.get("width"),i=this.get("height"),o=r.getHeight(e),a=r.getWidth(e);return"width"===t?(this.changeSize(a,i),this):"height"===t?(this.changeSize(n,o),this):(this.changeSize(a,o),this)}},t.exports=i},function(t,e,n){var r=n(11),i={CFG:{fitView:void 0,fitViewPadding:10,minZoom:.2,maxZoom:10}};i.AUGMENT={getBBox:function(){return this.get("_itemGroup").getBBox()},getFitViewPadding:function(){return r.toAllPadding(this.get("fitViewPadding"))},setFitView:function(t){if(!t)return this;if("autoZoom"===t)return this.autoZoom(),this;var e=this.getFitViewPadding(),n=this.get("width"),i=this.get("height"),o=this.getBBox(),a=o.maxX-o.minX,s=o.maxY-o.minY,u={x:0,y:0,width:n,height:i},c=r.getNineBoxPosition(t,u,a,s,e),h=[1,0,0,0,1,0,0,0,1];r.mat3.translate(h,h,[-o.minX+c.x,-o.minY+c.y]),this.updateMatrix(h)},_getZoomRatio:function(t){var e=this.get("maxZoom"),n=this.get("minZoom");return t<n&&(t=n),t>e&&(t=e),t},autoZoom:function(t){t||(t=this.getFitViewPadding());var e=[1,0,0,0,1,0,0,0,1],n=this.get("width"),i=this.get("height"),o=this.getBBox(),a=(o.maxX+o.minX)/2,s=(o.maxY+o.minY)/2,u=n-t[1]-t[3],c=i-t[0]-t[2],h=o.maxX-o.minX,l=o.maxY-o.minY,f=Math.min(c/l,u/h);f=this._getZoomRatio(f),r.mat3.translate(e,e,[-a,-s]),r.mat3.scale(e,e,[f,f]),r.mat3.translate(e,e,[n/2,i/2]),this.updateMatrix(e)},getZoom:function(){return this.getMatrix()[0]},updateMatrix:function(t){var e=this.get("_rootGroup"),n=this.get("_frontRootGroup"),r={updateMatrix:t,originMatrix:this.getMatrix()};return this.emit("beforeviewportchange",r),e.setMatrix(t),n.setMatrix(t),this.emit("afterviewportchange",r),this.draw(),this},zoom:function(t,e){if(!r.isNumber(t)){e=this._getZoomRatio(e);var n=this.get("_rootGroup"),i=r.clone(n.getMatrix()),o=i[6]+i[0]*t.x-e*t.x,a=i[7]+i[0]*t.y-e*t.y;return i[6]=0,i[7]=0,i[0]=e,i[4]=e,r.mat3.translate(i,i,[o,a]),this.updateMatrix(i),this}var s=this.get("width"),u=this.get("height");this.zoomByDom({x:s/2,y:u/2},t)},zoomByDom:function(t,e){var n=this.getPoint(t);return this.zoom(n,e),this},translate:function(t,e){var n=this.get("_rootGroup").getMatrix();return r.mat3.translate(n,n,[t,e]),this.updateMatrix(n),this},translateByDom:function(t,e){var n=this.get("_rootGroup").getMatrix()[0];return this.translate(t/n,e/n),this},getMatrix:function(){return this.get("_rootGroup").getMatrix()},getPoint:function(t){return this.getPointByDom(t)},getPointByDom:function(t){var e=this.get("_rootGroup").getMatrix();return r.invertMatrix(t,e)},getPointByCanvas:function(t){var e=this.get("_canvas").get("pixelRatio");return this.getPoint({x:t.x/e,y:t.y/e})},getPointByClient:function(t){var e=this.get("_canvas").getPointByClient(t.x,t.y);return this.getPointByCanvas(e)},getDomPoint:function(t){var e=this.get("_rootGroup").getMatrix();return r.applyMatrix(t,e)},getCanvasPoint:function(t){var e=this.get("_canvas").get("pixelRatio"),n=this.getDomPoint(t);return{x:n.x*e,y:n.y*e}},getClientPoint:function(t){var e=this.getCanvasPoint(t),n=this.get("_canvas").getClientByPoint(e.x,e.y);return{x:n.clientX,y:n.clientY}},focus:function(t){if(r.isString(t)&&(t=this.find(t)),t){var e=t.getCenter();this.focusPoint(e)}return this},navigate:function(t){r.isString(t)&&(t=this.find(t));var e=0,n=0,i=this.get("_rootGroup").getMatrix();if(t){var o=t.getCenter(),a=this.get("width")-16,s=this.get("height")-16,u=t.getBBox(),c=(u.maxX-u.minX)/2,h=(u.maxX-u.minX)/2;i[0]*o.x+i[6]<0?e=-i[6]+i[0]*c-i[0]*o.x:i[0]*o.x+i[6]>a&&(e=-i[6]+a-i[0]*c-i[0]*o.x),i[0]*o.y+i[7]<0?n=-i[7]+i[0]*h-i[0]*o.y:i[0]*o.y+i[7]>s&&(n=-i[7]+s-i[0]*h-i[0]*o.y)}return this.translate(e,n),this},focusPoint:function(t){var e=this.get("_rootGroup").getMatrix(),n=this.get("width"),r=this.get("height"),i=-e[6]+n/2-e[0]*t.x,o=-e[7]+r/2-e[0]*t.y;return this.translate(i,o),this},focusPointByDom:function(t){var e=this.getPoint(t);return this.focusPoint(e),this}},t.exports=i},function(t,e,n){var r=n(71),i=n(11),o=n(38);var a=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return r._init(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._init=function(){var t=this;this.graph.on("afteritemdraw",function(e){t.cacheKeyFrame(e.item)})},e.prototype.cacheKeyFrame=function(t){var e=this.keyFrameCache,n=t.getGraphicGroup();t.isEdge&&n.setMatrix([1,0,0,0,1,0,0,0,1]),n.deepEach(function(n){var r=n.gid,o={matrix:i.clone(n.getMatrix())};n.isItemContainer&&(o.enterAnimate=t.getEnterAnimate(),o.leaveAnimate=t.getLeaveAnimate()),n.isShape&&(o.attrs=n.getAttrs()),o.item=t,e[r]=o},!0)},e.prototype._compare=function(){var t=this.stash0,e=this.stash1,n=[],r=[],o=[];i.each(e,function(e,r){t[r]?e.element.get("type")===t[r].element.get("type")&&o.push(r):n.push(r)}),i.each(t,function(t,n){e[n]||r.push(n)}),this.enterElements=n,this.leaveElements=r,this.updateElements=o},e.prototype._addTween=function(){var t=this.enterElements,e=this.leaveElements,n=this.updateElements,r=this.stash0,a=this.stash1,s=this.keyFrameCache;i.each(t,function(t){var e=s[t],n=e.enterAnimate;n&&n(e.item,r.element,a.element)}),i.each(e,function(t){var e=s[t],n=e.leaveAnimate;if(n){var i=r[t].element;i.getParent().add(i),n(e.item,r,a)}}),i.each(n,function(t){var e=s[t],n=a[t],u=r[t],c=n.element,h=u.element;u.attrsStash&&c.attr(u.attrsStash),c.setMatrix(u.matrixStash),function(t,e){t.set("capture",!1),t.animate(e,o.updateDuration,o.updateEasing,function(){t.set("capture",!0)})}(c,i.mix({},e.attrs,{matrix:e.matrix})),h!==c&&h.remove()})},e.prototype.getDefaultCfg=function(){return{graph:null,canvases:null,stash0:null,stash1:null,keyFrameCache:{}}},e.prototype.run=function(){this.graph.destroyed||(this.updateStash(),this.count<5e3&&(this._compare(),this._addTween()),i.each(this.canvases,function(t){t.draw()}))},e.prototype.updateStash=function(){var t=this.canvases,e=this.elementsStash,n={},r=0;e=e||{},i.each(t,function(t){r+=function t(e,n,r){var o=n.get("children");return i.each(o,function(n){r++;var o=n.gid;if(n.isGroup&&(r=t(e,n,r)),!i.isNil(o)){var a={matrixStash:i.clone(n.getMatrix()),element:n};if(n.isShape){var s=n.get("attrs");a.attrsStash={},i.each(s,function(t,e){a.attrsStash[e]=n.attr(e)})}e[o]=a}}),r}(n,t,0)}),this.elementsStash=n,this.stash0=e,this.stash1=n,this.count=r},e}(r);t.exports=a},function(t,e,n){var r=n(11),i=n(354),o={INIT:"_initAnimate"};o.CFG={animate:!1,forcePreventAnimate:!1,_enterAnimate:function(t){var e=t.getGraphicGroup(),n=e.getMatrix(),i=r.getBBox(e,n),o=(i.minX+i.maxX)/2,a=(i.minY+i.maxY)/2;r.scaleIn(e,o,a)},_leaveAnimate:function(t){var e=t.getGraphicGroup(),n=e.getMatrix(),i=r.getBBox(e,n),o=(i.minX+i.maxX)/2,a=(i.minY+i.maxY)/2;r.scaleOut(e,o,a)}},o.AUGMENT={_initAnimate:function(){var t=this,e=this.get("_controllers"),n=this.get("animate"),o=this.get("_canvas"),a=this.get("_frontCanvas"),s=void 0;n&&(s=new i({canvases:[o,a],graph:this}),e.animate=s);var u=function(){o.draw(),a.draw()},c=r.debounce(function(){s.run()},16);if(s){var h=void 0;this.draw=function(){t.get("forcePreventAnimate")?(h&&clearTimeout(h),h=setTimeout(function(){s.updateStash()},16),u()):c()}}else this.draw=u},drawFrontCanvas:function(){this.get("_frontCanvas").draw()}},t.exports=o},function(t,e,n){var r=n(11),i={INIT:"_initFilter",CFG:{filters:[]}};i.AUGMENT={_initFilter:function(){var t=this,e=this.get("filters");r.isFunction(e)&&this.set("filters",[e]),this.on("afterchange",function(n){var r=n.action;e.length>0&&"changeData"===r&&!t.destroyed&&t.filter()})},addFilter:function(t){return this.get("filters").push(t),t},removeFilter:function(t){var e=this.get("filters");this.set("filters",r.filter(e,t))},filter:function(){var t=this.get("filters"),e=this.getItems(),n=this.getItems();t.forEach(function(t){n=r.filter(n,t)}),e.forEach(function(t){-1===n.indexOf(t)?t.hide():t.show()}),this.draw()}},t.exports=i},function(t,e,n){var r=n(11),i=n(148),o={CFG:{modes:{},mode:"default"},INIT:"_initModes"};o.AUGMENT={_initModes:function(){this._eventStash={};var t=this.get("modes"),e=this.get("mode");r.isEmpty(t)&&(t=r.cloneDeep(this.constructor.Modes),this.set("modes",t)),this.changeMode(e)},changeMode:function(t){var e=this.get("modes");r.isEmpty(e)||r.isEmpty(e[t])||(i.resetMode(e[t],this),this.set("mode",t))},addBehaviour:function(t){var e=this.get("modes"),n=this.get("mode");r.isEmpty(e[n])&&(e[n]=[]);var o=e[n],a=[].concat(t);return r.each(a,function(t){-1===o.indexOf(t)&&o.push(t)}),i.resetMode(e[n],this),this},removeBehaviour:function(t){var e=this.get("modes")[this.get("mode")];if(!r.isEmpty(e)){var n=[].concat(t);return e=e.filter(function(t){return-1===n.indexOf(t)}),i.resetMode(e,this),this}},behaviourOn:function(t,e){var n=this._eventStash;n[t]||(n[t]=[]),n[t].push(e),this.on(t,e)},_off:function(){var t=this,e=this._eventStash;r.each(e,function(e,n){r.each(e,function(e){t.off(n,e)})}),this._eventStash={}}},t.exports=o},function(t,e,n){var r=n(71),i=n(11),o={MOUSEMOVE:"mousemove",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",CLICK:"click",DBLCLICK:"dblclick",DRAGSTART:"dragstart",DRAG:"drag",DRAGENTER:"dragenter",DRAGLEAVE:"dragleave",DRAGEND:"dragend",DROP:"drop",CONTEXTMENU:"contextmenu",MOUSEWHEEL:"mousewheel",KEYDOWN:"keydown",KEYUP:"keyup",KEYPRESS:"keypress"},a=[o.DBLCLICK,o.MOUSEDOWN,o.MOUSEUP,o.MOUSEENTER,o.MOUSELEAVE,o.MOUSEMOVE,o.CONTEXTMENU,o.MOUSEWHEEL],s=[o.KEYDOWN,o.KEYUP,o.KEYPRESS],u=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return r._domEvents=[],r._initEventStates(),r._registerEvents(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._initEventStates=function(){this._pressing=!1,this._dragging=!1,this._currentEventObj=null,this._dragEventObj={}},e.prototype._registerEvents=function(){this._registerMouseEvents(),this._registerKeyboardEvents()},e.prototype._registerKeyboardEvents=function(){var t=this.graph,e=t.getKeyboardEventWrapper(),n=this._domEvents,r=t.get("keyboardEnable");i.each(s,function(o){n.push(i.addEventListener(e,o,function(e){var n=!0;i.isFunction(r)&&(n=r()),n&&t.emit(o,{domEvent:e})}))})},e.prototype._registerMouseEvents=function(){var t=this,e=this,n=this.graph.getMouseEventWrapper(),r=this._domEvents;i.each(a,function(a){r.push(i.addEventListener(n,a,function(n){var r=t._currentEventObj;t._oldEventObj=r,t._processEventObj(n);var a=t._currentEventObj;e._simulateEvents(n,r,a),-1!==[o.MOUSELEAVE,o.MOUSEENTER].indexOf(n.type)&&e._triggerEvent("canvas:"+n.type),e._triggerEvent(n.type),n.type===o.MOUSELEAVE&&(t._dragging&&e._triggerEvent(o.DRAGLEAVE,i.mix({},a,{item:null,shape:null,currentItem:t._dragEventObj.item,currentShape:t._dragEventObj.shape})),e._initEventStates())}))})},e.prototype.destroy=function(){var t=this._domEvents;i.each(t,function(t){t&&t.remove()}),this._domEvents=null},e.prototype._triggerEvent=function(t,e){if(e||(e="mouseleave"===t?this._oldEventObj:this._currentEventObj),"mousedown"===t&&(e.button=this._button),e._type=t,this.emitGraphEvent(t,e),-1===["canvas:"+o.MOUSELEAVE,"canvas:"+o.MOUSEENTER].indexOf(t)){var n=e.shape&&e.shape.eventPreFix;if(-1!==[o.DRAGSTART,o.DRAG,o.DRAGEND].indexOf(t)&&(n=e.currentShape&&e.currentShape.eventPreFix),n){var r=n+":"+t;e._type=r,i.isBoolean(e._isItemChange)?e._isItemChange&&this.emitGraphEvent(r,e):this.emitGraphEvent(r,e)}}},e.prototype.emitGraphEvent=function(t,e){this.graph.emit(t,e)},e.prototype._getDistanceToPress=function(t){return Math.pow(t.clientX-this._pressX,2)+Math.pow(t.clientY-this._pressY,2)},e.prototype._simulateEvents=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this._dragEventObj.item,a=this._dragEventObj.shape;switch(t.type){case o.MOUSEDOWN:this._pressing=!0,this._button=t.button,this._pressX=t.clientX,this._pressY=t.clientY;break;case o.MOUSEMOVE:if(this._dragging){if(this._triggerEvent(o.DRAG,i.mix({},n,{button:this._button,currentItem:r,currentShape:a})),e.shape!==n.shape){var s=this._isItemChange(e,n);e.shape&&this._triggerEvent(o.DRAGLEAVE,i.mix({},n,{button:this._button,item:e.item,shape:e.shape,toItem:n.item,toShape:n.shape,currentItem:r,currentShape:a,_isItemChange:s})),n.shape&&this._triggerEvent(o.DRAGENTER,i.mix({},n,{button:this._button,currentItem:r,currentShape:a,fromItem:e.item,fromShape:e.shape,_isItemChange:s}))}}else this._pressing&&this._getDistanceToPress(t)>9&&(this._dragging=!0,this._dragEventObj=n,r=this._dragEventObj.item,a=this._dragEventObj.shape,this._triggerEvent(o.DRAGSTART,i.mix({},n,{button:this._button,currentItem:r,currentShape:a})));if(e.shape!==n.shape){var u=this._isItemChange(e,n);e.shape&&this._triggerEvent(o.MOUSELEAVE,i.mix({},n,{item:e.item,shape:e.shape,toItem:n.item,toShape:n.shape,_isItemChange:u})),n.shape&&this._triggerEvent(o.MOUSEENTER,i.mix({},n,{fromtItem:e.item,fromShape:e.shape,_isItemChange:u}))}break;case o.MOUSEUP:!this._dragging&&this._pressing?this._triggerEvent(o.CLICK,i.mix({},n,{button:this._button})):(this._triggerEvent(o.DROP,i.mix({},n,{button:this._button,currentItem:r,currentShape:a})),this._triggerEvent(o.DRAGEND,i.mix({},n,{button:this._button,currentItem:r,currentShape:a}))),this._pressing=!1,this._dragging=!1,this._dragEventObj={};break;default:return}},e.prototype._isItemChange=function(t,e){var n=t.shape,r=e.shape,o=n&&r&&(n.get("isItemChange")||r.get("isItemChange"));return o?o(r,n):i.isObject(t.item)&&i.isObject(e.item)?t.item.id!==e.item.id:t.item!==e.item},e.prototype._processEventObj=function(t){var e=this.graph,n=e.get("_canvas"),r=e.get("_frontCanvas"),i=this._getEventObj(t,n),o=this._getEventObj(t,r);o.shape&&(i.shape=o.shape,i.item=o.item),i.frontEvObj=o,this._currentEventObj=i},e.prototype._parsePoint=function(t,e){return this.graph.getPointByCanvas({x:t,y:e})},e.prototype._getEventObj=function(t,e){var n=this.graph,r=t.clientX,i=t.clientY,o=e.getPointByClient(r,i),a=this._parsePoint(o.x,o.y),s=e.getShape(o.x,o.y),u=n.getItemByShape(s),c=e.get("pixelRatio");return{item:u,shape:s,x:a.x,y:a.y,domX:o.x/c,domY:o.y/c,domEvent:t}},e}(r);t.exports=u},function(t,e,n){var r={},i=n(358);r.INIT="_initEvents",r.CFG={keyboardEnable:!0},r.AUGMENT={_initEvents:function(){this.get("_controllers").events=new i({graph:this})}},t.exports=r},function(t,e,n){var r=n(11),i={};i.AUGMENT={find:function(t){return this.get("_itemMap")[t]},getNodes:function(){return this.get("_itemMap")._nodes},getEdges:function(){return this.get("_itemMap")._edges},getGroups:function(){return this.get("_itemMap")._groups},getGuides:function(){return this.get("_itemMap")._guides},getItems:function(){var t=this.get("_itemMap"),e=[];return r.each(t,function(t){t.type&&e.push(t)}),e},getItemByShape:function(t){return t?this.getItem(t.id):null},getItem:function(t){var e=this.get("_itemMap");return r.isObject(t)?t.destroyed&&(t=e[t.id]):t=e[t],t}},t.exports=i},function(t,e,n){var r=n(71),i=n(11),o=["color","shape","size","label","style"],a=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return r._init(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._init=function(){var t=this,e={};i.each(o,function(n){e[n]={},t[n]=function(r){return e[n].input=r,t}}),this.channels=e},e.prototype.addChannels=function(t){var e=this.channels;i.each(t,function(t,n){e[n]={input:t}})},e.prototype.mapping=function(t){var e=this.channels;i.each(e,function(e,n){i.isNil(t[n])&&(i.isFunction(e.input)?t[n]=e.input(t):e.input&&(t[n]=e.input))})},e}(r);t.exports=a},function(t,e,n){var r=n(361),i={INIT:"_initMapper"};i.AUGMENT={_initMapper:function(){var t=this.get("_controllers");t.nodeMapper=new r({graph:this}),t.edgeMapper=new r({graph:this}),t.groupMapper=new r({graph:this}),t.guideMapper=new r({graph:this})},node:function(t){var e=this._getController("nodeMapper");return t&&e.addChannels(t),e},edge:function(t){var e=this._getController("edgeMapper");return t&&e.addChannels(t),e},group:function(t){var e=this._getController("groupMapper");return t&&e.addChannels(t),this._getController("groupMapper")},guide:function(t){var e=this._getController("guideMapper");return t&&e.addChannels(t),this._getController("guideMapper")}},t.exports=i},function(t,e,n){var r=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return r._init(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getDefaultCfg=function(){return{graph:null,auto:!0,processer:null}},e.prototype._init=function(){var t=this,e=this.graph;e.on("afteritemdraw",function(t){var e=t.item,n=e.getKeyShape(),r=e.getModel();if(e.isEdge)r.lineWidth=n.attr("lineWidth");else if(e.isNode||e.isGroup){var i=e.getBBox();r.width=i.width,r.height=i.height}}),e.on("afterchange",function(n){var r=n.action;"once"===t.auto?"changeData"===r&&!e.destroyed&&t.layout():t.auto&&!e.destroyed&&t.layout()})},e.prototype.changeLayout=function(t){this.processer=t,this.layout()},e.prototype.layout=function(){var t=this.graph,e=this.processer;t.emit("beforelayout");var n=t.getNodes().filter(function(t){return t.isVisible()}).map(function(t){return t.getModel()}),r=t.getEdges().filter(function(t){return t.isVisible()}).map(function(t){return t.getModel()}),i=t.getGroups().filter(function(t){return t.isVisible()}).map(function(t){return t.getModel()});t._executeLayout(e,n,r,i),t.updateNodePosition(),t.emit("afterlayout")},e.prototype.getLayoutProcesser=function(){return this.processer},e}(n(71));t.exports=r},function(t,e,n){var r=n(11),i=n(363),o={CFG:{layout:void 0},INIT:"_initLayout"};o.AUGMENT={_initLayout:function(){var t=this.get("_controllers"),e=this._getLayoutCfg();e&&(t.layout=new i(r.mix({graph:this},e)))},_getLayoutCfg:function(){var t=this.get("layout");return r.isPlainObject(t)?t:r.isFunction(t)||r.isObject(t)?{processer:t}:null},layout:function(){return this._getController("layout").layout(),this},updateNodePosition:function(){var t=this.getNodes(),e=this.getGroups(),n=this.getEdges(),r=this.getGuides();return t.forEach(function(t){t.layoutUpdate()}),e.forEach(function(t){t.layoutUpdate()}),n.forEach(function(t){t.layoutUpdate()}),r.forEach(function(t){t.layoutUpdate()}),this.draw(),this},changeLayout:function(t){return this._getController("layout").changeLayout(t),this},getLayout:function(){return this._getController("layout").getLayoutProcesser()}},t.exports=o},function(t,e,n){var r=n(11),i=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i={type:"guide",isGuide:!0,zIndex:4};return r.mix(i,n),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(n(97));t.exports=i},function(t,e,n){var r=n(11),i=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i={type:"group",isNode:!1,isGroup:!0,zIndex:1};return r.mix(i,n),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._afterDraw=function(){this.getModel().collapsed&&this.deepEach(function(t){t.hide()}),t.prototype._afterDraw.call(this)},e.prototype.updatePosition=function(){},e.prototype._shouldDraw=function(){return!0},e.prototype.getCrossEdges=function(){var t=[],e=this.getInnerEdges();this.deepEach(function(e){t.push(e.id)});var n=e.filter(function(e){var n=e.getModel();return-1===t.indexOf(n.source)||-1===t.indexOf(n.target)});return r.uniq(n)},e.prototype.getInnerEdges=function(){var t=[];return this.deepEach(function(e){e.getEdges().forEach(function(e){t.push(e)})}),r.uniq(t)},e.prototype.getChildrenBBox=function(){var t=this.getChildren().map(function(t){return t.getGraphicGroup()});return r.getChildrenBBox(t)},e}(n(145));t.exports=i},function(t,e,n){var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};var i=n(11),o=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r={type:"edge",isEdge:!0,zIndex:2};return i.mix(r,n),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._beforeDraw=function(){var e=this.model,n=this.itemMap;i.isObject(e.source)?this.source=e.source:this.source=n[e.source],i.isObject(e.target)?this.target=e.target:this.target=n[e.target],t.prototype._beforeDraw.call(this)},e.prototype._afterDraw=function(){this.linkedItemVisible()||this.hide(),this._addArrow(),t.prototype._afterDraw.call(this)},e.prototype._addArrow=function(){var t=this.model,e=this.keyShape,n=this.shapeObj,r=e.attr("endArrow"),i=e.attr("startArrow"),o=t.endArrow||r,a=t.startArrow||i;i&&e.attr("startArrow",!1),r&&e.attr("endArrow",!1),o&&this._drawArrow(n.endArrow,"end"),a&&this._drawArrow(n.startArrow,"start")},e.prototype._drawArrow=function(t,e){var n=t.path,o=t.dindent,a=t.tangent,s=t.ratio,u=t.style;a=a(this),o=o(this),n=n(this),u=u(this),s=s();var c=this.group,h=this.keyShape,l=h.getPoint(s);if(l){var f=i.cloneDeep(h.attr("path")),d=c.addShape("marker",{attrs:r({symbol:function(){return n}},u)}),p=a[1][0]-a[0][0],g=a[1][1]-a[0][1],v=o/Math.sqrt(p*p+g*g),m=[-p*v,-g*v],y=0,x=Math.atan(p/g);if(0===g&&p<0?y=Math.PI:p>0&&g>0?y=Math.PI/2-x:p<0&&g<0?y=-Math.PI/2-x:p>=0&&g<0?y=-x-Math.PI/2:p<=0&&g>0&&(y=Math.PI/2-x),d.rotate(y),d.translate(l.x,l.y),"end"===e){var b=f[f.length-1];b[b.length-1]=m[1]+l.y,b[b.length-2]=m[0]+l.x}else{var _=f[0];_[_.length-1]=m[1]+l.y,_[_.length-2]=m[0]+l.x}h.attr("path",f)}},e.prototype._getControlPoints=function(){var t=this.model.controlPoints;return i.isArray(t)?t:[]},e.prototype._shouldDraw=function(){return t.prototype._shouldDraw.call(this)&&this.linkedItemVisible()},e.prototype._getPoint=function(t){if(t.linkable){var e=t.getBBox();return{x:e.centerX,y:e.centerY}}return{x:t.x,y:t.y}},e.prototype.linkedItemVisible=function(){var t=this.source,e=this.target;return i.isPlainObject(t)||i.isPlainObject(e)||t.isVisible()||e.isVisible()||t.collapsedParent!==e.collapsedParent},e.prototype.getSource=function(){var t=this.source,e=t.collapsedParent,n=this.itemMap;return e?n[e.id]:t},e.prototype.getTarget=function(){var t=this.target,e=t.collapsedParent,n=this.itemMap;return e?n[e.id]:t},e.prototype.getPoints=function(){var t=this.getSource(),e=this.getTarget(),n=this.model,r=this._getControlPoints(),o=this._getPoint(t),a=this._getPoint(e),s=[o].concat(r).concat([a]),u=s.length;if(t.linkable){var c=i.isNumber(this.model.sourceAnchor)&&t.id===n.source?this.model.sourceAnchor:s[1],h=t.getLinkPoints(c);s[0]=h[0]}if(e.linkable){var l=i.isNumber(this.model.targetAnchor)&&e.id===n.target?this.model.targetAnchor:s[u-2],f=e.getLinkPoints(l);s[u-1]=f[0]}return s},e}(n(97));t.exports=o},function(t,e,n){t.exports={Node:n(145),Edge:n(367),Group:n(366),Guide:n(365)}},function(t,e,n){var r=n(11),i=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this)),o=i.getDefaultCfg();return i._cfg=r.mix({},o,n),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getDefaultCfg=function(){return{}},e.prototype.get=function(t){return this._cfg[t]},e.prototype.set=function(t,e){this._cfg[t]=e},e.prototype.destroy=function(){this._cfg={},this.removeAllListeners(),this.destroyed=!0},e}(n(178));t.exports=i},function(t,e,n){var r=n(21),i=n(11);!function(t,e,n){var o=function t(e){t.superclass.constructor.call(this,e)},a=function t(e){t.superclass.constructor.call(this,e)};i.extend(o,r.canvas[e]),i.extend(a,r.svg[e]),i.augment(o,n),i.augment(a,n),r.canvas[t]=o,r.svg[t]=a}("RootGroup","Group",{drawInner:function(t){var e=this;this.deepEach(function(t){var n=t.get("freezePoint"),r=e.get("freezable"),i=e.getMatrix()[0];!1!==r&&t.isShape&&n&&t.get("visible")&&(t.initTransform(),t.transform([["t",-n.x,-n.y],["s",1/i,1/i],["t",n.x,n.y]]))}),this.constructor.superclass.drawInner.call(this,t)}})},function(t,e,n){var r=n(11),i=n(21),o=function(){};r.augment(o,{getAttrs:function(){var t=this,e=this.get("attrs"),n={};return r.each(e,function(e,r){n[r]=t.attr(r)}),n},hasClass:function(t){var e=this.get("class");return!(!e||-1===e.indexOf(t))}}),r.mixin(i.canvas.Shape,[o]),r.mixin(i.svg.Shape,[o]),t.exports=o},function(t,e,n){var r=n(21),i=n(11),o=function(){};i.augment(o,{findByClass:function(t){var e=[];return this.deepEach(function(n){n.hasClass(t)&&e.push(n)}),e},hasClass:function(t){var e=this.get("class");return!(!e||-1===e.indexOf(t))},deepEach:function(t,e){i.traverseTree(this,t,function(t){return t.get("children")},e)},sort:function(){var t=this.get("children");this.set("children",i.radixSort(t,function(t){return t.get("zIndex")}))},sortBy:function(t){var e=this.get("children");this.set("children",i.radixSort(e,t))},clear:function(t){var e=this.get("children");for(t=!1!==t;0!==e.length;)e[e.length-1].remove(t);return this}}),i.mixin(r.canvas.Group,[o]),i.mixin(r.svg.Group,[o]),t.exports=o},function(t,e,n){var r=n(11),i=n(21),o=function(){};r.augment(o,{beforeDraw:function(){var t=this.get("context"),e=this.get("el");this.emit("beforedraw"),t&&t.clearRect(0,0,e.width,e.height)}}),r.mixin(i.canvas.Canvas,[o]),r.mixin(i.svg.Canvas,[o]),t.exports=o},function(t,e,n){n(48).registerGuide("common",{draw:function(){console.warn("do not have this guide, please register one")}})},function(t,e,n){t.exports={common:n(374)}},function(t,e,n){var r=n(48),i=n(11),o=n(38);r.registerGroup("common",{draw:function(t){return t.getModel().collapsed?this.drawCollapsed(t):this.drawExpanded(t)},getLabel:function(t){return t.getModel().label},drawLabel:function(t,e,n){var r=this.getLabel(t);if(r){var a=t.getGraphicGroup(),s=[8,8],u=i.mix(!0,{},o.labelStyle,{x:e+s[0],y:n+s[1],textAlign:"left",textBaseline:"top"});i.isObject(r)?i.mix(u,r):u.text=r,a.addShape("text",{attrs:u})}},drawKeyShape:function(t,e,n,r,a){var s=t.getModel(),u=t.getGraphicGroup(),c=i.mix({},o.groupStyle,s.style),h=i.getRectPath(e,n,r,a,c.radius);return u.addShape("path",{attrs:i.mix({},c,{path:h})})},drawExpanded:function(t){var e=t.getChildrenBBox(),n=e.minX-o.groupBackgroundPadding[3],r=e.minY-o.groupBackgroundPadding[0],i=e.maxX-e.minX+o.groupBackgroundPadding[3]+o.groupBackgroundPadding[1],a=e.maxY-e.minY+o.groupBackgroundPadding[0]+o.groupBackgroundPadding[2],s=this.drawKeyShape(t,n,r,i,a);return this.drawLabel(t,n,r),s},drawCollapsed:function(t){var e=t.getChildrenBBox(),n=e.minX-o.groupBackgroundPadding[3],r=e.minY-o.groupBackgroundPadding[0],i=this.drawKeyShape(t,n,r,184,40);return this.drawLabel(t,n,r),i},anchor:{intersectBox:"rect"}})},function(t,e,n){t.exports={common:n(376)}},function(t,e,n){var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(48),o=n(11),a=n(38),s={path:function(t){var e=t.getKeyShape().attr("lineWidth"),n=10*(e=e>3?e:3)/3,r=4*e/3,i=4*e;return[["M",-n,r],["L",0,0],["L",-n,-r],["A",i,i,0,0,1,-n,r],["Z"]]},dindent:function(t){var e=t.getKeyShape().attr("lineWidth");return 3.1*(e>3?e:3)},style:function(t){var e=t.getKeyShape().get("attrs");return{fillOpacity:e.strokeOpacity,fill:e.stroke}}};i.registerEdge("common",{draw:function(t){var e=this.drawKeyShape(t);return this.drawLabel(t,e),e},drawKeyShape:function(t){var e=t.getGraphicGroup(),n=this.getStyle(t),r=this.getPath(t);return e.addShape("path",{attrs:o.mix({},n,{path:r})})},getStyle:function(t){var e=t.getModel();return o.mix(!0,{},{stroke:e.color||"#A3B1BF",strokeOpacity:.92,lineAppendWidth:4,lineWidth:e.size||1},e.style)},getPath:function(t){var e=t.getPoints();return o.pointsToPolygon(e)},getLabel:function(t){return t.getModel().label},drawLabel:function(t,e){var n=this.getLabel(t),r=t.getGraphicGroup(),i=t.getModel();if(n){var s=e.getPoint(.5),u=o.mix(!0,{},a.labelStyle,s);o.isObject(n)?o.mix(u,n):u.text=n,n=r.addShape("text",{attrs:u});var c=o.toAllPadding([4,8]),h=n.getBBox(),l={fill:"white"},f=i.labelRectStyle?o.mix({},l,i.labelRectStyle):l;r.addShape("rect",{attrs:o.mix({},f,{x:h.minX-c[3],y:h.minY-c[0],width:h.maxX-h.minX+c[1]+c[3],height:h.maxY-h.minY+c[0]+c[2]})}),o.toFront(n)}},startArrow:r({},s,{tangent:function(t){return t.getKeyShape().getStartTangent()},ratio:function(){return 0}}),endArrow:r({},s,{tangent:function(t){return t.getKeyShape().getEndTangent()},ratio:function(){return 1}})})},function(t,e,n){t.exports={common:n(378)}},function(t,e,n){var r=n(48),i=n(11);r.registerNode("html",{getHtml:function(t){return t.getModel().html},cssSize:!0,draw:function(t){var e=i.createDOM('<div class="g6-html-node-container"></div>'),n=t.getGraphicGroup(),r=t.getModel(),o=this.getSize(t),a=this.getStyle(t),s=n.get("canvas").get("htmlElementContaniner"),u=this.cssSize,c=this.getHtml(t);c=c?i.createDOM(c):i.createDOM("<div></div>"),e.css({position:"absolute",padding:"0px",margin:"0px",visibility:"hidden"}),e.appendChild(c),u&&(s.appendChild(e),o[0]=e.width(),o[1]=e.height());var h=-o[0]/2,l=-o[1]/2,f=o[0],d=o[1],p=n.addShape("rect",{attrs:i.mix({},a,{x:h,y:l,width:f,height:d})});return n.addShape("html",{attrs:i.mix({x:h,y:l,width:f,height:d,html:e},r.style)}),p}})},function(t,e,n){var r=n(48),i=n(11),o=n(38);r.registerNode("common",{draw:function(t){var e=t.getGraphicGroup(),n=this.drawLabel(t),r=this.drawKeyShape(t);return n&&i.toFront(n,e),r},getSize:function(t){var e=t.getModel().size;return i.isArray(e)?e:i.isNumber(e)?[e,e]:[o.defaultNodeSize,o.defaultNodeSize]},getStyle:function(t){var e=t.getModel();return i.mix(!0,{lineWidth:1,fill:e.color||"#40a9ff",stroke:e.color||"#096dd9",fillOpacity:.92},e.style)},getLabel:function(t){return t.getModel().label},drawKeyShape:function(t){var e=t.getGraphicGroup(),n=this.getStyle(t),r=this.getPath(t);return e.addShape("path",{attrs:i.mix({},n,{path:r})})},drawLabel:function(t){var e=t.getGraphicGroup(),n=this.getLabel(t);if(!i.isNil(n)){var r=i.mix(!0,{},o.labelStyle,{x:0,y:0});return i.isObject(n)?i.mix(r,n):r.text=n,e.addShape("text",{class:"label",attrs:r})}},getPath:function(t){var e=this.getSize(t);return i.getEllipsePath(0,0,e[0]/2,e[1]/2)}})},function(t,e,n){t.exports={common:n(381),html:n(380)}},function(t,e,n){var r=n(38);t.exports={scaleIn:function(t,e,n,i,o){i=i||e,o=o||n,t.transform([["t",-i,-o],["s",.01,.01],["t",e,n]]),t&&!t.get("destroyed")&&t.animate({transform:[["t",-e,-n],["s",100,100],["t",i,o]]},r.enterDuration,r.enterEasing)},scaleOut:function(t,e,n,i,o){i=i||e,o=o||n,t&&!t.get("destroyed")&&t.animate({transform:[["t",-i,-o],["s",.01,.01],["t",e,n]]},r.leaveDuration,r.leaveEasing,function(){t.remove()})}}},function(t,e,n){var r=n(176),i=n(46),o={getNineBoxPosition:function(t,e,n,r,i){var o={};switch(t){case"tl":o.y=e.x+i[0],o.x=e.y+i[3];break;case"lc":o.y=(e.height-r)/2,o.x=i[3];break;case"bl":o.y=e.height-r-i[2],o.x=i[3];break;case"cc":o.y=(e.height-r)/2,o.x=(e.width-n)/2;break;case"tc":o.y=i[0],o.x=(e.width-n)/2;break;case"tr":o.y=i[0],o.x=e.width-n-i[1];break;case"rc":o.y=(e.height-r)/2,o.x=e.width-n-i[1];break;case"br":o.y=e.height-r-i[2],o.x=e.width-n-i[1];break;case"bc":o.y=e.height-r-i[2],o.x=(e.width-n)/2;break;default:o.y=e.x+i[0],o.x=e.y+i[3]}return o.x+=e.x,o.y+=e.y,o},getTotalBBox:function(t){var e=1/0,n=-1/0,r=1/0,i=-1/0;return t.forEach(function(t){t.minX<e&&(e=t.minX),t.maxX>n&&(n=t.maxX),t.minY<r&&(r=t.minY),t.maxY>i&&(i=t.maxY)}),{minX:e,minY:r,maxX:n,maxY:i,width:n-e,height:i-r}},getChildrenBBox:function(t){var e=1/0,n=-1/0,r=1/0,a=-1/0;i.each(t,function(t){var i=t.isGroup?o.getChildrenBBox(t.get("children")):t.getBBox();if(!i)return!0;var s=[i.minX,i.minY,1],u=[i.minX,i.maxY,1],c=[i.maxX,i.minY,1],h=[i.maxX,i.maxY,1];t.apply(s),t.apply(u),t.apply(c),t.apply(h);var l=Math.min(s[0],u[0],c[0],h[0]),f=Math.max(s[0],u[0],c[0],h[0]),d=Math.min(s[1],u[1],c[1],h[1]),p=Math.max(s[1],u[1],c[1],h[1]);l<e&&(e=l),f>n&&(n=f),d<r&&(r=d),p>a&&(a=p)});var s={minX:e,minY:r,maxX:n,maxY:a};return s.x=s.minX,s.y=s.minY,s.width=s.maxX-s.minX,s.height=s.maxY-s.minY,s.centerX=(s.minX+s.maxX)/2,s.centerY=(s.minY+s.maxY)/2,s},getBBox:function(t,e){var n=t.getBBox(),i={x:n.minX,y:n.minY},o={x:n.maxX,y:n.maxY},a=void 0;if(e.isGroup){for(a=t;a!==e;){var s=a.getMatrix();i=r.applyMatrix(i,s),o=r.applyMatrix(o,s),a=a.getParent()}var u=a.getMatrix();i=r.applyMatrix(i,u),o=r.applyMatrix(o,u)}else i=r.applyMatrix(i,e),o=r.applyMatrix(o,e);return{minX:i.x,minY:i.y,maxX:o.x,maxY:o.y}},toBack:function(t,e){!e&&(e=t.getParent());var n=e.get("children");i.Array.remove(n,t),n.unshift(t)},toFront:function(t,e){!e&&(e=t.getParent());var n=e.get("children");i.Array.remove(n,t),n.push(t)}};t.exports=o},function(t,e,n){var r=n(46),i=n(149);t.exports={isNode:function(t){return t&&r.isObject(t)&&"node"===t.type},isEdge:function(t){return t&&r.isObject(t)&&"edge"===t.type},isGroup:function(t){return t&&r.isObject(t)&&"group"===t.type},graph2Canvas:function(t){var e=t=r.mix({graph:null,width:null,height:null,canvas:null,minMaxZoom:1/0,minMinZoom:0,pixelRatio:2,beforeTransform:function(){},afterTransform:function(){}},t),n=e.graph,o=e.width,a=e.height,s=e.canvas,u=e.minMaxZoom,c=e.minMinZoom,h=e.pixelRatio,l=e.beforeTransform,f=e.afterTransform,d=n.getCanvas(),p=void 0;if(!s){var g=i.createDOM("<canvas></canvas>");p=h/d.get("pixelRatio"),d.scale(p,p),s=new(n.getConstructor("Canvas"))({containerDOM:g,width:o*p,height:a*p})}var v=s.get("context"),m=d.get("context"),y=n.get("width"),x=n.get("height"),b=r.cloneDeep(n.getMatrix()),_=n.get("maxZoom"),w=n.get("minZoom"),S=n.getRootGroup(),M=n._events;return S.setSilent("freezable",!1),n.set("maxZoom",u),n.set("minZoom",c),n.set("width",o),n.set("height",a),n._events=[],n.getItems().length>0&&(l(n),d.set("context",v),n.autoZoom(),s.matrix=r.cloneDeep(n.getMatrix())),d.set("context",v),d.beforeDraw(),d.constructor.superclass.draw.call(d,v),S.setSilent("freezable",!0),n.set("width",y),n.set("height",x),n.set("maxZoom",_),n.set("minZoom",w),n.updateMatrix(b),p&&(f(n),d.scale(1/p,1/p)),n._events=M,d.set("context",m),d.draw(),s.get("el")}}},function(t,e,n){var r=n(21),i={};n(46).mix(i,r.PathUtil,{getRectPath:r.PathUtil.rectPath,pointsToPolygon:function(t){for(var e=[["M",t[0].x,t[0].y]],n=1;n<t.length;n++){var r=t[n];e.push(["L",r.x,r.y])}return e},getEllipsePath:function(t,e,n,r){return[["M",t,e-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]]}}),t.exports=i},function(t,e){t.exports=function(){}},function(t,e,n){var r=n(161),i=n(387),o=n(84),a=r&&1/o(new r([,-0]))[1]==1/0?function(t){return new r(t)}:i;t.exports=a},function(t,e){t.exports=function(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}},function(t,e,n){var r=n(172);t.exports=function(t,e){return!(null==t||!t.length)&&r(t,e,0)>-1}},function(t,e,n){var r=n(157),i=n(390),o=n(389),a=n(156),s=n(388),u=n(84),c=200;t.exports=function(t,e,n){var h=-1,l=i,f=t.length,d=!0,p=[],g=p;if(n)d=!1,l=o;else if(f>=c){var v=e?null:s(t);if(v)return u(v);d=!1,l=a,g=new r}else g=e?[]:p;t:for(;++h<f;){var m=t[h],y=e?e(m):m;if(m=n||0!==m?m:0,d&&y==y){for(var x=g.length;x--;)if(g[x]===y)continue t;e&&g.push(y),p.push(m)}else l(g,y,n)||(g!==p&&g.push(y),p.push(m))}return p}},function(t,e,n){var r=n(391);t.exports=function(t){return t&&t.length?r(t):[]}},function(t,e,n){var r=n(24);t.exports=function(){return r.Date.now()}},function(t,e,n){var r=n(150),i=n(22),o="Expected a function";t.exports=function(t,e,n){var a=!0,s=!0;if("function"!=typeof t)throw new TypeError(o);return i(n)&&(a="leading"in n?!!n.leading:a,s="trailing"in n?!!n.trailing:s),r(t,e,{leading:a,maxWait:e,trailing:s})}},function(t,e,n){var r=n(152);t.exports=function(t){return function(e){return r(e,t)}}},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,n){var r=n(396),i=n(395),o=n(99),a=n(62);t.exports=function(t){return o(t)?r(a(t)):i(t)}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,n){var r=n(398),i=n(197);t.exports=function(t,e){return null!=t&&i(t,e,r)}},function(t,e,n){var r=n(108),i="Expected a function";function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(i);var n=function n(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(o.Cache||r),n}o.Cache=r,t.exports=o},function(t,e,n){var r=n(400),i=500;t.exports=function(t){var e=r(t,function(t){return n.size===i&&n.clear(),t}),n=e.cache;return e}},function(t,e,n){var r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,o=n(401)(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(r,function(t,n,r,o){e.push(r?o.replace(i,"$1"):n||t)}),e});t.exports=o},function(t,e,n){var r=n(159),i=n(153),o=n(399),a=n(99),s=n(155),u=n(154),c=n(62),h=1,l=2;t.exports=function(t,e){return a(t)&&s(e)?u(c(t),e):function(n){var a=i(n,t);return void 0===a&&a===e?o(n,t):r(e,a,h|l)}}},function(t,e,n){var r=n(155),i=n(53);t.exports=function(t){for(var e=i(t),n=e.length;n--;){var o=e[n],a=t[o];e[n]=[o,a,r(a)]}return e}},function(t,e,n){var r=n(163),i=1,o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,a,s,u){var c=n&i,h=r(t),l=h.length;if(l!=r(e).length&&!c)return!1;for(var f=l;f--;){var d=h[f];if(!(c?d in e:o.call(e,d)))return!1}var p=u.get(t);if(p&&u.get(e))return p==e;var g=!0;u.set(t,e),u.set(e,t);for(var v=c;++f<l;){var m=t[d=h[f]],y=e[d];if(a)var x=c?a(y,m,d,e,t,u):a(m,y,d,t,e,u);if(!(void 0===x?m===y||s(m,y,n,a,u):x)){g=!1;break}v||(v="constructor"==d)}if(g&&!v){var b=t.constructor,_=e.constructor;b!=_&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _)&&(g=!1)}return u.delete(t),u.delete(e),g}},function(t,e,n){var r=n(54),i=n(160),o=n(74),a=n(158),s=n(198),u=n(84),c=1,h=2,l="[object Boolean]",f="[object Date]",d="[object Error]",p="[object Map]",g="[object Number]",v="[object RegExp]",m="[object Set]",y="[object String]",x="[object Symbol]",b="[object ArrayBuffer]",_="[object DataView]",w=r?r.prototype:void 0,S=w?w.valueOf:void 0;t.exports=function(t,e,n,r,w,M,A){switch(n){case _:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case b:return!(t.byteLength!=e.byteLength||!M(new i(t),new i(e)));case l:case f:case g:return o(+t,+e);case d:return t.name==e.name&&t.message==e.message;case v:case y:return t==e+"";case p:var P=s;case m:var E=r&c;if(P||(P=u),t.size!=e.size&&!E)return!1;var O=A.get(t);if(O)return O==e;r|=h,A.set(t,e);var C=a(P(t),P(e),r,w,M,A);return A.delete(t),C;case x:if(S)return S.call(t)==S.call(e)}return!1}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){var n="__lodash_hash_undefined__";t.exports=function(t){return this.__data__.set(t,n),this}},function(t,e,n){var r=n(86),i=n(158),o=n(406),a=n(405),s=n(63),u=n(23),c=n(85),h=n(126),l=1,f="[object Arguments]",d="[object Array]",p="[object Object]",g=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,v,m,y){var x=u(t),b=u(e),_=x?d:s(t),w=b?d:s(e),S=(_=_==f?p:_)==p,M=(w=w==f?p:w)==p,A=_==w;if(A&&c(t)){if(!c(e))return!1;x=!0,S=!1}if(A&&!S)return y||(y=new r),x||h(t)?i(t,e,n,v,m,y):o(t,e,_,n,v,m,y);if(!(n&l)){var P=S&&g.call(t,"__wrapped__"),E=M&&g.call(e,"__wrapped__");if(P||E){var O=P?t.value():t,C=E?e.value():e;return y||(y=new r),m(O,C,n,v,y)}}return!!A&&(y||(y=new r),a(t,e,n,v,m,y))}},function(t,e,n){var r=n(86),i=n(159),o=1,a=2;t.exports=function(t,e,n,s){var u=n.length,c=u,h=!s;if(null==t)return!c;for(t=Object(t);u--;){var l=n[u];if(h&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++u<c;){var f=(l=n[u])[0],d=t[f],p=l[1];if(h&&l[2]){if(void 0===d&&!(f in t))return!1}else{var g=new r;if(s)var v=s(d,p,f,t,e,g);if(!(void 0===v?i(p,d,o|a,s,g):v))return!1}}return!0}},function(t,e,n){var r=n(411),i=n(404),o=n(154);t.exports=function(t){var e=i(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},function(t,e,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(412),o=n(403),a=n(151),s=n(23),u=n(397);t.exports=function(t){return"function"==typeof t?t:null==t?a:"object"==(void 0===t?"undefined":r(t))?s(t)?o(t[0],t[1]):i(t):u(t)}},function(t,e,n){var r=n(64);t.exports=function(t,e){return function(n,i){if(null==n)return n;if(!r(n))return t(n,i);for(var o=n.length,a=e?o:-1,s=Object(n);(e?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},function(t,e){t.exports=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}},function(t,e,n){var r=n(199),i=n(53);t.exports=function(t,e){return t&&r(t,e,i)}},function(t,e,n){var r=n(416),i=n(414)(r);t.exports=i},function(t,e,n){var r=n(417);t.exports=function(t,e){var n=[];return r(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}},function(t,e,n){var r=n(167),i=n(418),o=n(413),a=n(23);t.exports=function(t,e){return(a(t)?r:i)(t,o(e,3))}},function(t,e,n){var r=n(171),i=n(110),o=n(112),a=Math.min;t.exports=function(t){var e=Math[t];return function(t,n){if(t=i(t),n=null==n?0:a(r(n),292)){var s=(o(t)+"e").split("e"),u=e(s[0]+"e"+(+s[1]+n));return+((s=(o(u)+"e").split("e"))[0]+"e"+(+s[1]-n))}return e(t)}}},function(t,e,n){var r=n(420)("round");t.exports=r},function(t,e,n){var r=n(63),i=n(29),o="[object Set]";t.exports=function(t){return i(t)&&r(t)==o}},function(t,e,n){var r=n(422),i=n(105),o=n(104),a=o&&o.isSet,s=a?i(a):r;t.exports=s},function(t,e,n){var r=n(63),i=n(29),o="[object Map]";t.exports=function(t){return i(t)&&r(t)==o}},function(t,e,n){var r=n(424),i=n(105),o=n(104),a=o&&o.isMap,s=a?i(a):r;t.exports=s},function(t,e,n){var r=n(22),i=Object.create,o=function(){function t(){}return function(e){if(!r(e))return{};if(i)return i(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=o},function(t,e,n){var r=n(54),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;t.exports=function(t){return o?Object(o.call(t)):{}}},function(t,e){var n=/\w*$/;t.exports=function(t){var e=new t.constructor(t.source,n.exec(t));return e.lastIndex=t.lastIndex,e}},function(t,e,n){var r=n(100);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},function(t,e,n){var r=n(100),i=n(429),o=n(428),a=n(427),s=n(201),u="[object Boolean]",c="[object Date]",h="[object Map]",l="[object Number]",f="[object RegExp]",d="[object Set]",p="[object String]",g="[object Symbol]",v="[object ArrayBuffer]",m="[object DataView]",y="[object Float32Array]",x="[object Float64Array]",b="[object Int8Array]",_="[object Int16Array]",w="[object Int32Array]",S="[object Uint8Array]",M="[object Uint8ClampedArray]",A="[object Uint16Array]",P="[object Uint32Array]";t.exports=function(t,e,n){var E=t.constructor;switch(e){case v:return r(t);case u:case c:return new E(+t);case m:return i(t,n);case y:case x:case b:case _:case w:case S:case M:case A:case P:return s(t,n);case h:return new E;case l:case p:return new E(t);case f:return o(t);case d:return new E;case g:return a(t)}}},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},function(t,e,n){var r=n(39)(n(24),"WeakMap");t.exports=r},function(t,e,n){var r=n(39)(n(24),"Promise");t.exports=r},function(t,e,n){var r=n(39)(n(24),"DataView");t.exports=r},function(t,e,n){var r=n(162),i=n(165),o=n(102);t.exports=function(t){return r(t,o,i)}},function(t,e,n){var r=n(65),i=n(165);t.exports=function(t,e){return r(t,i(t),e)}},function(t,e,n){var r=n(65),i=n(101);t.exports=function(t,e){return r(t,i(t),e)}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},function(t,e,n){var r=n(22),i=n(103),o=n(438),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=i(t),n=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&n.push(s);return n}},function(t,e,n){var r=n(65),i=n(102);t.exports=function(t,e){return t&&r(e,i(e),t)}},function(t,e,n){var r=n(173)(Object.keys,Object);t.exports=r},function(t,e,n){var r=n(103),i=n(441),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e,n){var r=n(44),i=n(106),o=n(29),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!a[r(t)]}},function(t,e){t.exports=function(){return!1}},function(t,e,n){var r=n(44),i=n(29),o="[object Arguments]";t.exports=function(t){return i(t)&&r(t)==o}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e,n){var r=n(65),i=n(53);t.exports=function(t,e){return t&&r(e,i(e),t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},function(t,e,n){var r=n(72);t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},function(t,e,n){var r=n(72);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(72);t.exports=function(t){return r(this,t).get(t)}},function(t,e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){var e=void 0===t?"undefined":n(t);return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(72);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e,n){var r=n(73),i="__lodash_hash_undefined__";t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?i:e,this}},function(t,e,n){var r=n(73),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},function(t,e,n){var r=n(73),i="__lodash_hash_undefined__",o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return n===i?void 0:n}return o.call(e,t)?e[t]:void 0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(73);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e,n){var r=n(458),i=n(457),o=n(456),a=n(455),s=n(454);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(459),i=n(76),o=n(109);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var r=n(24)["__core-js_shared__"];t.exports=r},function(t,e,n){var r=n(462),i=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=function(t){return!!i&&i in t}},function(t,e,n){var r=n(130),i=n(463),o=n(22),a=n(170),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,h=u.toString,l=c.hasOwnProperty,f=RegExp("^"+h.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?f:s).test(a(t))}},function(t,e,n){var r=n(76),i=n(109),o=n(108),a=200;t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!i||s.length<a-1)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(t,e),this.size=n.size,this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e,n){var r=n(76);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e,n){var r=n(75);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},function(t,e,n){var r=n(75);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(75);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(75),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0||(n==e.length-1?e.pop():i.call(e,n,1),--this.size,0))}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(86),i=n(448),o=n(129),a=n(447),s=n(440),u=n(202),c=n(168),h=n(437),l=n(436),f=n(163),d=n(435),p=n(63),g=n(431),v=n(430),m=n(200),y=n(23),x=n(85),b=n(425),_=n(22),w=n(423),S=n(53),M=1,A=2,P=4,E="[object Arguments]",O="[object Function]",C="[object GeneratorFunction]",k="[object Object]",I={};I[E]=I["[object Array]"]=I["[object ArrayBuffer]"]=I["[object DataView]"]=I["[object Boolean]"]=I["[object Date]"]=I["[object Float32Array]"]=I["[object Float64Array]"]=I["[object Int8Array]"]=I["[object Int16Array]"]=I["[object Int32Array]"]=I["[object Map]"]=I["[object Number]"]=I[k]=I["[object RegExp]"]=I["[object Set]"]=I["[object String]"]=I["[object Symbol]"]=I["[object Uint8Array]"]=I["[object Uint8ClampedArray]"]=I["[object Uint16Array]"]=I["[object Uint32Array]"]=!0,I["[object Error]"]=I[O]=I["[object WeakMap]"]=!1,t.exports=function t(e,n,j,T,B,F){var L,D=n&M,N=n&A,Y=n&P;if(j&&(L=B?j(e,T,B,F):j(e)),void 0!==L)return L;if(!_(e))return e;var G=y(e);if(G){if(L=g(e),!D)return c(e,L)}else{var X=p(e),R=X==O||X==C;if(x(e))return u(e,D);if(X==k||X==E||R&&!B){if(L=N||R?{}:m(e),!D)return N?l(e,s(L,e)):h(e,a(L,e))}else{if(!I[X])return B?e:{};L=v(e,X,D)}}F||(F=new r);var z=F.get(e);if(z)return z;if(F.set(e,L),w(e))return e.forEach(function(r){L.add(t(r,n,j,r,e,F))}),L;if(b(e))return e.forEach(function(r,i){L.set(i,t(r,n,j,i,e,F))}),L;var H=Y?N?d:f:N?keysIn:S,W=G?void 0:H(e);return i(W||e,function(r,i){W&&(r=e[i=r]),o(L,i,t(r,n,j,i,e,F))}),L}},function(t,e,n){var r=n(475),i=1,o=4;t.exports=function(t){return r(t,i|o)}},function(t,e,n){var r=n(110),i=1/0,o=1.7976931348623157e308;t.exports=function(t){return t?(t=r(t))===i||t===-i?(t<0?-1:1)*o:t==t?t:0:0===t?t:0}},function(t,e){t.exports=function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}},function(t,e){t.exports=function(t){return t!=t}},function(t,e){t.exports=function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}},function(t,e,n){var r=n(172),i=n(171),o=Math.max;t.exports=function(t,e,n){var a=null==t?0:t.length;if(!a)return-1;var s=null==n?0:i(n);return s<0&&(s=o(a+s,0)),r(t,e,s)}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var r=n(54),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(t){}var i=a.call(t);return r&&(e?t[s]=n:delete t[s]),i}},function(t,e,n){var r=n(54),i=n(205),o=n(23),a=n(77),s=1/0,u=r?r.prototype:void 0,c=u?u.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return i(e,t)+"";if(a(e))return c?c.call(e):"";var n=e+"";return"0"==n&&1/e==-s?"-0":n}},function(t,e){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",u="(?:"+r+"|"+i+")"+"?",c="[\\ufe0e\\ufe0f]?"+u+("(?:\\u200d(?:"+[o,a,s].join("|")+")[\\ufe0e\\ufe0f]?"+u+")*"),h="(?:"+[o+r+"?",r,a,s,n].join("|")+")",l=RegExp(i+"(?="+i+")|"+h+c,"g");t.exports=function(t){return t.match(l)||[]}},function(t,e){t.exports=function(t){return t.split("")}},function(t,e){t.exports=function(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}},function(t,e,n){var r=n(487);t.exports=function(t,e,n){var i=t.length;return n=void 0===n?i:n,!e&&n>=i?t:r(t,e,n)}},function(t,e,n){var r=n(488),i=n(175),o=n(206),a=n(112);t.exports=function(t){return function(e){e=a(e);var n=i(e)?o(e):void 0,s=n?n[0]:e.charAt(0),u=n?r(n,1).join(""):e.slice(1);return s[t]()+u}}},function(t,e,n){var r=n(489)("toLowerCase");t.exports=r},function(t,e,n){var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var i=n(179),o=n(30),a=n(68),s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i),r(e,[{key:"getDefaultCfg",value:function(){return{_components:[],_command:{zoomDelta:.1,queue:[],current:0,clipboard:[]}}}},{key:"_getComponentsBy",value:function(t){return this.get("_components").filter(t)}},{key:"_bindCommands",value:function(t){var e=this;o.each(t,function(t){var n=t.dataset,r=n.command;a[r]?o.addEventListener(t,"click",function(){e.getCurrentPage().focusGraphWrapper(),e.executeCommand(r,n)}):console.warn("请设置有效的命令！")})}},{key:"getCommands",value:function(){return this.get("_command").queue}},{key:"getCurrentCommand",value:function(){var t=this.get("_command");return t.queue[t.current-1]}},{key:"executeCommand",value:function(t,e){o.isString(t)?a.execute(t,this,e):a.execute("common",this,{method:t},e)}},{key:"commandEnable",value:function(t){return a.enable(t,this)}},{key:"setCommandDOMenable",value:function(){var t=this,e=this.getComponentsByType("toolbar"),n=this.getComponentsByType("contextmenu"),r=[];e.forEach(function(t){o.each(t.getCommandDoms(),function(t){r.push(t)})}),n.forEach(function(t){o.each(t.getCommandDoms(),function(t){r.push(t)})}),o.each(r,function(e){var n=e.dataset.command;a.enable(n,t)?e.classList.remove("disable"):e.classList.add("disable")})}},{key:"_onPageStatusChange",value:function(){this.setCommandDOMenable()}},{key:"_beforeAddMinimap",value:function(t){var e=this.getComponentsByType("page");0!==e.length&&e.forEach(function(e){t.bindPage(e)})}},{key:"_afterAddContextmenu",value:function(){this.getCurrentPage()&&this.setCommandDOMenable()}},{key:"_afterAddPage",value:function(t){var e=this,n=this.getComponentsByType("minimap");this.setCommandDOMenable(),n.forEach(function(e){e.bindPage(t)}),t.on("statuschange",function(t){e._onPageStatusChange(t)}),t.on("mousedown",function(){e.getComponentsByType("contextmenu").forEach(function(t){t.hide()})}),t.on("contextmenu",function(n){var r=e.getComponentsByType("contextmenu"),i=t.getGraph().getCanvas().get("el"),a=o.getBoundingClientRect(i),s={x:n.x,y:n.y},u=n.item;u&&!u.isSelected&&(t.clearSelected(),t.setSelected(n.item,!0)),e.set("contextmenuPoint",s),n.domEvent.preventDefault(),r.forEach(function(t){t.show(),t.contextmenuPoint=s,t.move(a.left+n.domX,a.top+n.domY)})}),t.on("statuschange",function(t){var n=e.getComponentsByType("contextmenu"),r=e.getComponentsByType("detailpannel");n.forEach(function(e){e.switch(t.status)}),r.forEach(function(e){e.switch(t.status)})}),this._bindShortcut(t)}},{key:"_beforeAddToolbar",value:function(t){var e=t.getCommandDoms();this._bindCommands(e)}},{key:"_beforeAddContextmenu",value:function(t){var e=t.getCommandDoms();t.bindEvent(),this._bindCommands(e)}},{key:"_beforeAddItempannel",value:function(t){t.bindEvent()}},{key:"getComponentsByType",value:function(t){return this._getComponentsBy(function(e){return e.type===t})}},{key:"getCurrentPage",value:function(){var t=this.getComponentsByType("page"),e=void 0;return t.every(function(t){return!t.isActived||(e=t,!1)}),e||(e=t[0]),e}},{key:"getComponents",value:function(){return this.get("_components")}},{key:"_shortcutEnable",value:function(t,e){for(var n=t.shortcutCodes,r=o.getKeyboradKey(e),i=!1,a=0;a<n.length;a++){var s=n[a];if(o.isArray(s)){for(var u=s.length,c=!0,h=0;h<u-1;h++)if(!e[s[h]]){c=!1;break}s[u-1]!==r&&s[u-1]!==o.lowerFirst(r)||!c||(i=!0)}else s===r&&(i=!0);if(i)break}return i}},{key:"_bindShortcut",value:function(t){var e=this,n=t.get("shortcut");t.getGraph().on("keydown",function(t){var r=e.getComponentsByType("contextmenu"),i=t.domEvent;r.forEach(function(t){t.hide()}),i.preventDefault();for(var o=a.list.filter(function(t){return t.shortcutCodes&&n[t.name]}),s=0;s<o.length;s++){var u=o[s];if(e._shortcutEnable(u,i))return e.executeCommand(u.name),!1}})}},{key:"add",value:function(t){var e=this.get("_components"),n=o.upperFirst(t.type);t.editor=this,this["_beforeAdd"+n]&&this["_beforeAdd"+n](t),e.push(t),this["_afterAdd"+n]&&this["_afterAdd"+n](t)}},{key:"destroy",value:function(){this.get("_components").forEach(function(t){t.destroy()})}}]),e}();t.exports=s}])});
//# sourceMappingURL=G6Editor.js.map